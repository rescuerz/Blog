
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Rescuerz's Blog">
      
      
      
      
        <link rel="prev" href="../%E5%93%88%E5%B8%8C/">
      
      
        <link rel="next" href="../../cldf/Digital%20Systems%20and%20Information/">
      
      
      <link rel="icon" href="../../../duck.bmp">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>数据结构基础 - Rescuerz's Blog</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="../../../css/card.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue-grey">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#algorithm-analysis" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Rescuerz&#39;s Blog" class="md-header__button md-logo" aria-label="Rescuerz's Blog" data-md-component="logo">
      
  <img src="../../../favicon1.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Rescuerz's Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              数据结构基础
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue-grey"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/rescuerz/Blog" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Rescuerz/Blog
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Computer Science

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cldf/Digital%20Systems%20and%20Information/" class="md-tabs__link">
          
  
    
  
  System

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="md-tabs__link">
          
  
    
  
  Machine Learning

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../miscellaneous/" class="md-tabs__link">
          
  
    
  
  Miscellaneous

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Rescuerz&#39;s Blog" class="md-nav__button md-logo" aria-label="Rescuerz's Blog" data-md-component="logo">
      
  <img src="../../../favicon1.png" alt="logo">

    </a>
    Rescuerz's Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rescuerz/Blog" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Rescuerz/Blog
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Computer Science
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    人工智能引论
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            人工智能引论
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    知识表达与推理
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            知识表达与推理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%9F%A5%E8%AF%86%E8%A1%A8%E8%BE%BE%E4%B8%8E%E6%8E%A8%E7%90%86/%E5%91%BD%E9%A2%98%E9%80%BB%E8%BE%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    命题逻辑
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%9F%A5%E8%AF%86%E8%A1%A8%E8%BE%BE%E4%B8%8E%E6%8E%A8%E7%90%86/%E8%B0%93%E8%AF%8D%E9%80%BB%E8%BE%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    谓词逻辑
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%9F%A5%E8%AF%86%E8%A1%A8%E8%BE%BE%E4%B8%8E%E6%8E%A8%E7%90%86/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E6%8E%A8%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    知识图谱推理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%9F%A5%E8%AF%86%E8%A1%A8%E8%BE%BE%E4%B8%8E%E6%8E%A8%E7%90%86/%E6%A6%82%E7%8E%87%E5%9B%BE%E6%8E%A8%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    概率图推理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%9F%A5%E8%AF%86%E8%A1%A8%E8%BE%BE%E4%B8%8E%E6%8E%A8%E7%90%86/%E5%9B%A0%E6%9E%9C%E6%8E%A8%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    因果推理
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    搜索探寻与问题求解
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            搜索探寻与问题求解
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%90%9C%E7%B4%A2%E6%8E%A2%E5%AF%BB%E4%B8%8E%E9%97%AE%E9%A2%98%E6%B1%82%E8%A7%A3/%E6%90%9C%E7%B4%A2%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    搜索基本概念
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%90%9C%E7%B4%A2%E6%8E%A2%E5%AF%BB%E4%B8%8E%E9%97%AE%E9%A2%98%E6%B1%82%E8%A7%A3/%E8%B4%AA%E5%A9%AA%E6%9C%80%E4%BD%B3%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    贪婪最佳优先搜索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%90%9C%E7%B4%A2%E6%8E%A2%E5%AF%BB%E4%B8%8E%E9%97%AE%E9%A2%98%E6%B1%82%E8%A7%A3/A-star%E6%90%9C%E7%B4%A2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A-star搜索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%90%9C%E7%B4%A2%E6%8E%A2%E5%AF%BB%E4%B8%8E%E9%97%AE%E9%A2%98%E6%B1%82%E8%A7%A3/Minimax%E6%90%9C%E7%B4%A2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Minimax搜索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%90%9C%E7%B4%A2%E6%8E%A2%E5%AF%BB%E4%B8%8E%E9%97%AE%E9%A2%98%E6%B1%82%E8%A7%A3/alpha-beta%E6%90%9C%E7%B4%A2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    alpha-beta搜索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%90%9C%E7%B4%A2%E6%8E%A2%E5%AF%BB%E4%B8%8E%E9%97%AE%E9%A2%98%E6%B1%82%E8%A7%A3/%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%A0%91%E6%90%9C%E7%B4%A2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    蒙特卡洛树搜索
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_2_3" id="__nav_2_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    机器学习
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_3">
            <span class="md-nav__icon md-icon"></span>
            机器学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基本概念
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    回归分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    决策树
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/LDA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LDA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/PCA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PCA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%89%B9%E5%BE%81%E4%BA%BA%E8%84%B8%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    特征人脸法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/k%E5%9D%87%E5%80%BC%E8%81%9A%E7%B1%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k均值聚类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    遗传算法
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_2_4" id="__nav_2_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    神经网络与深度学习
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_4">
            <span class="md-nav__icon md-icon"></span>
            神经网络与深度学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8F%82%E6%95%B0%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    神经网络参数优化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E6%AD%A3%E5%88%99%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    神经网络正则化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    卷积神经网络
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E5%BE%AA%E7%8E%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    循环神经网络
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B3%A8%E6%84%8F%E5%8A%9B%E6%9C%BA%E5%88%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    注意力机制
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_2_5" id="__nav_2_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    强化学习
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_5">
            <span class="md-nav__icon md-icon"></span>
            强化学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基本概念
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E5%86%B3%E7%AD%96%E8%BF%87%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    马尔可夫决策过程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E9%97%AE%E9%A2%98%E5%AE%9A%E4%B9%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    强化学习问题定义
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    强化学习方法
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_2_6" id="__nav_2_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    人工智能博弈
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_6">
            <span class="md-nav__icon md-icon"></span>
            人工智能博弈
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%8D%9A%E5%BC%88/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基本概念
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%8D%9A%E5%BC%88/%E7%BA%B3%E4%BB%80%E5%9D%87%E8%A1%A1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    纳什均衡
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%8D%9A%E5%BC%88/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E4%B8%8E%E5%8D%9A%E5%BC%88%E8%AE%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    人工智能与博弈论
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_2_7" id="__nav_2_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    人工智能伦理与安全
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_7">
            <span class="md-nav__icon md-icon"></span>
            人工智能伦理与安全
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E4%BC%A6%E7%90%86%E4%B8%8E%E5%AE%89%E5%85%A8/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E4%BC%A6%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    人工智能伦理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E4%BC%A6%E7%90%86%E4%B8%8E%E5%AE%89%E5%85%A8/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%8F%AF%E8%A7%A3%E9%87%8A%E6%80%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    人工智能可解释性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aid/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E4%BC%A6%E7%90%86%E4%B8%8E%E5%AE%89%E5%85%A8/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%A8%A1%E5%9E%8B%E5%AE%89%E5%85%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    人工智能模型安全
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    图像信息处理
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            图像信息处理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_3_1" id="__nav_2_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Basic concept and programming introduction
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            Basic concept and programming introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20concept%20and%20programming%20introduction/Basic%20principle%20of%20imaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic principle of imaging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20concept%20and%20programming%20introduction/Color%20space/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Color space
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20concept%20and%20programming%20introduction/Image%20format/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20concept%20and%20programming%20introduction/JPEG%28Joint%20Photographic%20Experts%20Group%29%20format/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JPEG(Joint Photographic Experts Group) format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20concept%20and%20programming%20introduction/TIFF%28Tagged%20Image%20File%20Format%29%20format/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TIFF(Tagged Image File Format) format
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" >
        
          
          <label class="md-nav__link" for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Binary Image and Morphological Operation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            Binary Image and Morphological Operation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Binary%20Image%20and%20Morphological%20Operation/Binary%20Image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Binary Image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Binary%20Image%20and%20Morphological%20Operation/Morphology/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Morphology
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3_3" id="__nav_2_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Basic operation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            Basic operation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20operation/Image%20grayscale%20transform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image grayscale transform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20operation/Geometric%20transform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Geometric transform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20operation/Interpolation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interpolation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20operation/Morph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Morph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20operation/Convolution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convolution
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20operation/Sparse%20Norm%20Filtering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sparse Norm Filtering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20operation/Guided%20Image%20Filtering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guided Image Filtering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20operation/Fourier%20Transform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fourier Transform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/Basic%20operation/Image%20feature/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image feature
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据结构基础
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            数据结构基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_1" >
        
          
          <label class="md-nav__link" for="__nav_2_4_1" id="__nav_2_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    算法分析基础
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_1">
            <span class="md-nav__icon md-icon"></span>
            算法分析基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    分析内容
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    渐进符号
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E5%9F%BA%E7%A1%80/%E5%85%B7%E4%BD%93%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    具体问题分析
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_2" >
        
          
          <label class="md-nav__link" for="__nav_2_4_2" id="__nav_2_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据结构
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_2">
            <span class="md-nav__icon md-icon"></span>
            数据结构
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%881/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    栈
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%98%9F%E5%88%97/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    队列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    树
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%EF%BC%88%E5%A0%86%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    优先队列(堆)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%B9%B6%E6%9F%A5%E9%9B%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    并查集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%9B%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8E%92%E5%BA%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%93%88%E5%B8%8C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    哈希
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    数据结构基础
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    数据结构基础
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 分析内容
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 渐进符号
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 渐进符号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.1 定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.2 运算规则
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 具体问题分析
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    System
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机逻辑设计基础
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            计算机逻辑设计基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Digital%20Systems%20and%20Information/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Digital Systems and Information
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2" >
        
          
          <label class="md-nav__link" for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Combinational Logic Circuits
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            Combinational Logic Circuits
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Combinational%20Logic%20Circuits/Gate%20Circuits%20and%20Boolean%20Equations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gate Circuits and Boolean Equations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Combinational%20Logic%20Circuits/Canonical%20Forms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Canonical Forms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Combinational%20Logic%20Circuits/Circuit%20Optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Circuit Optimization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Combinational%20Logic%20Circuits/Additional%20Gates%20and%20Circuits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional Gates and Circuits
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_3" >
        
          
          <label class="md-nav__link" for="__nav_3_1_3" id="__nav_3_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Combinational Logic Design
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            Combinational Logic Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Combinational%20Logic%20Design/Design%20Procedure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Procedure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Combinational%20Logic%20Design/Combinational%20Logic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Combinational Logic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Combinational%20Logic%20Design/Arithmetic%20Functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arithmetic Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Combinational%20Logic%20Design/Binary%20substraction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Binary Substraction
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_4" >
        
          
          <label class="md-nav__link" for="__nav_3_1_4" id="__nav_3_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sequential Circuit
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_4">
            <span class="md-nav__icon md-icon"></span>
            Sequential Circuit
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Sequential%20Circuit/Storage%20Elements%20and%20Sequential%20Circuit%20Analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage Elements and Sequential Circuit Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Sequential%20Circuit/Sequential%20Circuit%20Design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sequential Circuit Design
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_5" >
        
          
          <label class="md-nav__link" for="__nav_3_1_5" id="__nav_3_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Digital Hardware Implementation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_5">
            <span class="md-nav__icon md-icon"></span>
            Digital Hardware Implementation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Digital%20Hardware%20Implementation/Programmable%20Implementation%20Technologies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programmable Implementation Technologies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_6" >
        
          
          <label class="md-nav__link" for="__nav_3_1_6" id="__nav_3_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Registers and Register Transfers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_6">
            <span class="md-nav__icon md-icon"></span>
            Registers and Register Transfers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Registers%20and%20Register%20Transfers/Registers%2C%20Microoperations%20and%20Implementations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registers, Microoperations and Implementations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Registers%20and%20Register%20Transfers/Counters%2C%20register%20cells%2C%20buses%2C%20%26%20serial%20operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Counters, register cells, buses, & serial operations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_7" >
        
          
          <label class="md-nav__link" for="__nav_3_1_7" id="__nav_3_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Memory Basis
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_7">
            <span class="md-nav__icon md-icon"></span>
            Memory Basis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Memory%20Basis/Memory%20Definition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memory Definition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Memory%20Basis/Random%20Access%20Memory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Random Access Memory(RAM)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cldf/Memory%20Basis/Dynamic%20RAM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dynamic RAM(DRAM)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机系统概论
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            计算机系统概论
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/Welcome%20Aboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 1 Welcome Aboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/Bits%20and%20Data%20Types%20and%20Operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 2 Bits and Data Types and Operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/Digital%20Logic%20Structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 3 Digital Logic Structures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/The%20Von%20Neumann%20Model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 4 The Von Neumann Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/The%20LC-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 5 The LC-3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/Programming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 6 Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/Assembly%20Language/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 7 Assembly Language
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/Data%20Structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 8 Data Structures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/IO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 9 I/O
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/Calculator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 10 Calculator
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Machine Learning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Machine Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    动手学深度学习读书笔记
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            动手学深度学习读书笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_2" >
        
          
          <label class="md-nav__link" for="__nav_4_1_2" id="__nav_4_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    引言
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_2">
            <span class="md-nav__icon md-icon"></span>
            引言
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E5%BC%95%E8%A8%80/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基本概念
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E5%BC%95%E8%A8%80/%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    核心组件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E5%BC%95%E8%A8%80/%E5%AD%A6%E4%B9%A0%E9%97%AE%E9%A2%98%E5%88%86%E7%B1%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    学习问题分类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E5%BC%95%E8%A8%80/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    深度学习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3" >
        
          
          <label class="md-nav__link" for="__nav_4_1_3" id="__nav_4_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    线性神经网络
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_3">
            <span class="md-nav__icon md-icon"></span>
            线性神经网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线性回归
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线性模型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    损失函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/%E9%9A%8F%E6%9C%BA%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    随机梯度下降
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/softmax%E5%9B%9E%E5%BD%92/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    softmax回归
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_4" >
        
          
          <label class="md-nav__link" for="__nav_4_1_4" id="__nav_4_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    预备知识
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_4">
            <span class="md-nav__icon md-icon"></span>
            预备知识
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86/%E7%9F%A9%E9%98%B5%E5%BE%AE%E5%88%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    矩阵微分
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../machine%20learning/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86/%E8%87%AA%E5%8A%A8%E5%BE%AE%E5%88%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自动微分
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../miscellaneous/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Miscellaneous
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Miscellaneous
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../miscellaneous/verilog/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    verilog
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            verilog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../miscellaneous/verilog/%E6%A8%A1%E5%9D%97%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    模块基本概念
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../miscellaneous/verilog/%E6%A8%A1%E5%9D%97%E7%9A%84%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    模块的结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../miscellaneous/verilog/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%26%E5%B8%B8%E9%87%8F%E5%8F%98%E9%87%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据类型&常量变量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../miscellaneous/verilog/%E8%BF%90%E7%AE%97%E7%AC%A6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    运算符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../miscellaneous/verilog/%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    赋值语句
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../miscellaneous/verilog/%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    控制语句
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../miscellaneous/verilog/%E5%9D%97%E8%AF%AD%E5%8F%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    块语句
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../miscellaneous/verilog/%E7%BB%93%E6%9E%84%E8%AF%AD%E5%8F%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    结构语句
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 分析内容
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 渐进符号
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 渐进符号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.1 定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.2 运算规则
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 具体问题分析
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="algorithm-analysis">一.Algorithm Analysis<a class="headerlink" href="#algorithm-analysis" title="Permanent link">&para;</a></h1>
<p><img alt="image-20240114151206564" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205297.png" /></p>
<h2 id="11">1.1 分析内容<a class="headerlink" href="#11" title="Permanent link">&para;</a></h2>
<ul>
<li>运行时间：与机器、编译器有关</li>
<li>时间 &amp; 空间复杂度：与机器、编译器无关</li>
</ul>
<p>假设：</p>
<ul>
<li>指令按顺序执行</li>
<li>每条指令是简单的，只需要一个时间单位执行</li>
<li>数据规模是给定的，而空间是无限的</li>
</ul>
<p>通常我们需要分析$T_{avg}(N),T_{worst}(N), N $是输入规模（可以有多个输入）</p>
<h2 id="12">1.2 渐进符号<a class="headerlink" href="#12" title="Permanent link">&para;</a></h2>
<h3 id="121">1.2.1 定义<a class="headerlink" href="#121" title="Permanent link">&para;</a></h3>
<p><img alt="image-20230926084051210" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205613.png" /></p>
<h3 id="122">1.2.2 运算规则<a class="headerlink" href="#122" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>声明的赋值度： 无</p>
</li>
<li>
<p>每条赋值的复杂度：1</p>
</li>
<li>
<p>每条判断的复杂度：1</p>
</li>
<li>
<p>判断的分支：计算所有情况中复杂度较大者</p>
</li>
<li>
<p>返回return的复杂度：1</p>
</li>
<li>
<div class="arithmatex">\[
  \begin{aligned}
  &amp; T_1(N) = O(f(N)),T_2(N) = O(g(N))\\
  &amp; T_1(N) + T_2(N) = max(O(f(N)),O(g(N)))\\
  &amp; T_1(N) * T_2(N) = O(f(N) * g(N)) 
  \end{aligned}
  \]</div>
</li>
<li>
<p>若<span class="arithmatex">\(T(N)\)</span>是最高次数为k次的多项式，那么$ T(N) = \Theta((N^k))$</p>
</li>
<li>
<p>对于任意常数 k, 都有 <span class="arithmatex">\(log^kN = O(N)\)</span>，这说明对增长非常缓慢。</p>
</li>
<li>
<p>分析时的规则</p>
</li>
<li>
<p>for loop
    运行时间是循环内部语句的<strong>最长时间</strong>（包括 for 边界判断）乘循环的次数</p>
</li>
<li>嵌套 for loop
    运行时间是<strong>各个 for loop 的运行时间逐次相乘</strong></li>
<li>连续执行的语句
    相加</li>
<li>if else
    运行时间不会超过判断时间加上用时最多的语句块的时间</li>
</ul>
<p><img alt="image-20231119104849646" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205375.png" /></p>
<p>if中复杂度为N^3，注意N<em>2不是N平方，</em><em>else复杂度为N * N * N(当i到n的时候就不进去了，因此外循环按N算，答案为T)</em>*</p>
<p><strong><code>对于for循环从0到n，循环体中的内容执行n次，for语句的循环变量执行n+1次</code></strong></p>
<p><strong><code>故总执行次数 = n+1+n*(循环体中语句执行次数)</code></strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kt">void</span><span class="w">  </span><span class="nf">add</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w">  </span><span class="n">a</span><span class="p">[</span><span class="w"> </span><span class="p">][</span><span class="w"> </span><span class="n">MAX_SIZE</span><span class="w"> </span><span class="p">],</span><span class="w"> </span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">                   </span><span class="kt">int</span><span class="w">  </span><span class="n">b</span><span class="p">[</span><span class="w"> </span><span class="p">][</span><span class="w"> </span><span class="n">MAX_SIZE</span><span class="w"> </span><span class="p">],</span><span class="w"> </span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">                   </span><span class="kt">int</span><span class="w">  </span><span class="n">c</span><span class="p">[</span><span class="w"> </span><span class="p">][</span><span class="w"> </span><span class="n">MAX_SIZE</span><span class="w"> </span><span class="p">],</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">                   </span><span class="kt">int</span><span class="w">  </span><span class="n">rows</span><span class="p">,</span><span class="w">  </span><span class="kt">int</span><span class="w">  </span><span class="n">cols</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">{</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="kt">int</span><span class="w">  </span><span class="n">i</span><span class="p">,</span><span class="w">  </span><span class="n">j</span><span class="w"> </span><span class="p">;</span><span class="c1">//声明复杂度无</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">rows</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="c1">//对于该循环体，复杂度为rows+1+rows(i的内部)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">          </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">cols</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="c1">//对于i的内部，复杂度为cols+1+cols(j的内部)</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">                </span><span class="n">c</span><span class="p">[</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">][</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">][</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">][</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="p">];</span><span class="c1">//j的内部=1</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="p">}</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="c1">// 总的复杂度为：rows+ 1 + rows(cols + 1 + cols * 1) = 2 rows * cols + 2rows + 1</span>
</code></pre></div>
<h2 id="13">1.3 具体问题分析<a class="headerlink" href="#13" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Given (possibly negative) integers <span class="arithmatex">\(A_1, A_2,\cdots,A_N\)</span>,<code>find the maximum value</code> of <span class="arithmatex">\(\sum_{k=i}^{j}A_k\)</span></p>
<p>即给定一串整数，求整数字串的最大值</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">MaxSubsequenceSum</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">A</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">)</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="p">{</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">maxsum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">            </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">                </span><span class="n">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">sum</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">maxsum</span><span class="p">)</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="w">                </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxsum</span><span class="p">;</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">maxsum</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="p">}</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="n">时间复杂度为O</span><span class="err">（</span><span class="n">N</span><span class="o">^</span><span class="mi">3</span><span class="err">）</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">MaxSubsequenceSum</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">A</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">)</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="p">{</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">maxsum</span><span class="p">;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">            </span><span class="n">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">sum</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">maxsum</span><span class="p">)</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">                </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxsum</span><span class="p">;</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">maxsum</span><span class="p">;</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="p">}</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="n">时间复杂度为O</span><span class="p">(</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p><img alt="image-20231119103703865" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205571.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">// Algorithm 4</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kt">int</span><span class="w"> </span><span class="nf">MaxSubsequenceSum</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">A</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="p">{</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="p">,</span><span class="w"> </span><span class="n">maxsum</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxsum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">sum</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">maxsum</span><span class="p">)</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">            </span><span class="n">maxsum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">;</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">sum</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">            </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">maxsum</span><span class="p">;</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="p">}</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="n">时间复杂度为O</span><span class="err">（</span><span class="n">N</span><span class="err">）</span>
</code></pre></div>
<p><img alt="image-20231119103940036" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205519.png" /></p>
<blockquote>
<p>问题：如何计算斐波那契数列的时间复杂度？复杂度又是多少？</p>
<p><img alt="image-20231119104652820" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205734.png" /></p>
</blockquote>
<p>至于空间复杂度</p>
<p>斐波那契数列是一个经典的递归算法问题，可以使用递归或循环来计算。 </p>
<ul>
<li>如果使用递归方式计算斐波那契数列，空间复杂度为<strong>O (n)，</strong>这是因为每一个递归调用都会占用一定的栈空间，而递归深度就是n。 (recursively)</li>
<li>如果使用循环方式计算斐波那契数列，则只需要常数级别的空间，空间复杂度为O (1)。(iteratively)</li>
</ul>
<p><img alt="image-20240114151447026" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205406.png" /></p>
<p><img alt="image-20240114144015449" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205137.png" /></p>
<blockquote>
<ol>
<li>**The Fibonacci number sequence <span class="arithmatex">\({F_N}\)</span> is defined as: <span class="arithmatex">\(F_0=0, F_1=1, F_N=F_{N-1}+F_{N-2}, N = 2, 3, ....\)</span> The time complexity of the function which calculates <span class="arithmatex">\(F_N\)</span> recursively is <span class="arithmatex">\(Θ(N!)\)</span>. **</li>
</ol>
<p><strong>False</strong>,斐波那契数列的时间复杂度是指数型增长</p>
<ol start="2">
<li>The recurrent equations for the time complexities of programs P1 and P2 are:</li>
</ol>
<ul>
<li>P1: <em>T</em>(1)=1,<em>T</em>(<em>N</em>)=<em>T</em>(<em>N</em>/3)+1</li>
<li>P2: <em>T</em>(1)=1,<em>T</em>(<em>N</em>)=3<em>T</em>(<em>N</em>/3)+1</li>
</ul>
<p>Then the correct conclusion about their time complexities is:
   $$
   \begin{aligned}
   &amp;T(N) = T(N/3) + 1 = T(N/3^2) + 2 = \cdots = T(1) + log_3N\
   &amp;时间复杂度为O(log N)\
   \
   &amp;T(N) + \dfrac{1}{2} = 3(T(N/3) + \dfrac{1}{2}) = 3^{log_3N}(T(1) + \dfrac{1}{2}) = N\
   &amp;时间复杂度为O(N)</p>
<p>\end{aligned}
   $$</p>
<ol start="3">
<li>
<p>更多题目见：<a href="https://www.cnblogs.com/nonlinearthink/p/11735810.html">数据结构与算法（周测1-算法分析） - nonlinearthink - 博客园 (cnblogs.com)</a></p>
</li>
<li>
<div class="arithmatex">\[
   \begin{aligned}
   T(N) &amp;= 2T(N/2) + N \\
   &amp;= 2(2T(N/4) + N/2)+N \\
   &amp;= 2^{log_2N}T(1) + log_2N * N \\
   &amp;= N + NlogN
   \end{aligned}
   \]</div>
</li>
<li>
<p><img alt="image-20240114152801837" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205390.png" /></p>
</li>
</ol>
</blockquote>
<h1 id="_1">二.链表<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>见重难点手册</p>
<p><img alt="image-20240114151416116" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205428.png" /></p>
<p><img alt="image-20240114151726762" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205482.png" /></p>
<p><img alt="image-20240114152307000" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205583.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">List</span><span class="w"> </span><span class="nf">Reverse</span><span class="p">(</span><span class="w"> </span><span class="n">List</span><span class="w"> </span><span class="n">L</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="p">{</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="p">));</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Next</span><span class="p">;</span><span class="n">p</span><span class="p">;</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Next</span><span class="p">)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">        </span><span class="n">cnt</span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="c1">//计算链表的长度</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">cnt</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">L</span><span class="p">;</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="o">*</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">new</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">old</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">    </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L</span><span class="p">;</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">    </span><span class="n">new</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Next</span><span class="p">;</span><span class="w"> </span><span class="c1">//表示第一个结点</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">    </span><span class="n">old</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Next</span><span class="p">;</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">    </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="p">;</span><span class="w">         </span><span class="c1">// 记录第一个有效数据点的位置，要使它的next最后变为NULL；</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">cnt1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="n">cnt1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">cnt</span><span class="p">;</span><span class="n">cnt1</span><span class="o">++</span><span class="p">)</span><span class="w">  </span><span class="c1">//逆转的次数等于总长度cnt-1</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Next</span><span class="p">;</span><span class="w">       </span><span class="c1">//先记录为逆转的下一个结点，后续使old变为old-&gt;next</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">        </span><span class="n">old</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="p">;</span><span class="w">        </span><span class="c1">//开始逆转</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="w">        </span><span class="n">new</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old</span><span class="p">;</span><span class="w">                </span><span class="c1">//更替，已经逆转到old结点</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="w">        </span><span class="n">old</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="w">    </span><span class="n">p</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="p">;</span><span class="w">              </span><span class="c1">//p是head，head的next是最后一个结点</span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="w">    </span><span class="n">t</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old</span><span class="p">;</span><span class="w">              </span><span class="c1">//old变为NULL，t是第一个有效数据的结点，逆转后是最后一个，next变为NULL</span>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="p">}</span>
</code></pre></div>
<h1 id="_2">三. 栈<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h1>
<p><img alt="image-20231014151841105" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205043.png" /></p>
<h2 id="31">3.1 栈的基本概念<a class="headerlink" href="#31" title="Permanent link">&para;</a></h2>
<p>1、栈的定义</p>
<p><strong>栈</strong>（Stack）：是只允许在一端进行插入或删除的<a href="https://so.csdn.net/so/search?q=线性表&amp;spm=1001.2101.3001.7020">线性表</a>。首先栈是一种<a href="https://blog.csdn.net/Real_Fool_/article/details/113463997">线性表</a>，但限定这种线性表只能在<strong>某一端进行插入和删除操作</strong>。</p>
<p><img alt="image-20231014151939569" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205218.png" /></p>
<p><strong>栈顶</strong>（Top）：线性表允许进行插入删除的那一端。</p>
<p><strong>栈底</strong>（Bottom)：固定的，不允许进行插入和删除的另一端。</p>
<p><strong>空栈</strong>：不含任何元素的空表。</p>
<blockquote>
<p><strong>栈又称为后进先出（Last In First Out）的线性表，简称LIFO结构</strong></p>
</blockquote>
<p>2、栈的常见基本操作</p>
<ul>
<li>InitStack(&amp;S)：初始化一个空栈S。</li>
<li>StackEmpty(S)：判断一个栈是否为空，若栈为空则返回true，否则返回false。</li>
<li>Push(&amp;S, x)：进栈（栈的插入操作），若栈S未满，则将x加入使之成为新栈顶。</li>
<li>Pop(&amp;S, &amp;x)：出栈（栈的删除操作），若栈S非空，则弹出栈顶元素，并用x返回。</li>
<li>GetTop(S, &amp;x)：读栈顶元素，若栈S非空，则用x返回栈顶元素。</li>
<li>DestroyStack(&amp;S)：栈销毁，并释放S占用的存储空间（“&amp;”表示引用调用）。</li>
</ul>
<h2 id="32">3.2 栈的顺序存储结构<a class="headerlink" href="#32" title="Permanent link">&para;</a></h2>
<p>采用顺序存储的栈称为顺序栈，他利用一组地址连续的存储单元存放自栈底到栈顶的顺序元素，同时附设一个指针（top)指示当前栈顶的位置。</p>
<blockquote>
<p><strong>若存储栈的长度为StackSize，则栈顶位置top必须小于StackSize。</strong></p>
<p><strong><code>当栈存在一个元素时，top等于0，因此通常把空栈的判断条件定位为-1.</code></strong></p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="cp">#define MAXSIZE 50  </span><span class="c1">//定义栈中元素的最大个数</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ElemType</span><span class="p">;</span><span class="w"> </span><span class="c1">// ElemType 的类型根据实际情况而定，此处假定为int</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="n">ElemType</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">MAXSIZE</span><span class="p">];</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">top</span><span class="p">;</span><span class="w">                 </span><span class="c1">//栈顶指针</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="p">}</span><span class="n">Stack</span><span class="p">;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="c1">//或者</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="k">struct</span><span class="w"> </span><span class="nc">point</span><span class="p">{</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Capacity</span><span class="p">;</span><span class="w">           </span><span class="c1">// size of stack</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Top</span><span class="p">;</span><span class="w">                </span><span class="c1">// the top pointer</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">    </span><span class="c1">// push ++, pop --, empty stack -1</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">    </span><span class="n">ElemType</span><span class="w"> </span><span class="o">*</span><span class="n">Array</span><span class="p">;</span><span class="w">        </span><span class="c1">// array for stack elements</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="p">}</span>
</code></pre></div>
<p><img alt="image-20231014153152881" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205393.png" /></p>
<p>栈的常见基本操作</p>
<ul>
<li>InitStack(&amp;S)：初始化一个空栈S。</li>
<li>StackEmpty(S)：判断一个栈是否为空，若栈为空则返回true，否则返回false。</li>
<li>Push(&amp;S, x)：进栈（栈的插入操作），若栈S未满，则将x加入使之成为新栈顶。</li>
<li>Pop(&amp;S, &amp;x)：出栈（栈的删除操作），若栈S非空，则弹出栈顶元素，并用x返回。</li>
<li>GetTop(S, &amp;x)：读栈顶元素，若栈S非空，则用x返回栈顶元素。</li>
<li>DestroyStack(&amp;S)：栈销毁，并释放S占用的存储空间（“&amp;”表示引用调用）。</li>
</ul>
<p>（1）初始化</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">InitStack</span><span class="p">(</span><span class="n">Stack</span><span class="w"> </span><span class="o">*</span><span class="n">S</span><span class="p">)</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="p">{</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">//初始化栈顶指针</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="p">}</span>
</code></pre></div>
<p>（2）判断栈是否为空</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">StackEmpty</span><span class="p">(</span><span class="n">Stack</span><span class="w"> </span><span class="n">S</span><span class="p">)</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="p">{</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">S</span><span class="p">.</span><span class="n">top</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">True</span><span class="p">;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">False</span><span class="p">;</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="p">}</span>
</code></pre></div>
<p>(3)进栈 push</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Push</span><span class="p">(</span><span class="n">Stack</span><span class="w"> </span><span class="o">*</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">ElemType</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="p">{</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="c1">//先判断栈是否为满</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">MAXSIZE</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;The stack is full!&quot;</span><span class="p">);</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">    </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="w"> </span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">    </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="p">}</span>
</code></pre></div>
<p>(4)出栈 pop</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">pop</span><span class="p">(</span><span class="n">Stack</span><span class="w"> </span><span class="o">*</span><span class="n">S</span><span class="p">,</span><span class="n">ElemType</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="p">{</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="c1">//先判断栈是否为空</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;The stack is empty!&quot;</span><span class="p">);</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">    </span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">];</span><span class="w"> </span><span class="c1">//将要删除的栈顶元素赋值给x</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">    </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="w"> </span><span class="o">--</span><span class="p">;</span><span class="w"> </span><span class="c1">//栈顶指针减1</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="p">}</span>
</code></pre></div>
<p>（5）读取栈顶元素</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Gettop</span><span class="p">(</span><span class="n">Stack</span><span class="w"> </span><span class="o">*</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">ElemType</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="p">{</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;The stack is empty!&quot;</span><span class="p">);</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">    </span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">];</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="p">}</span>
</code></pre></div>
<h2 id="33">3.3 栈的链式存储结构<a class="headerlink" href="#33" title="Permanent link">&para;</a></h2>
<ol>
<li>链栈</li>
</ol>
<p>采用链式存储的栈称为链栈，链栈的优点是便于多个栈共享存储空间和提高效率，<strong>且不存在栈满上溢的情况。</strong></p>
<p>通常采用单链表实现，并规定所<strong>有操作都是在单链表的表头</strong>进行。</p>
<p><strong><code>这里规定链栈没有头结点，Lhead 指向栈顶元素。</code></strong></p>
<p><strong>对于空栈来说，链表原定义是头指针指向空，那么链栈的空其实就是top=NULL的时候。</strong></p>
<p><img alt="image-20231014154554978" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205215.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">StackNode</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="p">{</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="n">ElemType</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span><span class="n">struck</span><span class="w"> </span><span class="n">StackNode</span><span class="w"> </span><span class="o">*</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="p">}</span><span class="n">StackNode</span><span class="p">,</span><span class="o">*</span><span class="n">LinkStackPrt</span><span class="p">;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">LinkStack</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="p">{</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">    </span><span class="n">StackNode</span><span class="w"> </span><span class="o">*</span><span class="n">top</span><span class="p">;</span><span class="w">   </span><span class="c1">//结构指针，top对应的是栈顶结点</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w">      </span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="p">}</span><span class="n">LinkStack</span><span class="p">;</span>
</code></pre></div>
<ol start="2">
<li>链栈的基本算法</li>
</ol>
<p>（1） 链栈的进栈 push</p>
<p>对于链栈的进栈push操作，假设元素值为e的新节点是s，top为栈顶指针，示意图如下：</p>
<p><img alt="image-20231014155057841" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205377.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="n">LinkStack</span><span class="w"> </span><span class="o">*</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">ElemType</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="p">{</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="n">StackNode</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">StackNode</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">StackNode</span><span class="p">))</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="c1">//LinkStackPrt p = (LinkStackPrt)malloc(sizeof(StackNode));</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="n">p</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">    </span><span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">;</span><span class="w">  </span><span class="c1">//插入结点</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">    </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">;</span><span class="w">        </span><span class="c1">//将新的结点赋值给栈顶指针</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">    </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">count</span><span class="w"> </span><span class="o">++</span><span class="p">;</span><span class="w">       </span><span class="c1">//栈中元素的个数+1</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="p">}</span>
</code></pre></div>
<p>（2） 链表的出栈 pop</p>
<p>链栈的出栈pop操作，也是很简单的三句操作。假设变量p用来存储要删除的栈顶结点，将栈顶指针下移以为，最后释放p即可，如下图所示：</p>
<p><img alt="image-20231014155635503" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205491.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">pop</span><span class="p">(</span><span class="n">LinkStack</span><span class="w"> </span><span class="o">*</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">ElemType</span><span class="w"> </span><span class="o">*</span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="p">{</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="n">StackNode</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">    </span><span class="c1">//通过判断count== 0？</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;The stack is empty!&quot;</span><span class="p">)</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">    </span><span class="o">*</span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span><span class="w">      </span><span class="c1">//pop返回当前栈顶元素的值</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">    </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">;</span><span class="w">          </span><span class="c1">//将栈顶指针赋值给p，用于最后的free</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">    </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w"> </span><span class="c1">// 栈顶指针下移一位，指向后一个结点</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">    </span><span class="n">S</span><span class="o">-&gt;</span><span class="n">count</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p>链栈的进栈push和出栈pop操作都很简单，时间复杂度均为O(1)。</p>
<p>对比一下顺序栈与链栈,它们在时间复杂度上是一样的,均为O(1)。对于空间性能,<strong>顺序栈需要事先确定一个固定的长度,可能会存在内存空间浪费的问题,但它的优势是存取时定位很方便,而链栈则要求每个元素都有指针域,这同时也增加了一些内存开销,但对于栈的长度无限制。</strong></p>
<p><strong>所以它们的区别和线性表中讨论的一样,如果栈的使用过程中元素变化不可预料,有时很小,有时非常大,那么最好是用链栈,反之,如果它的变化在可控范围内,建议使用顺序栈会更好一些。</strong></p>
</blockquote>
<h2 id="34">3.4 栈的应用——四则运算表达式求值<a class="headerlink" href="#34" title="Permanent link">&para;</a></h2>
<p><img alt="image-20240114150916856" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205708.png" /></p>
<ol>
<li>后缀表达式计算结果</li>
</ol>
<p>后缀表达式的运算符在操作数后面，在后缀表达式中已考虑了运算符的优先级,没有括号,只有操作数和运算符。例如中缀表达式<span class="arithmatex">\(A + B ∗ ( C − D ) − E / F A\)</span>所对应的后缀表达式为$A B C D − ∗ + E F / − $</p>
<blockquote>
<p><strong>后缀表达式计算规则：从左到右遍历表达式的每个数字和符号，遇到是数字就进栈，遇到是符号，就将处于栈顶两个数字出栈，进项运算，运算结果进栈，一直到最终获得结果。</strong></p>
</blockquote>
<p><img alt="image-20231014161521968" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205087.png" /></p>
<p><img alt="image-20231119211601858" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205173.png" /></p>
<p><img alt="image-20240114151653684" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205010.png" /></p>
<h1 id="_3">四. 队列<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h1>
<h2 id="41">4.1 队列的基本概念<a class="headerlink" href="#41" title="Permanent link">&para;</a></h2>
<p><strong>队列（queue）是只允许在一端进行插入操作，而在另一端进行删除操作的线性表。</strong>
队列是一种先进先出（First In First Out）的线性表，简称FIFO。允许插入的一端称为队尾，允许删除的一端称为队头。</p>
<p><img alt="image-20231014162535007" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205170.png" /></p>
<p><strong>队头（Front）</strong>：允许删除的一端，又称队首。</p>
<p><strong>队尾（Rear）</strong>：允许插入的一端。</p>
<p><strong>空队列</strong>：不包含任何元素的空表。</p>
<ol start="2">
<li>队列的常见基本操作</li>
</ol>
<ul>
<li>InitQueue(&amp;Q)：初始化队列，构造一个空队列Q。</li>
<li>QueueEmpty(Q)：判队列空，若队列Q为空返回true，否则返回false。</li>
<li>EnQueue(&amp;Q, x)：入队，若队列Q未满，将x加入，使之成为新的队尾。</li>
<li>DeQueue(&amp;Q, &amp;x)：出队，若队列Q非空，删除队头元素，并用x返回。</li>
<li>GetHead(Q, &amp;x)：读队头元素，若队列Q非空，则将队头元素赋值给x。</li>
</ul>
<h2 id="42">4.2 队列的顺序存储结构<a class="headerlink" href="#42" title="Permanent link">&para;</a></h2>
<p>队列的顺序存储结构可以描述为：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="cp">#define MAXSIZE 50 </span><span class="c1">//定义队列中元素的最大个数</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="n">ElemTpye</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">MAXSIZE</span><span class="p">];</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="p">,</span><span class="n">rear</span><span class="p">;</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="p">}</span><span class="n">Queue</span><span class="p">;</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="c1">// 或者</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="k">struct</span><span class="w"> </span><span class="nc">point</span><span class="p">{</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Capacity</span><span class="p">;</span><span class="w">       </span><span class="c1">//max size of queue</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Front</span><span class="p">;</span><span class="w">          </span><span class="c1">// the front pointer</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Rear</span><span class="p">;</span><span class="w">           </span><span class="c1">// the rear pointer</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Count</span><span class="p">;</span><span class="w">          </span><span class="c1">// the current size of queue</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="n">ElemType</span><span class="w"> </span><span class="o">*</span><span class="n">Array</span><span class="p">;</span><span class="w">    </span><span class="c1">// array</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="p">}</span><span class="n">Queue</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>初始状态（队列为空）： <span class="arithmatex">\(Q-&gt;front == Q-&gt;rear == 0\)</span></li>
<li>进队操作： 队列不满时，先将值存储到rear对应的位置，再队尾指针加1</li>
<li>出队操作：队列非空时，先取出front 对应的元素值，再队头指针加1</li>
</ul>
<p><img alt="image-20231014163118941" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205447.png" /></p>
<h2 id="43">4.3 循环队列<a class="headerlink" href="#43" title="Permanent link">&para;</a></h2>
<p><img alt="image-20240114151241257" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205564.png" /></p>
<p><strong>我们把队列的这种头尾相接的顺序存储结构称为循环队列。</strong></p>
<p>当队首指针<code>Q-&gt;front = MAXSIZE-1</code>后，再前进一个位置就自动到0，这可以利用除法取余运算（%）来实现。</p>
<ul>
<li>初始状态时 <span class="arithmatex">\(Q-&gt;front = Q-&gt;rear = 0\)</span></li>
<li>队首指针进一（出队）： <span class="arithmatex">\(Q-&gt;front = (Q-&gt;front + 1) \% MAXSIZE\)</span></li>
<li>队尾指针进一（入队）： <span class="arithmatex">\(Q-&gt;rear = (Q-&gt;rear + 1) \% MAXSIZE\)</span></li>
<li>队列长度：<span class="arithmatex">\((Q-&gt;rear - Q-&gt;front + MAXSIZE) / \% MAXSIZE\)</span></li>
</ul>
<p><img alt="image-20231014163656834" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205057.png" /></p>
<p>那么，循环队列队空和队满的判断条件是什么呢？</p>
<p>显然，队空的条件是 Q-&gt;front == Q-&gt;rear 。若入队元素的速度快于出队元素的速度，则队尾指针很快就会赶上队首指针，如图( d1 ）所示，此时可以看出队满时也有 Q -&gt;front == Q -&gt; rear 。
为了区分队空还是队满的情况，有三种处理方式：</p>
<p>（1）<strong>牺牲一个单元来区分队空和队满</strong>，入队时少用一个队列单元，这是种较为普遍的做法，<code>`约定以“队头指针在队尾指针的下一位置作为队满的标志”，</code>如图 ( d2 ）所示。</p>
<blockquote>
<p>rear 位置表示，该位置还没有插入，front位置表示该位置还没有离开</p>
</blockquote>
<ul>
<li>队满条件： (Q-&gt;rear + 1)%Maxsize == Q-&gt;front（5+1 % 6 = 0）</li>
<li>队空条件仍： Q-&gt;front == Q-&gt;rear</li>
<li>队列中元素的个数： (Q-&gt;rear - Q -&gt;front + Maxsize)% Maxsize</li>
</ul>
<p>（2）类型中增设表示元素个数的数据成员。这样，队空的条件为 Q-&gt;size == O ；队满的条件为 Q-&gt;size == Maxsize 。这两种情况都有 Q-&gt;front == Q-&gt;rear</p>
<p>（3）类型中增设tag 数据成员，以区分是队满还是队空。tag 等于0时，若因删除导致 Q-&gt;front == Q-&gt;rear ，则为队空；tag 等于 1 时，若因插入导致 Q -&gt;front == Q-&gt;rear ，则为队满。</p>
<blockquote>
<p><strong><code>以下针对第一种方法，介绍循环队列的常见基本算法（空余一个位置）</code></strong></p>
</blockquote>
<p>（1）循环队列的顺序存储结构</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ElemType</span><span class="p">;</span><span class="w">              </span><span class="c1">//ElemType的类型根据实际情况而定，这里假定为int</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="cp">#define MAXSIZE 50</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">    </span><span class="n">ElemType</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">MAXSIZE</span><span class="p">];</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="p">;</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">rear</span><span class="p">;</span><span class="w">                     </span><span class="c1">//尾指针,若队列不空，指向队列尾元素的下一个位置</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="p">}</span><span class="n">Queue</span><span class="p">;</span>
</code></pre></div>
<p>（2） 循环队列的初始化</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">InitQueue</span><span class="p">(</span><span class="n">Queue</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Q</span><span class="p">)</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="p">{</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="p">}</span>
</code></pre></div>
<p>（3）循环队列判断是否为空</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">Bool</span><span class="w"> </span><span class="nf">Isempty</span><span class="p">(</span><span class="n">Queue</span><span class="w"> </span><span class="n">Q</span><span class="p">)</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="p">{</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">Q</span><span class="p">.</span><span class="n">rear</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Q</span><span class="p">.</span><span class="n">front</span><span class="p">)</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">True</span><span class="p">;</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">False</span><span class="p">;</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="p">}</span>
</code></pre></div>
<p>（4） 求循环队列的长度</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Queuelength</span><span class="p">(</span><span class="n">Queue</span><span class="w"> </span><span class="n">Q</span><span class="p">)</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="p">{</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">Q</span><span class="p">.</span><span class="n">rear</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Q</span><span class="p">.</span><span class="n">front</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">MAXSIZE</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">MAXSIZE</span><span class="p">;</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">    </span><span class="c1">// 之所以要加MAXSIZE，是因为当front = rear + 1时，此时结果为MAXSIZE - 1</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="p">}</span>
</code></pre></div>
<p>（5） 循环队列入队</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="cm">/*若队列未满，则插入元素e为Q新的队尾元素*/</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">EnQueue</span><span class="p">(</span><span class="n">Queue</span><span class="w"> </span><span class="o">*</span><span class="n">Q</span><span class="p">,</span><span class="w"> </span><span class="n">ElemType</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="p">{</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span><span class="c1">// 先判断队列是否为满</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span><span class="k">if</span><span class="p">((</span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">MAXSIZE</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="p">)</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;The queue is full!&quot;</span><span class="p">);</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">        </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">        </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">MAXSIZE</span><span class="p">;</span><span class="c1">//rear指针向后移一位置，若到最后则转到数组头部</span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="p">}</span>
</code></pre></div>
<p>（6）循环队列出队</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">DeQueue</span><span class="p">(</span><span class="n">Queue</span><span class="w"> </span><span class="o">*</span><span class="n">Q</span><span class="p">,</span><span class="w"> </span><span class="n">ElemType</span><span class="w"> </span><span class="o">*</span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="p">{</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="p">)</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;The queue is empty!&quot;</span><span class="p">);</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">        </span><span class="o">*</span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="p">];</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">        </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">MAXSIZE</span><span class="p">;</span><span class="c1">//rear指针向后移一位置，若到最后则转到数组头部</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="p">}</span>
</code></pre></div>
<h2 id="44">4.4 队列的链式存储结构<a class="headerlink" href="#44" title="Permanent link">&para;</a></h2>
<p><strong>队列的链式存储结构表示为链队列，它实际上是一个同时带有队头指针和队尾指针的单链表，只不过它只能尾进头出而已</strong></p>
<p><img alt="image-20231014170736098" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205894.png" /></p>
<p><img alt="image-20231014170744068" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205889.png" /></p>
<p>（1）链队列存储类型</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="n">ELemType</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">LinkNode</span><span class="w"> </span><span class="o">*</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="p">}</span><span class="n">LinkNode</span><span class="p">;</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="c1">// 对于队列，创建的是一个双头链表，front和rear</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">    </span><span class="n">LinkNode</span><span class="w"> </span><span class="o">*</span><span class="n">front</span><span class="p">;</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">    </span><span class="n">LinkNode</span><span class="w"> </span><span class="o">*</span><span class="n">rear</span><span class="p">;</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="p">}</span><span class="n">LinkQueue</span><span class="p">;</span>
</code></pre></div>
<p>（2）链队列的初始化</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">InitQueue</span><span class="p">(</span><span class="n">LinkQueue</span><span class="w"> </span><span class="o">*</span><span class="n">Q</span><span class="p">)</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="p">{</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="c1">//此处的链表带头结点，头结点存储什么数据都没有关系，初始状态均指向NULL</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">LinkNode</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">LinkNode</span><span class="p">));</span><span class="c1">//建立头结点</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="c1">//初始为空</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="p">}</span>
</code></pre></div>
<p>（3）链队列入队</p>
<p><img alt="image-20231014171135196" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205941.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">EnQueue</span><span class="p">(</span><span class="n">LinkQueue</span><span class="w"> </span><span class="o">*</span><span class="n">Q</span><span class="p">,</span><span class="n">ElemType</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="p">{</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="n">LinkNode</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">LinkNode</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">LinkNode</span><span class="p">));</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="n">s</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">    </span><span class="n">s</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">    </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="c1">//把拥有元素e新结点s赋值给原队尾结点的后继</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">    </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w">       </span><span class="c1">//把当前的s设置为新的队尾结点</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">    </span><span class="c1">// 也就是说rear结点是带数据的</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="p">}</span>
</code></pre></div>
<p>（4）链队列出队</p>
<p>出队操作时，就是头结点的后继结点出队，将头结点的后继改为它后面的结点，若链表除头结点外只剩一个元素时，则需将rear指向头结点。</p>
<p><img alt="image-20231014171353855" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205192.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Dequeue</span><span class="p">(</span><span class="n">LinkQueue</span><span class="w"> </span><span class="o">*</span><span class="n">Q</span><span class="p">,</span><span class="n">ElemType</span><span class="w"> </span><span class="o">*</span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="p">{</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="n">LinkNode</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">;</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="p">)</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;The Queue is empty&quot;</span><span class="p">);</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="w">        </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w">      </span><span class="c1">//将欲删除的队头结点暂存给p</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">        </span><span class="o">*</span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w">           </span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="w">        </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w">          </span><span class="c1">//若删除的队头是队尾，则删除后将rear指向头结点</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="w">            </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Q</span><span class="o">-&gt;</span><span class="n">front</span><span class="p">;</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="w">        </span><span class="c1">// 在队列元素充足的情况下，rear结点不需要改变</span>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="w">        </span><span class="n">free</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="p">}</span>
</code></pre></div>
<h1 id="_4">五.树<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h1>
<h2 id="51">5.1 树的定义和性质<a class="headerlink" href="#51" title="Permanent link">&para;</a></h2>
<ol>
<li>树的定义： A tree is a colection of nodes.</li>
</ol>
<ul>
<li><strong>(1) a distinguished node r, called the root;</strong></li>
<li><strong>(2) zero or more nonempty (sub)tree T1,…Tk.</strong></li>
</ul>
<blockquote>
<p><strong><code>注意：</code></strong></p>
<ol>
<li>
<p><strong>Subtrees must not connect together. Therefore every node in the tree is the root of some subtree.</strong></p>
</li>
<li>
<p><strong>There are N -1  edges in a tree with</strong> <strong>N</strong> <strong>nodes.</strong></p>
</li>
<li>
<p><strong>Normally the root is drawn at the top.</strong></p>
</li>
</ol>
</blockquote>
<ol start="2">
<li>其他定义</li>
</ol>
<p><img alt="image-20231017101626151" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205197.png" /></p>
<ul>
<li><code>degree of a node</code> : number of subtrees of the node. For example degree(A) = 3, degree(F) =  0.</li>
<li><mark><code>degree of a tree</code>: <span class="arithmatex">\(= max_{node \in tree}{degree(node)}\)</span>.For example, degree of this tree = 3</mark></li>
<li><code>parent</code>: a node that has  subtrees</li>
<li><code>children</code>: the roots of the subtrees of a parents</li>
<li><code>siblings</code>: children of the same parent</li>
<li><code>leaf</code> : a node with degree 0</li>
<li><code>path from n1 to nk</code>: a <code>unique(唯一的)</code>sequence of nodes <span class="arithmatex">\(n_1, n_2, \cdots n_k\)</span>,such that <span class="arithmatex">\(n_i\)</span> is the parent of  <span class="arithmatex">\(n_{i+1}\)</span> </li>
<li><code>length of path</code>: number of edges on the path</li>
<li><mark><code>depth of n_i</code>:<strong>length of the unique path from the root to</strong> <span class="arithmatex">\(n_i\)</span> <strong>Depth(root) = 0.</strong></mark></li>
<li><mark><code>height of n_i</code>:<strong>length of the longest path from</strong> <span class="arithmatex">\(n_i\)</span> <strong>to a leaf. Height(leaf) = 0, and height(D) = 2.</strong></mark></li>
</ul>
<blockquote>
<p><strong>深度depth 从 root 开始计算， 高度height 从 leaf 开始计算</strong></p>
</blockquote>
<ul>
<li><code>height(depth) of a tree:</code><strong>height(root) = depth(deepest leaf).</strong></li>
<li><code>ancestors of a node:</code>all the nodes along the path from the node up to the root</li>
<li><code>descendants of a node:</code> all the nodes in its subtrees.</li>
</ul>
<p><img alt="image-20231021104848027" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205445.png" /></p>
<h2 id="52-implementation">5.2 Implementation<a class="headerlink" href="#52-implementation" title="Permanent link">&para;</a></h2>
<p><img alt="image-20231119224648634" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205506.png" /></p>
<p><img alt="image-20231017102725086" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205690.png" /></p>
<p>这里我们使用 <code>FirstChild-NextSibling Representation</code></p>
<blockquote>
<p><strong>将结点的孩子放在左子树</strong></p>
<p><strong>将结点的兄弟放在右子树</strong></p>
<p><strong>左儿子右兄弟树</strong></p>
<p><strong>Note: The representation is</strong> <strong>not unique</strong> <strong>since the children in a tree can be of any order.</strong></p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">TreeNode</span><span class="w"> </span><span class="o">*</span><span class="n">PrtToNode</span><span class="p">;</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="k">struct</span><span class="w"> </span><span class="nc">TreeNode</span><span class="p">{</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="n">ElementType</span><span class="w"> </span><span class="n">Element</span><span class="p">;</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">    </span><span class="n">PrtToNode</span><span class="w"> </span><span class="n">FirstChild</span><span class="p">;</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">    </span><span class="n">PrtToNode</span><span class="w"> </span><span class="n">NextSibling</span><span class="p">;</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="p">}</span><span class="n">Tree</span><span class="p">;</span>
</code></pre></div>
<h2 id="53">5.3 二叉树<a class="headerlink" href="#53" title="Permanent link">&para;</a></h2>
<p>二叉树是一棵树，其中每个节点的儿子不能多于两个</p>
<p><img alt="image-20231021104951639" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205694.png" /></p>
<blockquote>
<div class="arithmatex">\[
\begin{aligned}
&amp;设具有两个儿子的结点数量为n2，一个儿子的结点数量为n1，leaf的数量为n0\\
&amp; N(结点总数) = n2 + n1 + n0\\
&amp; N-1(边总数) = 2 * n2 + n1 \\
&amp;得到n0 = n2 + 1\\
&amp;此处2015 = 2 * n2 + 16,显然不对
\end{aligned}
\]</div>
</blockquote>
<h3 id="531">5.3.1 表达式树<a class="headerlink" href="#531" title="Permanent link">&para;</a></h3>
<p>表达式树的<strong>树叶</strong>是<strong>操作数</strong>，比如常数或变量，而<strong>其他的节点为操作符</strong>。因为我们的操作符一般是二元的，所以我们可以得到一棵二叉树。如果有单目操作符，那么节点就只有一个儿子。</p>
<p><img alt="image-20231017103406439" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205836.png" /></p>
<p>树又是如何存储的呢？
$$
(a+b) * (c<em>(d+e)) = ab+cde+</em>*\
中缀表达式和后缀表达式
$$
<img alt="image-20231017103633487" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205880.png" /></p>
<p><img alt="image-20231017103701499" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205155.png" /></p>
<p><img alt="image-20231017103724906" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205256.png" /></p>
<p><img alt="image-20231017103756965" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205386.png" /></p>
<p><img alt="image-20231017103834131" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205463.png" /></p>
<p><img alt="image-20231017103858558" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205556.png" /></p>
<h3 id="532">5.3.2 树的遍历<a class="headerlink" href="#532" title="Permanent link">&para;</a></h3>
<ol>
<li>前序遍历</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">preorder</span><span class="p">(</span><span class="n">tree_ptr</span><span class="w"> </span><span class="n">tree</span><span class="p">)</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="p">{</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">        </span><span class="n">visit</span><span class="p">(</span><span class="n">tree</span><span class="p">);</span><span class="w">     </span><span class="c1">//先获取根结点root</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">each</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">tree</span><span class="p">)</span><span class="w"> </span><span class="c1">// 依次递归子树</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">            </span><span class="n">preorder</span><span class="p">(</span><span class="n">C</span><span class="p">);</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="p">}</span>
</code></pre></div>
<ol start="2">
<li>后序遍历</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">postorder</span><span class="p">(</span><span class="n">tree_ptr</span><span class="w"> </span><span class="n">tree</span><span class="p">)</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="p">{</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">each</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">tree</span><span class="p">)</span><span class="w"> </span><span class="c1">//先递归子树</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">            </span><span class="n">postorder</span><span class="p">(</span><span class="n">C</span><span class="p">);</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">        </span><span class="n">visit</span><span class="p">(</span><span class="n">tree</span><span class="p">);</span><span class="w">              </span><span class="c1">//最后获取根结点</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="p">}</span>
</code></pre></div>
<ol start="3">
<li>层序遍历</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">levelorder</span><span class="p">(</span><span class="n">tree_ptr</span><span class="w"> </span><span class="n">tree</span><span class="p">)</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="p">{</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="n">enqueue</span><span class="p">(</span><span class="n">tree</span><span class="p">);</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">queue</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">empty</span><span class="p">)</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">        </span><span class="n">visit</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dequeue</span><span class="p">());</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">each</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">            </span><span class="n">enqueue</span><span class="p">(</span><span class="n">C</span><span class="p">);</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="p">}</span>
</code></pre></div>
<p><img alt="image-20231017104937754" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205520.png" /></p>
<p><img alt="image-20231017104955101" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205837.png" /></p>
<p><img alt="image-20231017105015893" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205919.png" /></p>
<p><img alt="image-20231017105034559" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205017.png" /></p>
<p><img alt="image-20231017105052828" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205110.png" /></p>
<p><img alt="image-20231017105112029" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205154.png" /></p>
<blockquote>
<p><strong><code>按照层数，依次输出node</code></strong></p>
</blockquote>
<ol start="4">
<li>中序遍历</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1">// 递归版本</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">inorder</span><span class="p">(</span><span class="n">tree_ptr</span><span class="w"> </span><span class="n">tree</span><span class="p">)</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="p">{</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w">        </span><span class="n">inorder</span><span class="p">(</span><span class="n">tree</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="w">        </span><span class="n">visit</span><span class="p">(</span><span class="n">tree</span><span class="o">-&gt;</span><span class="n">element</span><span class="p">);</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="w">        </span><span class="n">inorder</span><span class="p">(</span><span class="n">tree</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="p">}</span>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="c1">// 遍历版本(不保真)</span>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="kt">void</span><span class="w"> </span><span class="nf">iter_inorder</span><span class="p">(</span><span class="n">tree_ptr</span><span class="w"> </span><span class="n">tree</span><span class="p">)</span>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="p">{</span>
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="w">    </span><span class="n">Stack</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CreateStack</span><span class="p">(</span><span class="n">MAX_SIZE</span><span class="p">);</span>
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="w">    </span><span class="k">for</span><span class="p">(;;)</span>
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="w">        </span><span class="k">for</span><span class="p">(;</span><span class="n">tree</span><span class="p">;</span><span class="n">tree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tree</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span>
<a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a><span class="w">            </span><span class="n">Push</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span><span class="n">S</span><span class="p">);</span>
<a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a><span class="w">        </span><span class="n">tree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Top</span><span class="p">(</span><span class="n">S</span><span class="p">);</span>
<a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a><span class="w">        </span><span class="n">Pop</span><span class="p">(</span><span class="n">S</span><span class="p">);</span>
<a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">tree</span><span class="p">)</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a><span class="w">        </span><span class="n">visit</span><span class="p">(</span><span class="n">tree</span><span class="o">-&gt;</span><span class="n">element</span><span class="p">);</span>
<a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a><span class="w">        </span><span class="k">for</span><span class="p">(;</span><span class="n">tree</span><span class="p">;</span><span class="n">tree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tree</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span>
<a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a><span class="w">            </span><span class="n">Push</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span><span class="n">S</span><span class="p">);</span>
<a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a><span class="w">        </span><span class="n">tree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Top</span><span class="p">(</span><span class="n">S</span><span class="p">);</span>
<a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a><span class="w">        </span><span class="n">Pop</span><span class="p">(</span><span class="n">S</span><span class="p">);</span>
<a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a><span class="p">}</span>
</code></pre></div>
<p><img alt="image-20231017110234626" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205320.png" /></p>
<p><img alt="image-20231021110037414" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205562.png" /></p>
<p>转换后， T的preorder = BT的preorder(preorder不变) </p>
<p>T的postorder = BT的inorder</p>
<p><img alt="image-20240114211348648" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205162.png" /></p>
<h2 id="54">5.4 线索二叉树<a class="headerlink" href="#54" title="Permanent link">&para;</a></h2>
<p>规则：</p>
<ul>
<li>如果 <code>Tree-&gt;Left</code> 为空，用一个指向中序遍历中当前节点的前驱的指针代替它</li>
<li>如果 <code>Tree-&gt;Right</code> 为空，用一个指向中序遍历中当前节点的后继的指针代替它</li>
<li>这里没有空闲的指针，因此一棵线索二叉树需要有一个左儿子指针指向第一个节点的头节点。</li>
</ul>
<p><img alt="image-20231017111811737" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205690.png" /></p>
<blockquote>
<p>对于一个含n个结点的线索二叉树，共有n+1个null结点</p>
</blockquote>
<div class="arithmatex">\[
对于n个结点的树，改变它的形状，使得leaf结点集中在最后一行。\\
不妨设，该树完全平铺k行，也就是2^k -1 &lt;= n &lt; 2^{k+1} -1\\
此时最后一行一共n-2^k+1个结点，\\
此时最后一行产生的NULL结点一共有2*(n-2^k+1) = 2n-2^{k+1}+2\\
最终的计算理解为，第k行原本应该有的NULL结点数 - 第k+1行的结点数 + 第k+1行产生的NULL结点数\\
最终，2*(2^{k-1})+n-2^k+1 = n+1
\]</div>
<p>Among the following threaded binary trees (the threads are represented by dotted curves), which one is the postorder threaded tree?</p>
<p><img alt="image-20231021111139517" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205848.png" /></p>
<p><code>豁然开朗版：线索二叉树也有很多品种，比如inorder threaded tree，postorder threaded tree，根据不同的遍历顺序，修改定义。</code></p>
<p><code>比如，此处为后序的线索树，那么定义为，如果左子树为空，就用虚线指向自己postorder前面的结点，如果前面没有，就是NULL。如果右子树为空，就用虚线指向自己postorder后面的结点，如果没有，就是NULL</code></p>
<blockquote>
<p><strong>下面这个树，后序排序是：dbca</strong>
<strong>前驱就是前面的，比如b的前驱是d, d的前驱是Null</strong>
<strong>后驱就是后面的，比如d的后驱是b，a的后驱是Null</strong>
<strong>d有两个指针没有用，左边指向前驱Null，右边指向b（然后就选出来B了）</strong>
<strong>b的右节点有用的（已经指向d了），左节点指向其前驱，也就是d</strong>
<strong>c前驱是b，后驱是a，所以左指向b，右指向a</strong>
<strong>a没有指针可用了（已经左为b右为c）了</strong>
<strong>所以选B。</strong></p>
</blockquote>
<h2 id="55-complete-binary-tree">5.5 complete binary tree<a class="headerlink" href="#55-complete-binary-tree" title="Permanent link">&para;</a></h2>
<p><img alt="image-20231024082106377" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205353.png" /></p>
<p><strong>skewed binary tree 斜二叉树</strong></p>
<p><img alt="image-20231024082126086" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205005.png" /></p>
<blockquote>
<p><strong>对于complete binary tree，可以理解为，leaf集中在倒数两行，且leaf的排列需要优先满足左子树，也就是得先铺满左子树，再铺右子树。最后一行leaf的排列方式为从左往右依次排列。</strong></p>
<p><code>For any nonempty binary tree, $n_0 = n_2+1$where $n_0$ is thr number of leaf nodes and $n_2$ the number of nodes of degree 2.</code></p>
<p><strong>一个极其重要的性质：在二叉树中，叶子节点的数量等于degree为2的结点数量（有两个孩子）+1</strong></p>
</blockquote>
<p><img alt="image-20231024082928550" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205189.png" />
$$
\begin{aligned}
&amp;推导过程如下：\
&amp;两种方式理解树的结点数量：\
&amp;第一种从结点的类型和数量入手，首先在一棵二叉树中，结点的种类只有leaf，nodes of  degree1， \
&amp;nodes  of  degree2，不妨设它们的数量分别为n_0,n_1,n_2.于是总数n = n_0+n_1+n_2\
&amp;第二种从边的数量和边是怎么产生入手，首先e = n - 1，边的数量等于结点数减一\
&amp;leaf 产生的边的数量为0，degree 为1 的nodes产生的边数量为n_1, \
&amp;degree 为2的nodes产生的边的数量为2n_2，于是边的总数为e = n_1 + 2n_2\
&amp; 联立方程组： n_1 + 2n_2 = e = n-1 = n_0 + n_1 + n_2 - 1,得到n_0 = n_2 + 1
\end{aligned}
$$
<img alt="image-20231120142114724" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205477.png" /></p>
<p><strong>If a general tree <em>T</em> is converted into a binary tree <em>BT</em>, then which of the following <em>BT</em> traversals gives the same sequence as that of the post-order traversal of <em>T</em>?</strong></p>
<p>将一棵普通树转化为二叉树，二叉树的什么遍历方式相当于原数的后序遍历</p>
<p>A. Pre-order traversal</p>
<p>B. In-order traversal</p>
<p>C. Post-order traversal</p>
<p>D. Level-order traversal</p>
<blockquote>
<p>转为的方式为：左儿子右兄弟，<strong>此处的兄弟是父亲的兄弟，千万注意</strong></p>
</blockquote>
<p><center>
    <img src = "https://gitee.com/zjdxzn_0/typora-image/raw/master/img/202311192246770.png" width = 300>
    <img src = "https://gitee.com/zjdxzn_0/typora-image/raw/master/img/202310171027147.png" width = 600>
</center></p>
<p>从实际例子出发，易得inorder</p>
<h2 id="56-binary-search-tree">5.6 Binary Search Tree<a class="headerlink" href="#56-binary-search-tree" title="Permanent link">&para;</a></h2>
<p>定义： <strong>A</strong> <strong>binary search tree</strong> <strong>is a binary tree. It may be empty. If it is not empty, it satisfies the following properties:</strong></p>
<p><strong>(1) Every node has a</strong> <strong>key</strong> <strong>which is an integer, and the keys are    distinct.</strong></p>
<p><strong>(2) The keys in a nonempty</strong> <strong>left</strong> <strong>subtree must be</strong> <strong>smaller</strong> <strong>than the key in the root of the subtree.</strong></p>
<ul>
<li>若它的左子树不为空，左子树上所有节点的值都小于它的根节点。</li>
</ul>
<p><strong>(3) The keys in a nonempty</strong> <strong>right</strong> <strong>subtree must be</strong> <strong>larger</strong> <strong>than the key in the root of the subtree.</strong></p>
<ul>
<li>若它的右子树不为空，右子树上所有的节点的值都大于它的根节点。</li>
</ul>
<p><strong>(4) The left and right subtrees are also binary search trees.</strong></p>
<blockquote>
<p><strong><code>右边的任意结点大于左边的结点</code></strong></p>
</blockquote>
<p><img alt="image-20231024083529905" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205583.png" /></p>
<p><img alt="image-20231024083902380" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205008.png" /></p>
<p>这个也是二分查找树，左子树小于root同样适用于右边的树</p>
<p><strong>SearchTree</strong> <strong>MakeEmpty</strong>( <strong>SearchTree</strong> <strong>T );</strong> </p>
<p><strong>Position</strong> <strong>Find</strong>( <strong>ElementType</strong> <strong>X,</strong> <strong>SearchTree</strong> <strong>T );</strong> </p>
<p><strong>Position</strong> <strong>FindMin</strong>( <strong>SearchTree</strong> <strong>T );</strong> </p>
<p><strong>Position</strong> <strong>FindMax</strong>( <strong>SearchTree</strong> <strong>T );</strong> </p>
<p><strong>SearchTree</strong> <strong>Insert</strong>( <strong>ElementType</strong> <strong>X,</strong> <strong>SearchTree</strong> <strong>T );</strong> </p>
<p><strong>SearchTree</strong> <strong>Delete</strong>( <strong>ElementType</strong> <strong>X,</strong> <strong>SearchTree</strong> <strong>T );</strong> </p>
<p><strong>ElementType</strong> <strong>Retrieve</strong>(<strong>Position P );</strong> </p>
<p><img alt="image-20231114082820839" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205132.png" /></p>
<blockquote>
<ol>
<li>
<p><strong>查找的时间复杂度是O(depth),也就是O（logN）</strong></p>
</li>
<li>
<p><strong>最大值不一定在叶结点上，因为它的左儿子可能存在，但是右儿子不存在，依然是最大值</strong></p>
</li>
<li>
<p><strong>但是最小值一定在叶结点上，因为完全二叉树，左儿子不存在，则该节点为最小值，左儿子存在，则左儿子是最小值</strong></p>
</li>
<li>
<p><strong><code>看前提条件，完全二叉树，左子树的结点数量一定比右子树的结点数量多</code>，所以中位数一定在根结点（左右字树结点数相同）或者左子树</strong></p>
</li>
</ol>
</blockquote>
<p>3.在一棵二叉搜索树上查找63，序列39、101、25、80、70、59、63是一种可能的查找时的结点值比较序列。</p>
<p><strong>F ×</strong></p>
<p>一个比较实用的判断方法是如果序列前一个元素比当前元素小，那么更新区间的最大值为当前元素；如果序列的前一个元素比当前元素大，那么更新区间的最小值为当前元素。之后的每一个元素必须在这个区间内。根据这个规则，当运行到70的时候区间已经是(70,80)，而下一个元素是59。</p>
<p><span class="arithmatex">\((39, +\infty),(39,101)\)</span>此时出现25，不在区间范围内，出现错误</p>
<h3 id="560">5.6.0 结构体的定义<a class="headerlink" href="#560" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1">//定义二分搜索树结构体</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">TreeNode</span><span class="o">*</span><span class="w"> </span><span class="n">Tree</span><span class="p">;</span><span class="w"> </span><span class="c1">// tree 代表struct TreeNode*</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="k">struct</span><span class="w"> </span><span class="nc">TreeNode</span><span class="p">{</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">    </span><span class="n">Tree</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="n">Tree</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="p">}</span><span class="n">TreeNode</span><span class="p">;</span>
</code></pre></div>
<h3 id="561-insert">5.6.1 Insert 添加结点<a class="headerlink" href="#561-insert" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">Insert</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="p">{</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">        </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Tree</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">TreeNode</span><span class="p">));</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">        </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">        </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">        </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="p">}</span>
</code></pre></div>
<h3 id="562-findmin-findmax">5.6.2 Findmin 和 Findmax<a class="headerlink" href="#562-findmin-findmax" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Findmin</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="p">{</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Findmin</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="p">}</span>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">Findmin1</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="p">{</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-23" name="__codelineno-32-23" href="#__codelineno-32-23"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-24" name="__codelineno-32-24" href="#__codelineno-32-24"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-32-25" name="__codelineno-32-25" href="#__codelineno-32-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-26" name="__codelineno-32-26" href="#__codelineno-32-26"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-32-27" name="__codelineno-32-27" href="#__codelineno-32-27"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-28" name="__codelineno-32-28" href="#__codelineno-32-28"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Findmin1</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-32-29" name="__codelineno-32-29" href="#__codelineno-32-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-30" name="__codelineno-32-30" href="#__codelineno-32-30"></a><span class="p">}</span>
<a id="__codelineno-32-31" name="__codelineno-32-31" href="#__codelineno-32-31"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Iter_Findmin</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-32-32" name="__codelineno-32-32" href="#__codelineno-32-32"></a><span class="p">{</span>
<a id="__codelineno-32-33" name="__codelineno-32-33" href="#__codelineno-32-33"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-34" name="__codelineno-32-34" href="#__codelineno-32-34"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-35" name="__codelineno-32-35" href="#__codelineno-32-35"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-32-36" name="__codelineno-32-36" href="#__codelineno-32-36"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-37" name="__codelineno-32-37" href="#__codelineno-32-37"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-32-38" name="__codelineno-32-38" href="#__codelineno-32-38"></a><span class="w">            </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-32-39" name="__codelineno-32-39" href="#__codelineno-32-39"></a><span class="w">            </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-32-40" name="__codelineno-32-40" href="#__codelineno-32-40"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-32-41" name="__codelineno-32-41" href="#__codelineno-32-41"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">min</span><span class="p">;</span>
<a id="__codelineno-32-42" name="__codelineno-32-42" href="#__codelineno-32-42"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-43" name="__codelineno-32-43" href="#__codelineno-32-43"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-32-44" name="__codelineno-32-44" href="#__codelineno-32-44"></a><span class="p">}</span>
<a id="__codelineno-32-45" name="__codelineno-32-45" href="#__codelineno-32-45"></a><span class="c1">// Findmax 找到树的最大值</span>
<a id="__codelineno-32-46" name="__codelineno-32-46" href="#__codelineno-32-46"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Findmax</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-32-47" name="__codelineno-32-47" href="#__codelineno-32-47"></a><span class="p">{</span>
<a id="__codelineno-32-48" name="__codelineno-32-48" href="#__codelineno-32-48"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-49" name="__codelineno-32-49" href="#__codelineno-32-49"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-50" name="__codelineno-32-50" href="#__codelineno-32-50"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-32-51" name="__codelineno-32-51" href="#__codelineno-32-51"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-52" name="__codelineno-32-52" href="#__codelineno-32-52"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-53" name="__codelineno-32-53" href="#__codelineno-32-53"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-54" name="__codelineno-32-54" href="#__codelineno-32-54"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-32-55" name="__codelineno-32-55" href="#__codelineno-32-55"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-56" name="__codelineno-32-56" href="#__codelineno-32-56"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-32-57" name="__codelineno-32-57" href="#__codelineno-32-57"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-58" name="__codelineno-32-58" href="#__codelineno-32-58"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Findmax</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-32-59" name="__codelineno-32-59" href="#__codelineno-32-59"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-60" name="__codelineno-32-60" href="#__codelineno-32-60"></a><span class="p">}</span>
<a id="__codelineno-32-61" name="__codelineno-32-61" href="#__codelineno-32-61"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">Findmax1</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-32-62" name="__codelineno-32-62" href="#__codelineno-32-62"></a><span class="p">{</span>
<a id="__codelineno-32-63" name="__codelineno-32-63" href="#__codelineno-32-63"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-64" name="__codelineno-32-64" href="#__codelineno-32-64"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-65" name="__codelineno-32-65" href="#__codelineno-32-65"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-32-66" name="__codelineno-32-66" href="#__codelineno-32-66"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-67" name="__codelineno-32-67" href="#__codelineno-32-67"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-68" name="__codelineno-32-68" href="#__codelineno-32-68"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-69" name="__codelineno-32-69" href="#__codelineno-32-69"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-32-70" name="__codelineno-32-70" href="#__codelineno-32-70"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-71" name="__codelineno-32-71" href="#__codelineno-32-71"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-32-72" name="__codelineno-32-72" href="#__codelineno-32-72"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-73" name="__codelineno-32-73" href="#__codelineno-32-73"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Findmax1</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-32-74" name="__codelineno-32-74" href="#__codelineno-32-74"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-75" name="__codelineno-32-75" href="#__codelineno-32-75"></a><span class="p">}</span>
<a id="__codelineno-32-76" name="__codelineno-32-76" href="#__codelineno-32-76"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Iter_Findmax</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-32-77" name="__codelineno-32-77" href="#__codelineno-32-77"></a><span class="p">{</span>
<a id="__codelineno-32-78" name="__codelineno-32-78" href="#__codelineno-32-78"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-79" name="__codelineno-32-79" href="#__codelineno-32-79"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-32-80" name="__codelineno-32-80" href="#__codelineno-32-80"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-32-81" name="__codelineno-32-81" href="#__codelineno-32-81"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-32-82" name="__codelineno-32-82" href="#__codelineno-32-82"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-32-83" name="__codelineno-32-83" href="#__codelineno-32-83"></a><span class="w">            </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-32-84" name="__codelineno-32-84" href="#__codelineno-32-84"></a><span class="w">            </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-32-85" name="__codelineno-32-85" href="#__codelineno-32-85"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-32-86" name="__codelineno-32-86" href="#__codelineno-32-86"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">max</span><span class="p">;</span>
<a id="__codelineno-32-87" name="__codelineno-32-87" href="#__codelineno-32-87"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-88" name="__codelineno-32-88" href="#__codelineno-32-88"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-32-89" name="__codelineno-32-89" href="#__codelineno-32-89"></a><span class="p">}</span>
<a id="__codelineno-32-90" name="__codelineno-32-90" href="#__codelineno-32-90"></a><span class="c1">// 删除最小值的结点</span>
</code></pre></div>
<h3 id="563">5.6.3 遍历<a class="headerlink" href="#563" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Preorder</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="p">{</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="w">        </span><span class="n">Preorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="w">        </span><span class="n">Preorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="p">}</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="c1">// 中序遍历， left --- root --- right</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Inorder</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="p">{</span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="w">        </span><span class="n">Inorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a><span class="w">        </span><span class="n">Inorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a><span class="p">}</span>
<a id="__codelineno-33-28" name="__codelineno-33-28" href="#__codelineno-33-28"></a><span class="c1">// 后序遍历， left --- right --- root</span>
<a id="__codelineno-33-29" name="__codelineno-33-29" href="#__codelineno-33-29"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Postorder</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-33-30" name="__codelineno-33-30" href="#__codelineno-33-30"></a><span class="p">{</span>
<a id="__codelineno-33-31" name="__codelineno-33-31" href="#__codelineno-33-31"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-33-32" name="__codelineno-33-32" href="#__codelineno-33-32"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-33-33" name="__codelineno-33-33" href="#__codelineno-33-33"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-33-34" name="__codelineno-33-34" href="#__codelineno-33-34"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-35" name="__codelineno-33-35" href="#__codelineno-33-35"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-33-36" name="__codelineno-33-36" href="#__codelineno-33-36"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-33-37" name="__codelineno-33-37" href="#__codelineno-33-37"></a><span class="w">        </span><span class="n">Postorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-33-38" name="__codelineno-33-38" href="#__codelineno-33-38"></a><span class="w">        </span><span class="n">Postorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-33-39" name="__codelineno-33-39" href="#__codelineno-33-39"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-33-40" name="__codelineno-33-40" href="#__codelineno-33-40"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-41" name="__codelineno-33-41" href="#__codelineno-33-41"></a><span class="p">}</span>
<a id="__codelineno-33-42" name="__codelineno-33-42" href="#__codelineno-33-42"></a><span class="c1">// 层序遍历</span>
<a id="__codelineno-33-43" name="__codelineno-33-43" href="#__codelineno-33-43"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Levelorder</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-33-44" name="__codelineno-33-44" href="#__codelineno-33-44"></a><span class="p">{</span>
<a id="__codelineno-33-45" name="__codelineno-33-45" href="#__codelineno-33-45"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-33-46" name="__codelineno-33-46" href="#__codelineno-33-46"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-33-47" name="__codelineno-33-47" href="#__codelineno-33-47"></a><span class="w">        </span><span class="n">Tree</span><span class="w"> </span><span class="n">queue</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
<a id="__codelineno-33-48" name="__codelineno-33-48" href="#__codelineno-33-48"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-33-49" name="__codelineno-33-49" href="#__codelineno-33-49"></a><span class="w">        </span><span class="n">queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-33-50" name="__codelineno-33-50" href="#__codelineno-33-50"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">front</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">rear</span><span class="p">)</span>
<a id="__codelineno-33-51" name="__codelineno-33-51" href="#__codelineno-33-51"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-33-52" name="__codelineno-33-52" href="#__codelineno-33-52"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queue</span><span class="p">[</span><span class="n">front</span><span class="o">++</span><span class="p">];</span>
<a id="__codelineno-33-53" name="__codelineno-33-53" href="#__codelineno-33-53"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-33-54" name="__codelineno-33-54" href="#__codelineno-33-54"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span>
<a id="__codelineno-33-55" name="__codelineno-33-55" href="#__codelineno-33-55"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-33-56" name="__codelineno-33-56" href="#__codelineno-33-56"></a><span class="w">                </span><span class="n">queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-33-57" name="__codelineno-33-57" href="#__codelineno-33-57"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-33-58" name="__codelineno-33-58" href="#__codelineno-33-58"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span>
<a id="__codelineno-33-59" name="__codelineno-33-59" href="#__codelineno-33-59"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-33-60" name="__codelineno-33-60" href="#__codelineno-33-60"></a><span class="w">                </span><span class="n">queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-33-61" name="__codelineno-33-61" href="#__codelineno-33-61"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-33-62" name="__codelineno-33-62" href="#__codelineno-33-62"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-33-63" name="__codelineno-33-63" href="#__codelineno-33-63"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-64" name="__codelineno-33-64" href="#__codelineno-33-64"></a><span class="p">}</span>
</code></pre></div>
<h3 id="564-delete">5.6.4 Delete<a class="headerlink" href="#564-delete" title="Permanent link">&para;</a></h3>
<p><strong>Delete a leaf node :</strong> <strong>Reset its parent link to NULL.</strong></p>
<p><strong>Delete a degree 1 node :</strong> <strong>Replace the node by its single child.</strong></p>
<p><strong>Delete a degree 2 node :</strong></p>
<ul>
<li><strong>Replace the node by the</strong> <strong>largest</strong> <strong>one in its</strong> <strong>left</strong> <strong>subtree</strong> <strong>or</strong> <strong>the</strong> <strong>smallest</strong> <strong>one in its</strong> <strong>right</strong> <strong>subtree.</strong></li>
</ul>
<p>用左子树的最大值或者右子树的最小值进行替换</p>
<ul>
<li><strong>Delete the replacing node from the subtree.</strong></li>
</ul>
<p>再将替换用的数进行删除</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">DeleteMin</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="p">{</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeleteMin</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="p">}</span>
<a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">DeleteMin_Iter</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a><span class="p">{</span>
<a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-34-29" name="__codelineno-34-29" href="#__codelineno-34-29"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-34-30" name="__codelineno-34-30" href="#__codelineno-34-30"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-34-31" name="__codelineno-34-31" href="#__codelineno-34-31"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-34-32" name="__codelineno-34-32" href="#__codelineno-34-32"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-34-33" name="__codelineno-34-33" href="#__codelineno-34-33"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-34-34" name="__codelineno-34-34" href="#__codelineno-34-34"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-34-35" name="__codelineno-34-35" href="#__codelineno-34-35"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-36" name="__codelineno-34-36" href="#__codelineno-34-36"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-34-37" name="__codelineno-34-37" href="#__codelineno-34-37"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-34-38" name="__codelineno-34-38" href="#__codelineno-34-38"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-34-39" name="__codelineno-34-39" href="#__codelineno-34-39"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-34-40" name="__codelineno-34-40" href="#__codelineno-34-40"></a><span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="n">child</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-34-41" name="__codelineno-34-41" href="#__codelineno-34-41"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-34-42" name="__codelineno-34-42" href="#__codelineno-34-42"></a><span class="w">                </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>
<a id="__codelineno-34-43" name="__codelineno-34-43" href="#__codelineno-34-43"></a><span class="w">                </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-34-44" name="__codelineno-34-44" href="#__codelineno-34-44"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-34-45" name="__codelineno-34-45" href="#__codelineno-34-45"></a><span class="w">            </span><span class="c1">// now child is the min node</span>
<a id="__codelineno-34-46" name="__codelineno-34-46" href="#__codelineno-34-46"></a><span class="w">            </span><span class="c1">// 如果child-&gt;right 存在，那么用child-&gt;right顶替child的位置</span>
<a id="__codelineno-34-47" name="__codelineno-34-47" href="#__codelineno-34-47"></a><span class="w">            </span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-34-48" name="__codelineno-34-48" href="#__codelineno-34-48"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">child</span><span class="p">);</span>
<a id="__codelineno-34-49" name="__codelineno-34-49" href="#__codelineno-34-49"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-34-50" name="__codelineno-34-50" href="#__codelineno-34-50"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-51" name="__codelineno-34-51" href="#__codelineno-34-51"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-52" name="__codelineno-34-52" href="#__codelineno-34-52"></a><span class="p">}</span>
<a id="__codelineno-34-53" name="__codelineno-34-53" href="#__codelineno-34-53"></a><span class="c1">// 删除最大值的结点</span>
<a id="__codelineno-34-54" name="__codelineno-34-54" href="#__codelineno-34-54"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">DeleteMax</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-34-55" name="__codelineno-34-55" href="#__codelineno-34-55"></a><span class="p">{</span>
<a id="__codelineno-34-56" name="__codelineno-34-56" href="#__codelineno-34-56"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-34-57" name="__codelineno-34-57" href="#__codelineno-34-57"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-34-58" name="__codelineno-34-58" href="#__codelineno-34-58"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-34-59" name="__codelineno-34-59" href="#__codelineno-34-59"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-60" name="__codelineno-34-60" href="#__codelineno-34-60"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-34-61" name="__codelineno-34-61" href="#__codelineno-34-61"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-34-62" name="__codelineno-34-62" href="#__codelineno-34-62"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-34-63" name="__codelineno-34-63" href="#__codelineno-34-63"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-34-64" name="__codelineno-34-64" href="#__codelineno-34-64"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-34-65" name="__codelineno-34-65" href="#__codelineno-34-65"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-34-66" name="__codelineno-34-66" href="#__codelineno-34-66"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-34-67" name="__codelineno-34-67" href="#__codelineno-34-67"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-68" name="__codelineno-34-68" href="#__codelineno-34-68"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-34-69" name="__codelineno-34-69" href="#__codelineno-34-69"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-34-70" name="__codelineno-34-70" href="#__codelineno-34-70"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeleteMax</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-34-71" name="__codelineno-34-71" href="#__codelineno-34-71"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-34-72" name="__codelineno-34-72" href="#__codelineno-34-72"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-73" name="__codelineno-34-73" href="#__codelineno-34-73"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-74" name="__codelineno-34-74" href="#__codelineno-34-74"></a><span class="p">}</span>
<a id="__codelineno-34-75" name="__codelineno-34-75" href="#__codelineno-34-75"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">DeleteMax_Iter</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-34-76" name="__codelineno-34-76" href="#__codelineno-34-76"></a><span class="p">{</span>
<a id="__codelineno-34-77" name="__codelineno-34-77" href="#__codelineno-34-77"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-34-78" name="__codelineno-34-78" href="#__codelineno-34-78"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-34-79" name="__codelineno-34-79" href="#__codelineno-34-79"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-34-80" name="__codelineno-34-80" href="#__codelineno-34-80"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-81" name="__codelineno-34-81" href="#__codelineno-34-81"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-34-82" name="__codelineno-34-82" href="#__codelineno-34-82"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-34-83" name="__codelineno-34-83" href="#__codelineno-34-83"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-34-84" name="__codelineno-34-84" href="#__codelineno-34-84"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-34-85" name="__codelineno-34-85" href="#__codelineno-34-85"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-34-86" name="__codelineno-34-86" href="#__codelineno-34-86"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-34-87" name="__codelineno-34-87" href="#__codelineno-34-87"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-34-88" name="__codelineno-34-88" href="#__codelineno-34-88"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-89" name="__codelineno-34-89" href="#__codelineno-34-89"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-34-90" name="__codelineno-34-90" href="#__codelineno-34-90"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-34-91" name="__codelineno-34-91" href="#__codelineno-34-91"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-34-92" name="__codelineno-34-92" href="#__codelineno-34-92"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-34-93" name="__codelineno-34-93" href="#__codelineno-34-93"></a><span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="n">child</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-34-94" name="__codelineno-34-94" href="#__codelineno-34-94"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-34-95" name="__codelineno-34-95" href="#__codelineno-34-95"></a><span class="w">                </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>
<a id="__codelineno-34-96" name="__codelineno-34-96" href="#__codelineno-34-96"></a><span class="w">                </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-34-97" name="__codelineno-34-97" href="#__codelineno-34-97"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-34-98" name="__codelineno-34-98" href="#__codelineno-34-98"></a><span class="w">            </span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-34-99" name="__codelineno-34-99" href="#__codelineno-34-99"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">child</span><span class="p">);</span>
<a id="__codelineno-34-100" name="__codelineno-34-100" href="#__codelineno-34-100"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-34-101" name="__codelineno-34-101" href="#__codelineno-34-101"></a>
<a id="__codelineno-34-102" name="__codelineno-34-102" href="#__codelineno-34-102"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-103" name="__codelineno-34-103" href="#__codelineno-34-103"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-104" name="__codelineno-34-104" href="#__codelineno-34-104"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1">// 删除指定值的结点</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="c1">// Delete a leaf node :  Reset its parent link to NULL.</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="c1">// Delete a degree 1 node :  Replace the node by its single child.</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="c1">// Delete a degree 2 node :  Replace the node by the largest one in its left subtree or the smallest one in its right subtree.</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="c1">// Delete the replacing node from the subtree.</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">Delete</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="p">{</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Element not found</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="w">        </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Delete</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="w">        </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Delete</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="c1">// value == T-&gt;data  分leaf,degree = 1, degree = 2 进行讨论</span>
<a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a><span class="w">    </span><span class="p">{</span><span class="w">   </span>
<a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="c1">// leaf</span>
<a id="__codelineno-35-26" name="__codelineno-35-26" href="#__codelineno-35-26"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-35-27" name="__codelineno-35-27" href="#__codelineno-35-27"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-35-28" name="__codelineno-35-28" href="#__codelineno-35-28"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-35-29" name="__codelineno-35-29" href="#__codelineno-35-29"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-35-30" name="__codelineno-35-30" href="#__codelineno-35-30"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="c1">// degree = 1;</span>
<a id="__codelineno-35-31" name="__codelineno-35-31" href="#__codelineno-35-31"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-35-32" name="__codelineno-35-32" href="#__codelineno-35-32"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-35-33" name="__codelineno-35-33" href="#__codelineno-35-33"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-35-34" name="__codelineno-35-34" href="#__codelineno-35-34"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-35-35" name="__codelineno-35-35" href="#__codelineno-35-35"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-35-36" name="__codelineno-35-36" href="#__codelineno-35-36"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="c1">// degree = 1;</span>
<a id="__codelineno-35-37" name="__codelineno-35-37" href="#__codelineno-35-37"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-35-38" name="__codelineno-35-38" href="#__codelineno-35-38"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-35-39" name="__codelineno-35-39" href="#__codelineno-35-39"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-35-40" name="__codelineno-35-40" href="#__codelineno-35-40"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-35-41" name="__codelineno-35-41" href="#__codelineno-35-41"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-35-42" name="__codelineno-35-42" href="#__codelineno-35-42"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="c1">// degree = 2;</span>
<a id="__codelineno-35-43" name="__codelineno-35-43" href="#__codelineno-35-43"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-35-44" name="__codelineno-35-44" href="#__codelineno-35-44"></a><span class="w">            </span><span class="c1">// replace the node by the smallest one in its right subtree</span>
<a id="__codelineno-35-45" name="__codelineno-35-45" href="#__codelineno-35-45"></a><span class="w">            </span><span class="c1">// Tree temp = Findmin1(T-&gt;right);</span>
<a id="__codelineno-35-46" name="__codelineno-35-46" href="#__codelineno-35-46"></a><span class="w">            </span><span class="c1">// T-&gt;data = temp-&gt;data;</span>
<a id="__codelineno-35-47" name="__codelineno-35-47" href="#__codelineno-35-47"></a><span class="w">            </span><span class="c1">// T-&gt;right = Delete(T-&gt;right, temp-&gt;data);</span>
<a id="__codelineno-35-48" name="__codelineno-35-48" href="#__codelineno-35-48"></a><span class="w">            </span><span class="c1">// return T;</span>
<a id="__codelineno-35-49" name="__codelineno-35-49" href="#__codelineno-35-49"></a><span class="w">            </span><span class="c1">// replace the node by the largest one in its left subtree</span>
<a id="__codelineno-35-50" name="__codelineno-35-50" href="#__codelineno-35-50"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Findmax1</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-35-51" name="__codelineno-35-51" href="#__codelineno-35-51"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-35-52" name="__codelineno-35-52" href="#__codelineno-35-52"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Delete</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-35-53" name="__codelineno-35-53" href="#__codelineno-35-53"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-35-54" name="__codelineno-35-54" href="#__codelineno-35-54"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-35-55" name="__codelineno-35-55" href="#__codelineno-35-55"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-56" name="__codelineno-35-56" href="#__codelineno-35-56"></a><span class="p">}</span>
</code></pre></div>
<h3 id="565">5.6.5 汇总<a class="headerlink" href="#565" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="cp">#include</span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="c1">//定义二分搜索树结构体</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">TreeNode</span><span class="o">*</span><span class="w"> </span><span class="n">Tree</span><span class="p">;</span><span class="w"> </span><span class="c1">// tree 代表struct TreeNode*</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="k">struct</span><span class="w"> </span><span class="nc">TreeNode</span><span class="p">{</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">    </span><span class="n">Tree</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="w">    </span><span class="n">Tree</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="p">}</span><span class="n">TreeNode</span><span class="p">;</span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="c1">//定义二分搜索树的插入函数</span>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">Insert</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a><span class="p">{</span>
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="w">        </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Tree</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">TreeNode</span><span class="p">));</span>
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a><span class="w">        </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a><span class="w">        </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a><span class="w">        </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-29" name="__codelineno-36-29" href="#__codelineno-36-29"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-36-30" name="__codelineno-36-30" href="#__codelineno-36-30"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-31" name="__codelineno-36-31" href="#__codelineno-36-31"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<a id="__codelineno-36-32" name="__codelineno-36-32" href="#__codelineno-36-32"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-33" name="__codelineno-36-33" href="#__codelineno-36-33"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-36-34" name="__codelineno-36-34" href="#__codelineno-36-34"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-35" name="__codelineno-36-35" href="#__codelineno-36-35"></a><span class="p">}</span>
<a id="__codelineno-36-36" name="__codelineno-36-36" href="#__codelineno-36-36"></a><span class="c1">// 前序遍历， root --- left --- right</span>
<a id="__codelineno-36-37" name="__codelineno-36-37" href="#__codelineno-36-37"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Preorder</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-38" name="__codelineno-36-38" href="#__codelineno-36-38"></a><span class="p">{</span>
<a id="__codelineno-36-39" name="__codelineno-36-39" href="#__codelineno-36-39"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-40" name="__codelineno-36-40" href="#__codelineno-36-40"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-41" name="__codelineno-36-41" href="#__codelineno-36-41"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-36-42" name="__codelineno-36-42" href="#__codelineno-36-42"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-43" name="__codelineno-36-43" href="#__codelineno-36-43"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-36-44" name="__codelineno-36-44" href="#__codelineno-36-44"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-45" name="__codelineno-36-45" href="#__codelineno-36-45"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-36-46" name="__codelineno-36-46" href="#__codelineno-36-46"></a><span class="w">        </span><span class="n">Preorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-36-47" name="__codelineno-36-47" href="#__codelineno-36-47"></a><span class="w">        </span><span class="n">Preorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-36-48" name="__codelineno-36-48" href="#__codelineno-36-48"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-49" name="__codelineno-36-49" href="#__codelineno-36-49"></a><span class="p">}</span>
<a id="__codelineno-36-50" name="__codelineno-36-50" href="#__codelineno-36-50"></a><span class="c1">// 中序遍历， left --- root --- right</span>
<a id="__codelineno-36-51" name="__codelineno-36-51" href="#__codelineno-36-51"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Inorder</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-52" name="__codelineno-36-52" href="#__codelineno-36-52"></a><span class="p">{</span>
<a id="__codelineno-36-53" name="__codelineno-36-53" href="#__codelineno-36-53"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-54" name="__codelineno-36-54" href="#__codelineno-36-54"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-55" name="__codelineno-36-55" href="#__codelineno-36-55"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-36-56" name="__codelineno-36-56" href="#__codelineno-36-56"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-57" name="__codelineno-36-57" href="#__codelineno-36-57"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-36-58" name="__codelineno-36-58" href="#__codelineno-36-58"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-59" name="__codelineno-36-59" href="#__codelineno-36-59"></a><span class="w">        </span><span class="n">Inorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-36-60" name="__codelineno-36-60" href="#__codelineno-36-60"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-36-61" name="__codelineno-36-61" href="#__codelineno-36-61"></a><span class="w">        </span><span class="n">Inorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-36-62" name="__codelineno-36-62" href="#__codelineno-36-62"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-63" name="__codelineno-36-63" href="#__codelineno-36-63"></a><span class="p">}</span>
<a id="__codelineno-36-64" name="__codelineno-36-64" href="#__codelineno-36-64"></a><span class="c1">// 后序遍历， left --- right --- root</span>
<a id="__codelineno-36-65" name="__codelineno-36-65" href="#__codelineno-36-65"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Postorder</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-66" name="__codelineno-36-66" href="#__codelineno-36-66"></a><span class="p">{</span>
<a id="__codelineno-36-67" name="__codelineno-36-67" href="#__codelineno-36-67"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-68" name="__codelineno-36-68" href="#__codelineno-36-68"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-69" name="__codelineno-36-69" href="#__codelineno-36-69"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-36-70" name="__codelineno-36-70" href="#__codelineno-36-70"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-71" name="__codelineno-36-71" href="#__codelineno-36-71"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-36-72" name="__codelineno-36-72" href="#__codelineno-36-72"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-73" name="__codelineno-36-73" href="#__codelineno-36-73"></a><span class="w">        </span><span class="n">Postorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-36-74" name="__codelineno-36-74" href="#__codelineno-36-74"></a><span class="w">        </span><span class="n">Postorder</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-36-75" name="__codelineno-36-75" href="#__codelineno-36-75"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-36-76" name="__codelineno-36-76" href="#__codelineno-36-76"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-77" name="__codelineno-36-77" href="#__codelineno-36-77"></a><span class="p">}</span>
<a id="__codelineno-36-78" name="__codelineno-36-78" href="#__codelineno-36-78"></a><span class="c1">// Findmin 找到树的最小值</span>
<a id="__codelineno-36-79" name="__codelineno-36-79" href="#__codelineno-36-79"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Findmin</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-80" name="__codelineno-36-80" href="#__codelineno-36-80"></a><span class="p">{</span>
<a id="__codelineno-36-81" name="__codelineno-36-81" href="#__codelineno-36-81"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-82" name="__codelineno-36-82" href="#__codelineno-36-82"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-83" name="__codelineno-36-83" href="#__codelineno-36-83"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-36-84" name="__codelineno-36-84" href="#__codelineno-36-84"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-85" name="__codelineno-36-85" href="#__codelineno-36-85"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-86" name="__codelineno-36-86" href="#__codelineno-36-86"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-87" name="__codelineno-36-87" href="#__codelineno-36-87"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-36-88" name="__codelineno-36-88" href="#__codelineno-36-88"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-89" name="__codelineno-36-89" href="#__codelineno-36-89"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-36-90" name="__codelineno-36-90" href="#__codelineno-36-90"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-91" name="__codelineno-36-91" href="#__codelineno-36-91"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Findmin</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-36-92" name="__codelineno-36-92" href="#__codelineno-36-92"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-93" name="__codelineno-36-93" href="#__codelineno-36-93"></a><span class="p">}</span>
<a id="__codelineno-36-94" name="__codelineno-36-94" href="#__codelineno-36-94"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">Findmin1</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-95" name="__codelineno-36-95" href="#__codelineno-36-95"></a><span class="p">{</span>
<a id="__codelineno-36-96" name="__codelineno-36-96" href="#__codelineno-36-96"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-97" name="__codelineno-36-97" href="#__codelineno-36-97"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-98" name="__codelineno-36-98" href="#__codelineno-36-98"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-36-99" name="__codelineno-36-99" href="#__codelineno-36-99"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-100" name="__codelineno-36-100" href="#__codelineno-36-100"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-101" name="__codelineno-36-101" href="#__codelineno-36-101"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-102" name="__codelineno-36-102" href="#__codelineno-36-102"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-36-103" name="__codelineno-36-103" href="#__codelineno-36-103"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-104" name="__codelineno-36-104" href="#__codelineno-36-104"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-36-105" name="__codelineno-36-105" href="#__codelineno-36-105"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-106" name="__codelineno-36-106" href="#__codelineno-36-106"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Findmin1</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-36-107" name="__codelineno-36-107" href="#__codelineno-36-107"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-108" name="__codelineno-36-108" href="#__codelineno-36-108"></a><span class="p">}</span>
<a id="__codelineno-36-109" name="__codelineno-36-109" href="#__codelineno-36-109"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Iter_Findmin</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-110" name="__codelineno-36-110" href="#__codelineno-36-110"></a><span class="p">{</span>
<a id="__codelineno-36-111" name="__codelineno-36-111" href="#__codelineno-36-111"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-112" name="__codelineno-36-112" href="#__codelineno-36-112"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-113" name="__codelineno-36-113" href="#__codelineno-36-113"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-36-114" name="__codelineno-36-114" href="#__codelineno-36-114"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-115" name="__codelineno-36-115" href="#__codelineno-36-115"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-116" name="__codelineno-36-116" href="#__codelineno-36-116"></a><span class="w">            </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-36-117" name="__codelineno-36-117" href="#__codelineno-36-117"></a><span class="w">            </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-36-118" name="__codelineno-36-118" href="#__codelineno-36-118"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-119" name="__codelineno-36-119" href="#__codelineno-36-119"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">min</span><span class="p">;</span>
<a id="__codelineno-36-120" name="__codelineno-36-120" href="#__codelineno-36-120"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-121" name="__codelineno-36-121" href="#__codelineno-36-121"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-36-122" name="__codelineno-36-122" href="#__codelineno-36-122"></a><span class="p">}</span>
<a id="__codelineno-36-123" name="__codelineno-36-123" href="#__codelineno-36-123"></a><span class="c1">// Findmax 找到树的最大值</span>
<a id="__codelineno-36-124" name="__codelineno-36-124" href="#__codelineno-36-124"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Findmax</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-125" name="__codelineno-36-125" href="#__codelineno-36-125"></a><span class="p">{</span>
<a id="__codelineno-36-126" name="__codelineno-36-126" href="#__codelineno-36-126"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-127" name="__codelineno-36-127" href="#__codelineno-36-127"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-128" name="__codelineno-36-128" href="#__codelineno-36-128"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-36-129" name="__codelineno-36-129" href="#__codelineno-36-129"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-130" name="__codelineno-36-130" href="#__codelineno-36-130"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-131" name="__codelineno-36-131" href="#__codelineno-36-131"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-132" name="__codelineno-36-132" href="#__codelineno-36-132"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-36-133" name="__codelineno-36-133" href="#__codelineno-36-133"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-134" name="__codelineno-36-134" href="#__codelineno-36-134"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-36-135" name="__codelineno-36-135" href="#__codelineno-36-135"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-136" name="__codelineno-36-136" href="#__codelineno-36-136"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Findmax</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-36-137" name="__codelineno-36-137" href="#__codelineno-36-137"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-138" name="__codelineno-36-138" href="#__codelineno-36-138"></a><span class="p">}</span>
<a id="__codelineno-36-139" name="__codelineno-36-139" href="#__codelineno-36-139"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">Findmax1</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-140" name="__codelineno-36-140" href="#__codelineno-36-140"></a><span class="p">{</span>
<a id="__codelineno-36-141" name="__codelineno-36-141" href="#__codelineno-36-141"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-142" name="__codelineno-36-142" href="#__codelineno-36-142"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-143" name="__codelineno-36-143" href="#__codelineno-36-143"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-36-144" name="__codelineno-36-144" href="#__codelineno-36-144"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-145" name="__codelineno-36-145" href="#__codelineno-36-145"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-146" name="__codelineno-36-146" href="#__codelineno-36-146"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-147" name="__codelineno-36-147" href="#__codelineno-36-147"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-36-148" name="__codelineno-36-148" href="#__codelineno-36-148"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-149" name="__codelineno-36-149" href="#__codelineno-36-149"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-36-150" name="__codelineno-36-150" href="#__codelineno-36-150"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-151" name="__codelineno-36-151" href="#__codelineno-36-151"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Findmax1</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-36-152" name="__codelineno-36-152" href="#__codelineno-36-152"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-153" name="__codelineno-36-153" href="#__codelineno-36-153"></a><span class="p">}</span>
<a id="__codelineno-36-154" name="__codelineno-36-154" href="#__codelineno-36-154"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Iter_Findmax</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-155" name="__codelineno-36-155" href="#__codelineno-36-155"></a><span class="p">{</span>
<a id="__codelineno-36-156" name="__codelineno-36-156" href="#__codelineno-36-156"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-157" name="__codelineno-36-157" href="#__codelineno-36-157"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-158" name="__codelineno-36-158" href="#__codelineno-36-158"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-36-159" name="__codelineno-36-159" href="#__codelineno-36-159"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-160" name="__codelineno-36-160" href="#__codelineno-36-160"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-161" name="__codelineno-36-161" href="#__codelineno-36-161"></a><span class="w">            </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-36-162" name="__codelineno-36-162" href="#__codelineno-36-162"></a><span class="w">            </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-36-163" name="__codelineno-36-163" href="#__codelineno-36-163"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-164" name="__codelineno-36-164" href="#__codelineno-36-164"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">max</span><span class="p">;</span>
<a id="__codelineno-36-165" name="__codelineno-36-165" href="#__codelineno-36-165"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-166" name="__codelineno-36-166" href="#__codelineno-36-166"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-36-167" name="__codelineno-36-167" href="#__codelineno-36-167"></a><span class="p">}</span>
<a id="__codelineno-36-168" name="__codelineno-36-168" href="#__codelineno-36-168"></a><span class="c1">// 删除最小值的结点</span>
<a id="__codelineno-36-169" name="__codelineno-36-169" href="#__codelineno-36-169"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">DeleteMin</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-170" name="__codelineno-36-170" href="#__codelineno-36-170"></a><span class="p">{</span>
<a id="__codelineno-36-171" name="__codelineno-36-171" href="#__codelineno-36-171"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-172" name="__codelineno-36-172" href="#__codelineno-36-172"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-173" name="__codelineno-36-173" href="#__codelineno-36-173"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-36-174" name="__codelineno-36-174" href="#__codelineno-36-174"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-175" name="__codelineno-36-175" href="#__codelineno-36-175"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-36-176" name="__codelineno-36-176" href="#__codelineno-36-176"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-177" name="__codelineno-36-177" href="#__codelineno-36-177"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-178" name="__codelineno-36-178" href="#__codelineno-36-178"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-179" name="__codelineno-36-179" href="#__codelineno-36-179"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-36-180" name="__codelineno-36-180" href="#__codelineno-36-180"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-36-181" name="__codelineno-36-181" href="#__codelineno-36-181"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-36-182" name="__codelineno-36-182" href="#__codelineno-36-182"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-183" name="__codelineno-36-183" href="#__codelineno-36-183"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-36-184" name="__codelineno-36-184" href="#__codelineno-36-184"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-185" name="__codelineno-36-185" href="#__codelineno-36-185"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeleteMin</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-36-186" name="__codelineno-36-186" href="#__codelineno-36-186"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-36-187" name="__codelineno-36-187" href="#__codelineno-36-187"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-188" name="__codelineno-36-188" href="#__codelineno-36-188"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-189" name="__codelineno-36-189" href="#__codelineno-36-189"></a><span class="p">}</span>
<a id="__codelineno-36-190" name="__codelineno-36-190" href="#__codelineno-36-190"></a><span class="c1">// 删除最大值的结点</span>
<a id="__codelineno-36-191" name="__codelineno-36-191" href="#__codelineno-36-191"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">DeleteMax</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-36-192" name="__codelineno-36-192" href="#__codelineno-36-192"></a><span class="p">{</span>
<a id="__codelineno-36-193" name="__codelineno-36-193" href="#__codelineno-36-193"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-194" name="__codelineno-36-194" href="#__codelineno-36-194"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-195" name="__codelineno-36-195" href="#__codelineno-36-195"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-36-196" name="__codelineno-36-196" href="#__codelineno-36-196"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-197" name="__codelineno-36-197" href="#__codelineno-36-197"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-36-198" name="__codelineno-36-198" href="#__codelineno-36-198"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-199" name="__codelineno-36-199" href="#__codelineno-36-199"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-200" name="__codelineno-36-200" href="#__codelineno-36-200"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-201" name="__codelineno-36-201" href="#__codelineno-36-201"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-36-202" name="__codelineno-36-202" href="#__codelineno-36-202"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-36-203" name="__codelineno-36-203" href="#__codelineno-36-203"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-36-204" name="__codelineno-36-204" href="#__codelineno-36-204"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-205" name="__codelineno-36-205" href="#__codelineno-36-205"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-36-206" name="__codelineno-36-206" href="#__codelineno-36-206"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-207" name="__codelineno-36-207" href="#__codelineno-36-207"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeleteMax</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<a id="__codelineno-36-208" name="__codelineno-36-208" href="#__codelineno-36-208"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-36-209" name="__codelineno-36-209" href="#__codelineno-36-209"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-210" name="__codelineno-36-210" href="#__codelineno-36-210"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-211" name="__codelineno-36-211" href="#__codelineno-36-211"></a><span class="p">}</span>
<a id="__codelineno-36-212" name="__codelineno-36-212" href="#__codelineno-36-212"></a><span class="c1">// 删除指定值的结点</span>
<a id="__codelineno-36-213" name="__codelineno-36-213" href="#__codelineno-36-213"></a><span class="c1">// Delete a leaf node :  Reset its parent link to NULL.</span>
<a id="__codelineno-36-214" name="__codelineno-36-214" href="#__codelineno-36-214"></a><span class="c1">// Delete a degree 1 node :  Replace the node by its single child.</span>
<a id="__codelineno-36-215" name="__codelineno-36-215" href="#__codelineno-36-215"></a><span class="c1">// Delete a degree 2 node :  Replace the node by the largest one in its left subtree or the smallest one in its right subtree.</span>
<a id="__codelineno-36-216" name="__codelineno-36-216" href="#__codelineno-36-216"></a><span class="c1">// Delete the replacing node from the subtree.</span>
<a id="__codelineno-36-217" name="__codelineno-36-217" href="#__codelineno-36-217"></a><span class="n">Tree</span><span class="w"> </span><span class="nf">Delete</span><span class="p">(</span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<a id="__codelineno-36-218" name="__codelineno-36-218" href="#__codelineno-36-218"></a><span class="p">{</span>
<a id="__codelineno-36-219" name="__codelineno-36-219" href="#__codelineno-36-219"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-36-220" name="__codelineno-36-220" href="#__codelineno-36-220"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-221" name="__codelineno-36-221" href="#__codelineno-36-221"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Element not found</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-36-222" name="__codelineno-36-222" href="#__codelineno-36-222"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-36-223" name="__codelineno-36-223" href="#__codelineno-36-223"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-224" name="__codelineno-36-224" href="#__codelineno-36-224"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-36-225" name="__codelineno-36-225" href="#__codelineno-36-225"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-226" name="__codelineno-36-226" href="#__codelineno-36-226"></a><span class="w">        </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Delete</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<a id="__codelineno-36-227" name="__codelineno-36-227" href="#__codelineno-36-227"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-36-228" name="__codelineno-36-228" href="#__codelineno-36-228"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-229" name="__codelineno-36-229" href="#__codelineno-36-229"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-36-230" name="__codelineno-36-230" href="#__codelineno-36-230"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-36-231" name="__codelineno-36-231" href="#__codelineno-36-231"></a><span class="w">        </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Delete</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<a id="__codelineno-36-232" name="__codelineno-36-232" href="#__codelineno-36-232"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-36-233" name="__codelineno-36-233" href="#__codelineno-36-233"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-234" name="__codelineno-36-234" href="#__codelineno-36-234"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="c1">// value == T-&gt;data  分leaf,degree = 1, degree = 2 进行讨论</span>
<a id="__codelineno-36-235" name="__codelineno-36-235" href="#__codelineno-36-235"></a><span class="w">    </span><span class="p">{</span><span class="w">   </span>
<a id="__codelineno-36-236" name="__codelineno-36-236" href="#__codelineno-36-236"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="c1">// leaf</span>
<a id="__codelineno-36-237" name="__codelineno-36-237" href="#__codelineno-36-237"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-238" name="__codelineno-36-238" href="#__codelineno-36-238"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-36-239" name="__codelineno-36-239" href="#__codelineno-36-239"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-36-240" name="__codelineno-36-240" href="#__codelineno-36-240"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-241" name="__codelineno-36-241" href="#__codelineno-36-241"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="c1">// degree = 1;</span>
<a id="__codelineno-36-242" name="__codelineno-36-242" href="#__codelineno-36-242"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-243" name="__codelineno-36-243" href="#__codelineno-36-243"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
<a id="__codelineno-36-244" name="__codelineno-36-244" href="#__codelineno-36-244"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-36-245" name="__codelineno-36-245" href="#__codelineno-36-245"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-36-246" name="__codelineno-36-246" href="#__codelineno-36-246"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-247" name="__codelineno-36-247" href="#__codelineno-36-247"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="c1">// degree = 1;</span>
<a id="__codelineno-36-248" name="__codelineno-36-248" href="#__codelineno-36-248"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-249" name="__codelineno-36-249" href="#__codelineno-36-249"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
<a id="__codelineno-36-250" name="__codelineno-36-250" href="#__codelineno-36-250"></a><span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-36-251" name="__codelineno-36-251" href="#__codelineno-36-251"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-36-252" name="__codelineno-36-252" href="#__codelineno-36-252"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-253" name="__codelineno-36-253" href="#__codelineno-36-253"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="c1">// degree = 2;</span>
<a id="__codelineno-36-254" name="__codelineno-36-254" href="#__codelineno-36-254"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-36-255" name="__codelineno-36-255" href="#__codelineno-36-255"></a><span class="w">            </span><span class="c1">// replace the node by the smallest one in its right subtree</span>
<a id="__codelineno-36-256" name="__codelineno-36-256" href="#__codelineno-36-256"></a><span class="w">            </span><span class="c1">// Tree temp = Findmin1(T-&gt;right);</span>
<a id="__codelineno-36-257" name="__codelineno-36-257" href="#__codelineno-36-257"></a><span class="w">            </span><span class="c1">// T-&gt;data = temp-&gt;data;</span>
<a id="__codelineno-36-258" name="__codelineno-36-258" href="#__codelineno-36-258"></a><span class="w">            </span><span class="c1">// T-&gt;right = Delete(T-&gt;right, temp-&gt;data);</span>
<a id="__codelineno-36-259" name="__codelineno-36-259" href="#__codelineno-36-259"></a><span class="w">            </span><span class="c1">// return T;</span>
<a id="__codelineno-36-260" name="__codelineno-36-260" href="#__codelineno-36-260"></a><span class="w">            </span><span class="c1">// replace the node by the largest one in its left subtree</span>
<a id="__codelineno-36-261" name="__codelineno-36-261" href="#__codelineno-36-261"></a><span class="w">            </span><span class="n">Tree</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Findmax1</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<a id="__codelineno-36-262" name="__codelineno-36-262" href="#__codelineno-36-262"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-36-263" name="__codelineno-36-263" href="#__codelineno-36-263"></a><span class="w">            </span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Delete</span><span class="p">(</span><span class="n">T</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-36-264" name="__codelineno-36-264" href="#__codelineno-36-264"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-36-265" name="__codelineno-36-265" href="#__codelineno-36-265"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-266" name="__codelineno-36-266" href="#__codelineno-36-266"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-267" name="__codelineno-36-267" href="#__codelineno-36-267"></a><span class="p">}</span>
<a id="__codelineno-36-268" name="__codelineno-36-268" href="#__codelineno-36-268"></a><span class="c1">//进行函数的声明</span>
<a id="__codelineno-36-269" name="__codelineno-36-269" href="#__codelineno-36-269"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-36-270" name="__codelineno-36-270" href="#__codelineno-36-270"></a><span class="p">{</span>
<a id="__codelineno-36-271" name="__codelineno-36-271" href="#__codelineno-36-271"></a><span class="w">    </span><span class="c1">//      3</span>
<a id="__codelineno-36-272" name="__codelineno-36-272" href="#__codelineno-36-272"></a><span class="w">    </span><span class="c1">//  2        4</span>
<a id="__codelineno-36-273" name="__codelineno-36-273" href="#__codelineno-36-273"></a><span class="w">    </span><span class="c1">//1             7</span>
<a id="__codelineno-36-274" name="__codelineno-36-274" href="#__codelineno-36-274"></a><span class="w">    </span><span class="c1">//            5   8 </span>
<a id="__codelineno-36-275" name="__codelineno-36-275" href="#__codelineno-36-275"></a><span class="w">    </span><span class="c1">//             6    9</span>
<a id="__codelineno-36-276" name="__codelineno-36-276" href="#__codelineno-36-276"></a><span class="w">    </span><span class="n">Tree</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<a id="__codelineno-36-277" name="__codelineno-36-277" href="#__codelineno-36-277"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Tree</span><span class="p">)</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">TreeNode</span><span class="p">));</span>
<a id="__codelineno-36-278" name="__codelineno-36-278" href="#__codelineno-36-278"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-36-279" name="__codelineno-36-279" href="#__codelineno-36-279"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-36-280" name="__codelineno-36-280" href="#__codelineno-36-280"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-36-281" name="__codelineno-36-281" href="#__codelineno-36-281"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-36-282" name="__codelineno-36-282" href="#__codelineno-36-282"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-36-283" name="__codelineno-36-283" href="#__codelineno-36-283"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span>
<a id="__codelineno-36-284" name="__codelineno-36-284" href="#__codelineno-36-284"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-36-285" name="__codelineno-36-285" href="#__codelineno-36-285"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<a id="__codelineno-36-286" name="__codelineno-36-286" href="#__codelineno-36-286"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<a id="__codelineno-36-287" name="__codelineno-36-287" href="#__codelineno-36-287"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">);</span>
<a id="__codelineno-36-288" name="__codelineno-36-288" href="#__codelineno-36-288"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Preorder: &quot;</span><span class="p">);</span>
<a id="__codelineno-36-289" name="__codelineno-36-289" href="#__codelineno-36-289"></a><span class="w">    </span><span class="n">Preorder</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-36-290" name="__codelineno-36-290" href="#__codelineno-36-290"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-36-291" name="__codelineno-36-291" href="#__codelineno-36-291"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Inorder: &quot;</span><span class="p">);</span>
<a id="__codelineno-36-292" name="__codelineno-36-292" href="#__codelineno-36-292"></a><span class="w">    </span><span class="n">Inorder</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-36-293" name="__codelineno-36-293" href="#__codelineno-36-293"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-36-294" name="__codelineno-36-294" href="#__codelineno-36-294"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Postorder: &quot;</span><span class="p">);</span>
<a id="__codelineno-36-295" name="__codelineno-36-295" href="#__codelineno-36-295"></a><span class="w">    </span><span class="n">Postorder</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-36-296" name="__codelineno-36-296" href="#__codelineno-36-296"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-36-297" name="__codelineno-36-297" href="#__codelineno-36-297"></a><span class="w">    </span><span class="c1">// printf(&quot;Levelorder: &quot;);</span>
<a id="__codelineno-36-298" name="__codelineno-36-298" href="#__codelineno-36-298"></a><span class="w">    </span><span class="c1">// Levelorder(T);</span>
<a id="__codelineno-36-299" name="__codelineno-36-299" href="#__codelineno-36-299"></a><span class="w">    </span><span class="c1">// printf(&quot;\n&quot;);</span>
<a id="__codelineno-36-300" name="__codelineno-36-300" href="#__codelineno-36-300"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Min: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Iter_Findmin</span><span class="p">(</span><span class="n">T</span><span class="p">));</span>
<a id="__codelineno-36-301" name="__codelineno-36-301" href="#__codelineno-36-301"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Max: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Iter_Findmax</span><span class="p">(</span><span class="n">T</span><span class="p">));</span>
<a id="__codelineno-36-302" name="__codelineno-36-302" href="#__codelineno-36-302"></a><span class="w">    </span><span class="c1">// T = DeleteMin(T);</span>
<a id="__codelineno-36-303" name="__codelineno-36-303" href="#__codelineno-36-303"></a><span class="w">    </span><span class="c1">// printf(&quot;Min: %d\n&quot;, Iter_Findmin(T));</span>
<a id="__codelineno-36-304" name="__codelineno-36-304" href="#__codelineno-36-304"></a><span class="w">    </span><span class="c1">// Inorder(T);</span>
<a id="__codelineno-36-305" name="__codelineno-36-305" href="#__codelineno-36-305"></a><span class="w">    </span><span class="c1">// printf(&quot;\n&quot;);</span>
<a id="__codelineno-36-306" name="__codelineno-36-306" href="#__codelineno-36-306"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Delete</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">7</span><span class="p">);</span>
<a id="__codelineno-36-307" name="__codelineno-36-307" href="#__codelineno-36-307"></a><span class="w">    </span><span class="n">Inorder</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
<a id="__codelineno-36-308" name="__codelineno-36-308" href="#__codelineno-36-308"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-36-309" name="__codelineno-36-309" href="#__codelineno-36-309"></a><span class="p">}</span>
</code></pre></div>
<ul>
<li><img src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205346.png" alt="image-20231024171703065"  /></li>
</ul>
<p><img src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205793.png" alt="image-20231024171707915" style="zoom: 50%;" /></p>
<p>![image-20240115203516757](</p>
<p>)</p>
<h1 id="heap">六. 堆heap<a class="headerlink" href="#heap" title="Permanent link">&para;</a></h1>
<p>什么是优先队列？</p>
<p><img alt="img" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205271.webp" /></p>
<ol>
<li>优先队列的主要操作</li>
</ol>
<ul>
<li><span class="arithmatex">\(insert(key, data):\)</span>插入键值为key的数据到优先队列中，元素以其key进行排序</li>
<li><span class="arithmatex">\(deleteMin/deleteMax:\)</span> 删除并返回最小最大键值的元素</li>
<li><span class="arithmatex">\(getMin/getMax:\)</span>返回最小最大键值的元素，并不删除它</li>
</ul>
<h2 id="61">6.1 用堆实现优先队列<a class="headerlink" href="#61" title="Permanent link">&para;</a></h2>
<blockquote>
<p><strong>先明确一下什么是完全二叉树（complete binary tree） 和 满二叉树或者完美二叉树（full binary tree / perfect binary tree）</strong></p>
<ul>
<li>
<p>一个二叉树，如果每一层的结点数都达到最大值，那这个二叉树就是完美二叉树，也就说这个二叉树结点的总数为<span class="arithmatex">\(2^k -1\)</span></p>
</li>
<li>
<p>```python3
    一颗树深度为h，最大层数为k，深度与最大层数相同，k=h;
    它的叶子数是： 2^h　　第k层的结点数是： 2^(k-1)　　总结点数是： 2^k-1 (2的k次方减一)　　总节点数一定是奇数。</p>
<div class="highlight"><pre><span></span><code>                                  0
                        /               \
                       1                   2
                    /      \            /       \
                  3        4         5           6
                 /  \    /   \     /    \       /   \
              7    8  9     10  11     12    13     14
</code></pre></div>
<p>```</p>
</li>
<li>
<p>完全二叉树：完全二叉树的结点数是任意的，从形式上来说，它是一个缺失的三角形，<code>所缺失的部分一定是右下角某个连续的部分，最后一行可能不完整</code></p>
</li>
<li>
<p>对于k层的完全二叉树，结点数的范围是<span class="arithmatex">\(2^{k-1}-1 &lt; N &lt; 2^k -1\)</span></p>
</li>
<li>
<p>```text
    设二叉树的深度为h，除第 h 层外，其它各层 (1～h-1) 的结点数都达到最大个数，第 h 层所有的结点都连续集中在最左边，
    这就是完全二叉树。</p>
<div class="highlight"><pre><span></span><code>                                          0
                                 /               \
                              1                   2
                          /      \            /       \
                        3        4         5           6
                      /  \    /   \     /    
                    7    8  9     10  11
</code></pre></div>
<p>```</p>
</li>
</ul>
</blockquote>
<p><img alt="image-20231114082452794" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205427.png" /></p>
<blockquote>
<p><strong>最小堆的最大值一定在叶节点，现在转为判断哪个点不是叶结点。</strong></p>
<p><strong>对于叶结点n，不存在子结点，那么2n+1一定不在2333中</strong></p>
</blockquote>
<h3 id="611-structure-property">6.1.1 Structure Property<a class="headerlink" href="#611-structure-property" title="Permanent link">&para;</a></h3>
<ol>
<li>堆是一颗具有特定性质的二叉树，<strong><code>堆的基本要求是堆中所有结点的值必须大于或者等于（小于等于）其孩子结点的值</code></strong>。附加完全二叉树的性质：所有的叶子结点都处于第 h 层 或者 h - 1层，（即最后一层的结点都连续集中在最左边，且可能不完整）</li>
</ol>
<p><img alt="image-20231031101948733" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205016.png" /></p>
<ol start="2">
<li>可以用数组形式表示堆，<code>`array representation</code></li>
</ol>
<p><strong>从上到下，从左到右，依次排列，但是是从BT[1]开始，BT[0]作为哨兵</strong></p>
<p><img alt="image-20231031102206974" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205115.png" /></p>
<p><img alt="image-20231031102227301" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205223.png" /></p>
<ol start="3">
<li>堆的分类</li>
</ol>
<p><strong>A</strong> <strong>min tree</strong> <strong>is a tree in which the key value in each node is no larger than the key values in its children (if any).</strong></p>
<p><strong>A min heap</strong> <strong>is a</strong> <strong>complete</strong> <strong>binary tree that is also a min tree.</strong></p>
<p><img alt="image-20231031103754701" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205322.png" /></p>
<h3 id="612">6.1.2 堆的若干操作<a class="headerlink" href="#612" title="Permanent link">&para;</a></h3>
<ol>
<li>堆的结构体定义</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Heapstruct</span><span class="p">{</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Capacity</span><span class="p">;</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Size</span><span class="p">;</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">Elements</span><span class="p">;</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="p">}</span><span class="o">*</span><span class="n">MinHeap</span><span class="p">;</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="c1">// 堆的实现方式是结构和数组</span>
</code></pre></div>
<ol start="2">
<li>堆的初始化</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="n">MinHeap</span><span class="w"> </span><span class="nf">Initialize</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">MaxElements</span><span class="p">)</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="p">{</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">MinHeap</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">Heapstruct</span><span class="p">));</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Out of space!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">    </span><span class="c1">// Allocate the array plus one extra for sentinel（给哨兵保留一个位置）</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">MaxElements</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">    </span><span class="c1">// 创建一个数组</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Out of space!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="w">    </span><span class="c1">// 创建的数组的容量，不包括哨兵</span>
<a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MaxElements</span><span class="p">;</span>
<a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="w">    </span><span class="c1">// 已有数组元素个数</span>
<a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a><span class="w">    </span><span class="c1">// Set the sentinel;</span>
<a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a><span class="p">}</span>
</code></pre></div>
<ol start="3">
<li>堆的插入 insertion</li>
</ol>
<p>每次插入都是将先将新数据放在数组最后，由于从这个新数据的父结点到根结点必然为一个有序的序列，现在的任务是将这个新数据插入到这个有序序列中——这就类似于直接插入排序中将一个数据并入到有序区间中。</p>
<p>我们通过一个插入例子来看看插入操作的细节。我们将数字 <code>16</code> 插入到这个堆中：</p>
<p><img alt="image-20231031104107947" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205341.png" /></p>
<p>第一步是将新的元素插入到数组的尾部，数组变成：[ 10, 7, 2, 5, 1, 16 ]；</p>
<p>相应的树变成了：</p>
<p><img alt="image-20231031104148443" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205680.png" /></p>
<p>16 被添加最后一行的第一个空位。</p>
<p>不行的是，现在堆属性不满足，因为 2 在 16 的上面，我们需要将大的数字在上面（这是一个最大堆）</p>
<p>为了恢复堆属性，我们需要交换 16 和 2。</p>
<p><img alt="image-20231031104203896" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205957.png" /></p>
<p>现在还没有完成，因为 10 也比 16 小。我们继续交换我们的插入元素和它的父节点，直到它的父节点比它大或者我们到达树的顶部。这就是所谓的 shift-up，每一次插入操作后都需要进行。它将一个太大或者太小的数字“浮起”到树的顶部。</p>
<p>最后我们得到的堆：</p>
<p><img alt="image-20231031104213897" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205997.png" /></p>
<p>现在每一个父节点都比它的子节点大。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="c1">// 目前哨兵sentinel Elements[0] 是最小的元素，即此时的堆是最小堆</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Insert</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="p">{</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Capacity</span><span class="p">)</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Priority queue is full!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="w">    </span><span class="c1">// ++H-&gt;Size is the position of the new node</span>
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="w">    </span><span class="c1">// 且已经使得H-&gt;Size加一</span>
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">++</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a><span class="p">}</span>
<a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a>
<a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a><span class="c1">// 或者使用PercolateUp函数</span>
<a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateDown</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a><span class="p">{</span>
<a id="__codelineno-39-22" name="__codelineno-39-22" href="#__codelineno-39-22"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-39-23" name="__codelineno-39-23" href="#__codelineno-39-23"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-39-24" name="__codelineno-39-24" href="#__codelineno-39-24"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">];</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-39-25" name="__codelineno-39-25" href="#__codelineno-39-25"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-39-26" name="__codelineno-39-26" href="#__codelineno-39-26"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-39-27" name="__codelineno-39-27" href="#__codelineno-39-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-39-28" name="__codelineno-39-28" href="#__codelineno-39-28"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-39-29" name="__codelineno-39-29" href="#__codelineno-39-29"></a><span class="p">}</span>
<a id="__codelineno-39-30" name="__codelineno-39-30" href="#__codelineno-39-30"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Insert2</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-39-31" name="__codelineno-39-31" href="#__codelineno-39-31"></a><span class="p">{</span>
<a id="__codelineno-39-32" name="__codelineno-39-32" href="#__codelineno-39-32"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Capacity</span><span class="p">)</span>
<a id="__codelineno-39-33" name="__codelineno-39-33" href="#__codelineno-39-33"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-39-34" name="__codelineno-39-34" href="#__codelineno-39-34"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Priority queue is full!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-39-35" name="__codelineno-39-35" href="#__codelineno-39-35"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-39-36" name="__codelineno-39-36" href="#__codelineno-39-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-39-37" name="__codelineno-39-37" href="#__codelineno-39-37"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="o">++</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-39-38" name="__codelineno-39-38" href="#__codelineno-39-38"></a><span class="w">    </span><span class="n">PercolateUp</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">);</span>
<a id="__codelineno-39-39" name="__codelineno-39-39" href="#__codelineno-39-39"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p>时间复杂度为 T（N） = O（<span class="arithmatex">\(log N\)</span>）</p>
</blockquote>
<p>4 . 堆最小元素的删除deleteMin</p>
<p>堆中每次都只能删除堆顶元素。为了便于重建堆，实际的操作是将最后一个数据的值赋给根结点，然后再从根结点开始进行一次从上向下的调整。调整时先在左右子结点中找最小的，如果父结点比这个最小的子结点还小说明不需要调整了，反之将父结点和它交换后再考虑后面的结点。相当于根结点数据的“下沉”过程。</p>
<p><img src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205088.png" alt="image-20231031104953879" style="zoom: 67%;" /></p>
<p><img alt="image-20231031105008406" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205196.png" /></p>
<p><img alt="image-20231031105049901" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205231.png" /></p>
<p><img alt="image-20231031105109404" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205582.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">DeleteMin</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="p">{</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">Child</span><span class="p">;</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">MinElement</span><span class="p">,</span><span class="w"> </span><span class="n">LastElement</span><span class="p">;</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Priority queue is empty!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="w">    </span><span class="c1">// 保存最小的元素， 最小堆的话是根节点</span>
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="w">    </span><span class="n">MinElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="w">    </span><span class="c1">// Size + 1 表示元素的个数， Size 表示最后一个元素的位置</span>
<a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="w">    </span><span class="n">LastElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">];</span>
<a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="o">--</span><span class="p">;</span><span class="w"> </span><span class="c1">// 使得Size减一，删除top元素，意味着，size-1</span>
<a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="w">    </span><span class="c1">// 从根节点开始，从上往下，从左往右</span>
<a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="p">)</span>
<a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-40-18" name="__codelineno-40-18" href="#__codelineno-40-18"></a><span class="w">        </span><span class="c1">// Child is the smaller child of the current node</span>
<a id="__codelineno-40-19" name="__codelineno-40-19" href="#__codelineno-40-19"></a><span class="w">        </span><span class="c1">// 先选出左右孩子中较小的那个</span>
<a id="__codelineno-40-20" name="__codelineno-40-20" href="#__codelineno-40-20"></a><span class="w">        </span><span class="n">Child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-40-21" name="__codelineno-40-21" href="#__codelineno-40-21"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">Child</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">Child</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">Child</span><span class="p">])</span>
<a id="__codelineno-40-22" name="__codelineno-40-22" href="#__codelineno-40-22"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-40-23" name="__codelineno-40-23" href="#__codelineno-40-23"></a><span class="w">            </span><span class="c1">// 如果右儿子比左儿子还小，child下标+1指向右儿子</span>
<a id="__codelineno-40-24" name="__codelineno-40-24" href="#__codelineno-40-24"></a><span class="w">            </span><span class="n">Child</span><span class="w"> </span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-40-25" name="__codelineno-40-25" href="#__codelineno-40-25"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-40-26" name="__codelineno-40-26" href="#__codelineno-40-26"></a><span class="w">        </span><span class="c1">// 如果最后一个元素大于儿子中较小的那个值，那么就把较小的那个值上移，调换位置</span>
<a id="__codelineno-40-27" name="__codelineno-40-27" href="#__codelineno-40-27"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">LastElement</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">Child</span><span class="p">])</span>
<a id="__codelineno-40-28" name="__codelineno-40-28" href="#__codelineno-40-28"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-40-29" name="__codelineno-40-29" href="#__codelineno-40-29"></a><span class="w">            </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">Child</span><span class="p">];</span>
<a id="__codelineno-40-30" name="__codelineno-40-30" href="#__codelineno-40-30"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-40-31" name="__codelineno-40-31" href="#__codelineno-40-31"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-40-32" name="__codelineno-40-32" href="#__codelineno-40-32"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-40-33" name="__codelineno-40-33" href="#__codelineno-40-33"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-40-34" name="__codelineno-40-34" href="#__codelineno-40-34"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-40-35" name="__codelineno-40-35" href="#__codelineno-40-35"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-40-36" name="__codelineno-40-36" href="#__codelineno-40-36"></a><span class="w">    </span><span class="c1">// 此时LastElement的值小于H-&gt;Elements[Child]，所以应该放在parent，也就是i的位置</span>
<a id="__codelineno-40-37" name="__codelineno-40-37" href="#__codelineno-40-37"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LastElement</span><span class="p">;</span>
<a id="__codelineno-40-38" name="__codelineno-40-38" href="#__codelineno-40-38"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MinElement</span><span class="p">;</span>
<a id="__codelineno-40-39" name="__codelineno-40-39" href="#__codelineno-40-39"></a><span class="p">}</span>
<a id="__codelineno-40-40" name="__codelineno-40-40" href="#__codelineno-40-40"></a>
<a id="__codelineno-40-41" name="__codelineno-40-41" href="#__codelineno-40-41"></a><span class="c1">// 或者使用PercolateDown函数</span>
<a id="__codelineno-40-42" name="__codelineno-40-42" href="#__codelineno-40-42"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateDown</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-40-43" name="__codelineno-40-43" href="#__codelineno-40-43"></a><span class="p">{</span>
<a id="__codelineno-40-44" name="__codelineno-40-44" href="#__codelineno-40-44"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-40-45" name="__codelineno-40-45" href="#__codelineno-40-45"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>
<a id="__codelineno-40-46" name="__codelineno-40-46" href="#__codelineno-40-46"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="p">)</span>
<a id="__codelineno-40-47" name="__codelineno-40-47" href="#__codelineno-40-47"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-40-48" name="__codelineno-40-48" href="#__codelineno-40-48"></a><span class="w">        </span><span class="c1">// 找到左右孩子中较小的那个</span>
<a id="__codelineno-40-49" name="__codelineno-40-49" href="#__codelineno-40-49"></a><span class="w">        </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-40-50" name="__codelineno-40-50" href="#__codelineno-40-50"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">child</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-40-51" name="__codelineno-40-51" href="#__codelineno-40-51"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-40-52" name="__codelineno-40-52" href="#__codelineno-40-52"></a><span class="w">            </span><span class="n">child</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-40-53" name="__codelineno-40-53" href="#__codelineno-40-53"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-40-54" name="__codelineno-40-54" href="#__codelineno-40-54"></a><span class="w">        </span><span class="c1">// 如果较小的那个比x小，就把较小的那个上移</span>
<a id="__codelineno-40-55" name="__codelineno-40-55" href="#__codelineno-40-55"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="p">])</span>
<a id="__codelineno-40-56" name="__codelineno-40-56" href="#__codelineno-40-56"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-40-57" name="__codelineno-40-57" href="#__codelineno-40-57"></a><span class="w">            </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="p">];</span>
<a id="__codelineno-40-58" name="__codelineno-40-58" href="#__codelineno-40-58"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-40-59" name="__codelineno-40-59" href="#__codelineno-40-59"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-40-60" name="__codelineno-40-60" href="#__codelineno-40-60"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-40-61" name="__codelineno-40-61" href="#__codelineno-40-61"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-40-62" name="__codelineno-40-62" href="#__codelineno-40-62"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-40-63" name="__codelineno-40-63" href="#__codelineno-40-63"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-40-64" name="__codelineno-40-64" href="#__codelineno-40-64"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-40-65" name="__codelineno-40-65" href="#__codelineno-40-65"></a><span class="p">}</span>
<a id="__codelineno-40-66" name="__codelineno-40-66" href="#__codelineno-40-66"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Deletemin2</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-40-67" name="__codelineno-40-67" href="#__codelineno-40-67"></a><span class="p">{</span>
<a id="__codelineno-40-68" name="__codelineno-40-68" href="#__codelineno-40-68"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-40-69" name="__codelineno-40-69" href="#__codelineno-40-69"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-40-70" name="__codelineno-40-70" href="#__codelineno-40-70"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Priority queue is empty!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-40-71" name="__codelineno-40-71" href="#__codelineno-40-71"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-40-72" name="__codelineno-40-72" href="#__codelineno-40-72"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-40-73" name="__codelineno-40-73" href="#__codelineno-40-73"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">LastElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="o">--</span><span class="p">];</span>
<a id="__codelineno-40-74" name="__codelineno-40-74" href="#__codelineno-40-74"></a><span class="w">    </span><span class="c1">// 先将root更换为最后一个结点，再开始下滤操作</span>
<a id="__codelineno-40-75" name="__codelineno-40-75" href="#__codelineno-40-75"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LastElement</span><span class="p">;</span>
<a id="__codelineno-40-76" name="__codelineno-40-76" href="#__codelineno-40-76"></a><span class="w">    </span><span class="n">PercolateDown</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-40-77" name="__codelineno-40-77" href="#__codelineno-40-77"></a><span class="p">}</span>
</code></pre></div>
<ol start="5">
<li>减小结点的元素，再重新排序</li>
</ol>
<p><img alt="image-20231031111402941" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205855.png" /></p>
<p>在位置P处，减小<span class="arithmatex">\(\Delta\)</span>，再进行递归（或者for循环）与父节点进行比较</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">DecreaseKey</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">delta</span><span class="p">)</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="p">{</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">delta</span><span class="p">;</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">    </span><span class="n">PercolateUp</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="p">}</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateUp</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="p">{</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="o">/</span><span class="mi">2</span><span class="p">];</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="o">/</span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="p">}</span>
</code></pre></div>
<ol start="6">
<li>增大结点的元素值，再重新排序</li>
</ol>
<p><img alt="image-20231031111432537" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205994.png" /></p>
<p>在位置P处，增加<span class="arithmatex">\(\Delta\)</span>，再进行递归（或者for循环）与父节点进行比较</p>
<ol start="7">
<li>删去某一特定位置的结点值</li>
</ol>
<p><code>在该位置处，不断地减小，直至达到MIN的位置，再删去Min</code></p>
<p><img alt="image-20231031111605065" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205033.png" /></p>
<ol start="8">
<li>给定一组数，顺序构建tree，该如何构造堆</li>
</ol>
<p><img alt="image-20231031111756261" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205193.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateUp</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="p">{</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">    </span><span class="c1">// i 是当前新插入元素的下标</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">    </span><span class="c1">// 开始上滤操作</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="w">    </span><span class="k">for</span><span class="p">(;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="p">}</span>
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateDown</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="p">{</span>
<a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a><span class="w">    </span><span class="c1">// i 是当前新插入元素的下标</span>
<a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-42-18" name="__codelineno-42-18" href="#__codelineno-42-18"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-42-19" name="__codelineno-42-19" href="#__codelineno-42-19"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-42-20" name="__codelineno-42-20" href="#__codelineno-42-20"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-42-21" name="__codelineno-42-21" href="#__codelineno-42-21"></a><span class="w">            </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-42-22" name="__codelineno-42-22" href="#__codelineno-42-22"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-42-23" name="__codelineno-42-23" href="#__codelineno-42-23"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-42-24" name="__codelineno-42-24" href="#__codelineno-42-24"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-42-25" name="__codelineno-42-25" href="#__codelineno-42-25"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-42-26" name="__codelineno-42-26" href="#__codelineno-42-26"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-42-27" name="__codelineno-42-27" href="#__codelineno-42-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-42-28" name="__codelineno-42-28" href="#__codelineno-42-28"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-42-29" name="__codelineno-42-29" href="#__codelineno-42-29"></a><span class="p">}</span>
</code></pre></div>
<p><img alt="image-20231031111818474" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205334.png" /></p>
<p><img alt="image-20231031111849391" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205430.png" /></p>
<p><img alt="image-20231031111913248" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205888.png" /></p>
<p><img alt="image-20231031111934968" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205110.png" /></p>
<p><img alt="image-20231031111955298" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205074.png" /></p>
<p><img alt="image-20231031112018659" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205235.png" /></p>
<p><img alt="image-20231031112144762" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205396.png" /></p>
<p><img alt="image-20231031112119428" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205478.png" /></p>
<h3 id="613-d-heaps">6.1.3 d-Heaps<a class="headerlink" href="#613-d-heaps" title="Permanent link">&para;</a></h3>
<p>d-Heaps 是 All nodes have d children</p>
<p><img alt="image-20231031112306136" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205832.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="cp">#include</span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="cp">#include</span><span class="cpf">&lt;math.h&gt;</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Heapstruct</span><span class="p">{</span>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Capacity</span><span class="p">;</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Size</span><span class="p">;</span>
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">Elements</span><span class="p">;</span>
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="p">}</span><span class="o">*</span><span class="n">MinHeap</span><span class="p">;</span>
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="c1">// 最小堆结构的初始化，初始化之后是为了方便插入构造最小堆</span>
<a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="n">MinHeap</span><span class="w"> </span><span class="nf">Initialize</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">MaxElements</span><span class="p">)</span>
<a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a><span class="p">{</span>
<a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a><span class="w">    </span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a><span class="w">    </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">MinHeap</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">Heapstruct</span><span class="p">));</span>
<a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Out of space!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a><span class="w">    </span><span class="c1">// Allocate the array plus one extra for sentinel</span>
<a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">MaxElements</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span>
<a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-24" name="__codelineno-43-24" href="#__codelineno-43-24"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Out of space!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-25" name="__codelineno-43-25" href="#__codelineno-43-25"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-43-26" name="__codelineno-43-26" href="#__codelineno-43-26"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-27" name="__codelineno-43-27" href="#__codelineno-43-27"></a><span class="w">    </span><span class="c1">// 创建的数组的容量，不包括哨兵</span>
<a id="__codelineno-43-28" name="__codelineno-43-28" href="#__codelineno-43-28"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MaxElements</span><span class="p">;</span>
<a id="__codelineno-43-29" name="__codelineno-43-29" href="#__codelineno-43-29"></a><span class="w">    </span><span class="c1">// 已有数组元素个数，不包括哨兵</span>
<a id="__codelineno-43-30" name="__codelineno-43-30" href="#__codelineno-43-30"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-43-31" name="__codelineno-43-31" href="#__codelineno-43-31"></a><span class="w">    </span><span class="c1">// Set the sentinel;</span>
<a id="__codelineno-43-32" name="__codelineno-43-32" href="#__codelineno-43-32"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-43-33" name="__codelineno-43-33" href="#__codelineno-43-33"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-43-34" name="__codelineno-43-34" href="#__codelineno-43-34"></a><span class="p">}</span>
<a id="__codelineno-43-35" name="__codelineno-43-35" href="#__codelineno-43-35"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Insert1</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-43-36" name="__codelineno-43-36" href="#__codelineno-43-36"></a><span class="p">{</span>
<a id="__codelineno-43-37" name="__codelineno-43-37" href="#__codelineno-43-37"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-43-38" name="__codelineno-43-38" href="#__codelineno-43-38"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Capacity</span><span class="p">)</span>
<a id="__codelineno-43-39" name="__codelineno-43-39" href="#__codelineno-43-39"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-40" name="__codelineno-43-40" href="#__codelineno-43-40"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Priority queue is full!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-41" name="__codelineno-43-41" href="#__codelineno-43-41"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-43-42" name="__codelineno-43-42" href="#__codelineno-43-42"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-43" name="__codelineno-43-43" href="#__codelineno-43-43"></a><span class="w">    </span><span class="c1">// ++H-&gt;Size is the position of the new node</span>
<a id="__codelineno-43-44" name="__codelineno-43-44" href="#__codelineno-43-44"></a><span class="w">    </span><span class="c1">// 且已经使得H-&gt;Size加一</span>
<a id="__codelineno-43-45" name="__codelineno-43-45" href="#__codelineno-43-45"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">++</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-43-46" name="__codelineno-43-46" href="#__codelineno-43-46"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-47" name="__codelineno-43-47" href="#__codelineno-43-47"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-43-48" name="__codelineno-43-48" href="#__codelineno-43-48"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-49" name="__codelineno-43-49" href="#__codelineno-43-49"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-43-50" name="__codelineno-43-50" href="#__codelineno-43-50"></a><span class="p">}</span>
<a id="__codelineno-43-51" name="__codelineno-43-51" href="#__codelineno-43-51"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateUp</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-43-52" name="__codelineno-43-52" href="#__codelineno-43-52"></a><span class="p">{</span>
<a id="__codelineno-43-53" name="__codelineno-43-53" href="#__codelineno-43-53"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-43-54" name="__codelineno-43-54" href="#__codelineno-43-54"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-43-55" name="__codelineno-43-55" href="#__codelineno-43-55"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="o">/</span><span class="mi">2</span><span class="p">];</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-43-56" name="__codelineno-43-56" href="#__codelineno-43-56"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-57" name="__codelineno-43-57" href="#__codelineno-43-57"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="o">/</span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-43-58" name="__codelineno-43-58" href="#__codelineno-43-58"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-59" name="__codelineno-43-59" href="#__codelineno-43-59"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-43-60" name="__codelineno-43-60" href="#__codelineno-43-60"></a><span class="p">}</span>
<a id="__codelineno-43-61" name="__codelineno-43-61" href="#__codelineno-43-61"></a><span class="c1">// 或者使用percolateup函数</span>
<a id="__codelineno-43-62" name="__codelineno-43-62" href="#__codelineno-43-62"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Insert2</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-43-63" name="__codelineno-43-63" href="#__codelineno-43-63"></a><span class="p">{</span>
<a id="__codelineno-43-64" name="__codelineno-43-64" href="#__codelineno-43-64"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Capacity</span><span class="p">)</span>
<a id="__codelineno-43-65" name="__codelineno-43-65" href="#__codelineno-43-65"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-66" name="__codelineno-43-66" href="#__codelineno-43-66"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;The heap is full!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-67" name="__codelineno-43-67" href="#__codelineno-43-67"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-43-68" name="__codelineno-43-68" href="#__codelineno-43-68"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-69" name="__codelineno-43-69" href="#__codelineno-43-69"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="o">++</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-43-70" name="__codelineno-43-70" href="#__codelineno-43-70"></a><span class="w">    </span><span class="n">PercolateUp</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">);</span>
<a id="__codelineno-43-71" name="__codelineno-43-71" href="#__codelineno-43-71"></a><span class="p">}</span>
<a id="__codelineno-43-72" name="__codelineno-43-72" href="#__codelineno-43-72"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateDown</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-43-73" name="__codelineno-43-73" href="#__codelineno-43-73"></a><span class="p">{</span>
<a id="__codelineno-43-74" name="__codelineno-43-74" href="#__codelineno-43-74"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-43-75" name="__codelineno-43-75" href="#__codelineno-43-75"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="p">;</span>
<a id="__codelineno-43-76" name="__codelineno-43-76" href="#__codelineno-43-76"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="p">)</span>
<a id="__codelineno-43-77" name="__codelineno-43-77" href="#__codelineno-43-77"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-78" name="__codelineno-43-78" href="#__codelineno-43-78"></a><span class="w">        </span><span class="c1">// 找到左右孩子中较小的那个</span>
<a id="__codelineno-43-79" name="__codelineno-43-79" href="#__codelineno-43-79"></a><span class="w">        </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-43-80" name="__codelineno-43-80" href="#__codelineno-43-80"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">child</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-43-81" name="__codelineno-43-81" href="#__codelineno-43-81"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-43-82" name="__codelineno-43-82" href="#__codelineno-43-82"></a><span class="w">            </span><span class="n">child</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-43-83" name="__codelineno-43-83" href="#__codelineno-43-83"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-43-84" name="__codelineno-43-84" href="#__codelineno-43-84"></a><span class="w">        </span><span class="c1">// 如果较小的那个比x小，就把较小的那个上移</span>
<a id="__codelineno-43-85" name="__codelineno-43-85" href="#__codelineno-43-85"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="p">])</span>
<a id="__codelineno-43-86" name="__codelineno-43-86" href="#__codelineno-43-86"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-43-87" name="__codelineno-43-87" href="#__codelineno-43-87"></a><span class="w">            </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="p">];</span>
<a id="__codelineno-43-88" name="__codelineno-43-88" href="#__codelineno-43-88"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-43-89" name="__codelineno-43-89" href="#__codelineno-43-89"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-43-90" name="__codelineno-43-90" href="#__codelineno-43-90"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-43-91" name="__codelineno-43-91" href="#__codelineno-43-91"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-43-92" name="__codelineno-43-92" href="#__codelineno-43-92"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-43-93" name="__codelineno-43-93" href="#__codelineno-43-93"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-94" name="__codelineno-43-94" href="#__codelineno-43-94"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-43-95" name="__codelineno-43-95" href="#__codelineno-43-95"></a><span class="p">}</span>
<a id="__codelineno-43-96" name="__codelineno-43-96" href="#__codelineno-43-96"></a><span class="kt">void</span><span class="w"> </span><span class="nf">DeleteMin1</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-43-97" name="__codelineno-43-97" href="#__codelineno-43-97"></a><span class="p">{</span>
<a id="__codelineno-43-98" name="__codelineno-43-98" href="#__codelineno-43-98"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-43-99" name="__codelineno-43-99" href="#__codelineno-43-99"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-100" name="__codelineno-43-100" href="#__codelineno-43-100"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;The heap is empty!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-101" name="__codelineno-43-101" href="#__codelineno-43-101"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-43-102" name="__codelineno-43-102" href="#__codelineno-43-102"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-103" name="__codelineno-43-103" href="#__codelineno-43-103"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">lastelement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="o">--</span><span class="p">];</span>
<a id="__codelineno-43-104" name="__codelineno-43-104" href="#__codelineno-43-104"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lastelement</span><span class="p">;</span>
<a id="__codelineno-43-105" name="__codelineno-43-105" href="#__codelineno-43-105"></a><span class="w">    </span><span class="c1">// printf(&quot;%d\n&quot;, lastelement);</span>
<a id="__codelineno-43-106" name="__codelineno-43-106" href="#__codelineno-43-106"></a><span class="w">    </span><span class="n">PercolateDown</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-43-107" name="__codelineno-43-107" href="#__codelineno-43-107"></a><span class="p">}</span>
<a id="__codelineno-43-108" name="__codelineno-43-108" href="#__codelineno-43-108"></a><span class="kt">int</span><span class="w"> </span><span class="nf">DeleteMin2</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-43-109" name="__codelineno-43-109" href="#__codelineno-43-109"></a><span class="p">{</span>
<a id="__codelineno-43-110" name="__codelineno-43-110" href="#__codelineno-43-110"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">Child</span><span class="p">;</span>
<a id="__codelineno-43-111" name="__codelineno-43-111" href="#__codelineno-43-111"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">MinElement</span><span class="p">,</span><span class="w"> </span><span class="n">LastElement</span><span class="p">;</span>
<a id="__codelineno-43-112" name="__codelineno-43-112" href="#__codelineno-43-112"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-43-113" name="__codelineno-43-113" href="#__codelineno-43-113"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-114" name="__codelineno-43-114" href="#__codelineno-43-114"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Priority queue is empty!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-115" name="__codelineno-43-115" href="#__codelineno-43-115"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<a id="__codelineno-43-116" name="__codelineno-43-116" href="#__codelineno-43-116"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-117" name="__codelineno-43-117" href="#__codelineno-43-117"></a><span class="w">    </span><span class="c1">// 保存最小的元素， 最小堆的话是根节点</span>
<a id="__codelineno-43-118" name="__codelineno-43-118" href="#__codelineno-43-118"></a><span class="w">    </span><span class="n">MinElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<a id="__codelineno-43-119" name="__codelineno-43-119" href="#__codelineno-43-119"></a><span class="w">    </span><span class="c1">// Size + 1 表示元素的个数， Size 表示最后一个元素的位置</span>
<a id="__codelineno-43-120" name="__codelineno-43-120" href="#__codelineno-43-120"></a><span class="w">    </span><span class="n">LastElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">];</span>
<a id="__codelineno-43-121" name="__codelineno-43-121" href="#__codelineno-43-121"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="o">--</span><span class="p">;</span><span class="w"> </span><span class="c1">// 使得Size减一</span>
<a id="__codelineno-43-122" name="__codelineno-43-122" href="#__codelineno-43-122"></a><span class="w">    </span><span class="c1">// 从根节点开始，从上往下，从左往右</span>
<a id="__codelineno-43-123" name="__codelineno-43-123" href="#__codelineno-43-123"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="p">)</span>
<a id="__codelineno-43-124" name="__codelineno-43-124" href="#__codelineno-43-124"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-125" name="__codelineno-43-125" href="#__codelineno-43-125"></a><span class="w">        </span><span class="c1">// Child is the smaller child of the current node</span>
<a id="__codelineno-43-126" name="__codelineno-43-126" href="#__codelineno-43-126"></a><span class="w">        </span><span class="c1">// 先选出左右孩子中较小的那个</span>
<a id="__codelineno-43-127" name="__codelineno-43-127" href="#__codelineno-43-127"></a><span class="w">        </span><span class="n">Child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-43-128" name="__codelineno-43-128" href="#__codelineno-43-128"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">Child</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">Child</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">Child</span><span class="p">])</span>
<a id="__codelineno-43-129" name="__codelineno-43-129" href="#__codelineno-43-129"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-43-130" name="__codelineno-43-130" href="#__codelineno-43-130"></a><span class="w">            </span><span class="n">Child</span><span class="w"> </span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-43-131" name="__codelineno-43-131" href="#__codelineno-43-131"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-43-132" name="__codelineno-43-132" href="#__codelineno-43-132"></a><span class="w">        </span><span class="c1">// 如果最后一个元素大于儿子中较小的那个值，那么就把较小的那个值上移，调换位置</span>
<a id="__codelineno-43-133" name="__codelineno-43-133" href="#__codelineno-43-133"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">LastElement</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">Child</span><span class="p">])</span>
<a id="__codelineno-43-134" name="__codelineno-43-134" href="#__codelineno-43-134"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-43-135" name="__codelineno-43-135" href="#__codelineno-43-135"></a><span class="w">            </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">Child</span><span class="p">];</span>
<a id="__codelineno-43-136" name="__codelineno-43-136" href="#__codelineno-43-136"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-43-137" name="__codelineno-43-137" href="#__codelineno-43-137"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-43-138" name="__codelineno-43-138" href="#__codelineno-43-138"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-43-139" name="__codelineno-43-139" href="#__codelineno-43-139"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-43-140" name="__codelineno-43-140" href="#__codelineno-43-140"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-43-141" name="__codelineno-43-141" href="#__codelineno-43-141"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-142" name="__codelineno-43-142" href="#__codelineno-43-142"></a><span class="w">    </span><span class="c1">// 此时LastElement的值小于H-&gt;Elements[Child]，所以应该放在parent，也就是i的位置</span>
<a id="__codelineno-43-143" name="__codelineno-43-143" href="#__codelineno-43-143"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LastElement</span><span class="p">;</span>
<a id="__codelineno-43-144" name="__codelineno-43-144" href="#__codelineno-43-144"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MinElement</span><span class="p">;</span>
<a id="__codelineno-43-145" name="__codelineno-43-145" href="#__codelineno-43-145"></a><span class="p">}</span>
<a id="__codelineno-43-146" name="__codelineno-43-146" href="#__codelineno-43-146"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Print</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-43-147" name="__codelineno-43-147" href="#__codelineno-43-147"></a><span class="p">{</span>
<a id="__codelineno-43-148" name="__codelineno-43-148" href="#__codelineno-43-148"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-43-149" name="__codelineno-43-149" href="#__codelineno-43-149"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-43-150" name="__codelineno-43-150" href="#__codelineno-43-150"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-151" name="__codelineno-43-151" href="#__codelineno-43-151"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-43-152" name="__codelineno-43-152" href="#__codelineno-43-152"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-43-153" name="__codelineno-43-153" href="#__codelineno-43-153"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-154" name="__codelineno-43-154" href="#__codelineno-43-154"></a><span class="w">            </span><span class="n">j</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-43-155" name="__codelineno-43-155" href="#__codelineno-43-155"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-43-156" name="__codelineno-43-156" href="#__codelineno-43-156"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-43-157" name="__codelineno-43-157" href="#__codelineno-43-157"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-158" name="__codelineno-43-158" href="#__codelineno-43-158"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-159" name="__codelineno-43-159" href="#__codelineno-43-159"></a><span class="p">}</span>
<a id="__codelineno-43-160" name="__codelineno-43-160" href="#__codelineno-43-160"></a><span class="kt">void</span><span class="w"> </span><span class="nf">DecreaseKey</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">delta</span><span class="p">)</span>
<a id="__codelineno-43-161" name="__codelineno-43-161" href="#__codelineno-43-161"></a><span class="p">{</span>
<a id="__codelineno-43-162" name="__codelineno-43-162" href="#__codelineno-43-162"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">delta</span><span class="p">;</span>
<a id="__codelineno-43-163" name="__codelineno-43-163" href="#__codelineno-43-163"></a><span class="w">    </span><span class="n">PercolateUp</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
<a id="__codelineno-43-164" name="__codelineno-43-164" href="#__codelineno-43-164"></a><span class="p">}</span>
<a id="__codelineno-43-165" name="__codelineno-43-165" href="#__codelineno-43-165"></a><span class="n">MinHeap</span><span class="w"> </span><span class="nf">CreateHeap</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">MaxSize</span><span class="p">)</span>
<a id="__codelineno-43-166" name="__codelineno-43-166" href="#__codelineno-43-166"></a><span class="p">{</span>
<a id="__codelineno-43-167" name="__codelineno-43-167" href="#__codelineno-43-167"></a><span class="w">    </span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Initialize</span><span class="p">(</span><span class="n">MaxSize</span><span class="p">);</span>
<a id="__codelineno-43-168" name="__codelineno-43-168" href="#__codelineno-43-168"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-43-169" name="__codelineno-43-169" href="#__codelineno-43-169"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-43-170" name="__codelineno-43-170" href="#__codelineno-43-170"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-43-171" name="__codelineno-43-171" href="#__codelineno-43-171"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-172" name="__codelineno-43-172" href="#__codelineno-43-172"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-43-173" name="__codelineno-43-173" href="#__codelineno-43-173"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-174" name="__codelineno-43-174" href="#__codelineno-43-174"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-43-175" name="__codelineno-43-175" href="#__codelineno-43-175"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-43-176" name="__codelineno-43-176" href="#__codelineno-43-176"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-177" name="__codelineno-43-177" href="#__codelineno-43-177"></a><span class="w">        </span><span class="n">PercolateDown</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
<a id="__codelineno-43-178" name="__codelineno-43-178" href="#__codelineno-43-178"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-179" name="__codelineno-43-179" href="#__codelineno-43-179"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-43-180" name="__codelineno-43-180" href="#__codelineno-43-180"></a><span class="p">}</span>
<a id="__codelineno-43-181" name="__codelineno-43-181" href="#__codelineno-43-181"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-43-182" name="__codelineno-43-182" href="#__codelineno-43-182"></a><span class="p">{</span>
<a id="__codelineno-43-183" name="__codelineno-43-183" href="#__codelineno-43-183"></a><span class="w">    </span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Initialize</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-43-184" name="__codelineno-43-184" href="#__codelineno-43-184"></a><span class="w">    </span><span class="n">Insert2</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-43-185" name="__codelineno-43-185" href="#__codelineno-43-185"></a><span class="w">    </span><span class="n">Insert2</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-43-186" name="__codelineno-43-186" href="#__codelineno-43-186"></a><span class="w">    </span><span class="n">Insert2</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-43-187" name="__codelineno-43-187" href="#__codelineno-43-187"></a><span class="w">    </span><span class="n">Insert2</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span>
<a id="__codelineno-43-188" name="__codelineno-43-188" href="#__codelineno-43-188"></a><span class="w">    </span><span class="n">Insert2</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-43-189" name="__codelineno-43-189" href="#__codelineno-43-189"></a><span class="w">    </span><span class="n">Insert2</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<a id="__codelineno-43-190" name="__codelineno-43-190" href="#__codelineno-43-190"></a><span class="w">    </span><span class="n">Insert2</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-43-191" name="__codelineno-43-191" href="#__codelineno-43-191"></a><span class="w">    </span><span class="n">Insert2</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">);</span>
<a id="__codelineno-43-192" name="__codelineno-43-192" href="#__codelineno-43-192"></a><span class="w">    </span><span class="n">Insert2</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<a id="__codelineno-43-193" name="__codelineno-43-193" href="#__codelineno-43-193"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-43-194" name="__codelineno-43-194" href="#__codelineno-43-194"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-195" name="__codelineno-43-195" href="#__codelineno-43-195"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-43-196" name="__codelineno-43-196" href="#__codelineno-43-196"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-197" name="__codelineno-43-197" href="#__codelineno-43-197"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-198" name="__codelineno-43-198" href="#__codelineno-43-198"></a><span class="w">    </span><span class="c1">// DeleteMin1(H);</span>
<a id="__codelineno-43-199" name="__codelineno-43-199" href="#__codelineno-43-199"></a><span class="w">    </span><span class="c1">// for(int i = 1; i &lt;= H-&gt;Size; i++)</span>
<a id="__codelineno-43-200" name="__codelineno-43-200" href="#__codelineno-43-200"></a><span class="w">    </span><span class="c1">// {</span>
<a id="__codelineno-43-201" name="__codelineno-43-201" href="#__codelineno-43-201"></a><span class="w">    </span><span class="c1">//     printf(&quot;%d &quot;, H-&gt;Elements[i]);</span>
<a id="__codelineno-43-202" name="__codelineno-43-202" href="#__codelineno-43-202"></a><span class="w">    </span><span class="c1">// }</span>
<a id="__codelineno-43-203" name="__codelineno-43-203" href="#__codelineno-43-203"></a><span class="w">    </span><span class="c1">// printf(&quot;\n&quot;);</span>
<a id="__codelineno-43-204" name="__codelineno-43-204" href="#__codelineno-43-204"></a><span class="w">    </span><span class="c1">// DeleteMin2(H);</span>
<a id="__codelineno-43-205" name="__codelineno-43-205" href="#__codelineno-43-205"></a><span class="w">    </span><span class="c1">// for(int i = 1; i &lt;= H-&gt;Size; i++)</span>
<a id="__codelineno-43-206" name="__codelineno-43-206" href="#__codelineno-43-206"></a><span class="w">    </span><span class="c1">// {</span>
<a id="__codelineno-43-207" name="__codelineno-43-207" href="#__codelineno-43-207"></a><span class="w">    </span><span class="c1">//     printf(&quot;%d &quot;, H-&gt;Elements[i]);</span>
<a id="__codelineno-43-208" name="__codelineno-43-208" href="#__codelineno-43-208"></a><span class="w">    </span><span class="c1">// }</span>
<a id="__codelineno-43-209" name="__codelineno-43-209" href="#__codelineno-43-209"></a><span class="w">    </span><span class="c1">// printf(&quot;\n&quot;);</span>
<a id="__codelineno-43-210" name="__codelineno-43-210" href="#__codelineno-43-210"></a><span class="w">    </span><span class="n">DecreaseKey</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-43-211" name="__codelineno-43-211" href="#__codelineno-43-211"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-43-212" name="__codelineno-43-212" href="#__codelineno-43-212"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-213" name="__codelineno-43-213" href="#__codelineno-43-213"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-43-214" name="__codelineno-43-214" href="#__codelineno-43-214"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-215" name="__codelineno-43-215" href="#__codelineno-43-215"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-216" name="__codelineno-43-216" href="#__codelineno-43-216"></a><span class="w">    </span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CreateHeap</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-43-217" name="__codelineno-43-217" href="#__codelineno-43-217"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H1</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-43-218" name="__codelineno-43-218" href="#__codelineno-43-218"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-43-219" name="__codelineno-43-219" href="#__codelineno-43-219"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">H1</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-43-220" name="__codelineno-43-220" href="#__codelineno-43-220"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-221" name="__codelineno-43-221" href="#__codelineno-43-221"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-43-222" name="__codelineno-43-222" href="#__codelineno-43-222"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p>专业改良版</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ElementType</span><span class="p">;</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="cp">#define MinData -1</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">HeapStruct</span><span class="w"> </span><span class="o">*</span><span class="n">PriorityQueue</span><span class="p">;</span>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="k">struct</span><span class="w"> </span><span class="nc">HeapStruct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="w">    </span><span class="n">ElementType</span><span class="w">  </span><span class="o">*</span><span class="n">Elements</span><span class="p">;</span>
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Capacity</span><span class="p">;</span>
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Size</span><span class="p">;</span>
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a><span class="p">};</span>
<a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a>
<a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a><span class="n">PriorityQueue</span><span class="w"> </span><span class="nf">Initialize</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">MaxElements</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="cm">/* details omitted */</span>
<a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a>
<a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateUp</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">PriorityQueue</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateDown</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">PriorityQueue</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-44-18" name="__codelineno-44-18" href="#__codelineno-44-18"></a>
<a id="__codelineno-44-19" name="__codelineno-44-19" href="#__codelineno-44-19"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Insert</span><span class="p">(</span><span class="w"> </span><span class="n">ElementType</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">PriorityQueue</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-44-20" name="__codelineno-44-20" href="#__codelineno-44-20"></a><span class="p">{</span>
<a id="__codelineno-44-21" name="__codelineno-44-21" href="#__codelineno-44-21"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">++</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span>
<a id="__codelineno-44-22" name="__codelineno-44-22" href="#__codelineno-44-22"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">;</span>
<a id="__codelineno-44-23" name="__codelineno-44-23" href="#__codelineno-44-23"></a><span class="w">    </span><span class="n">PercolateUp</span><span class="p">(</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-44-24" name="__codelineno-44-24" href="#__codelineno-44-24"></a><span class="p">}</span>
<a id="__codelineno-44-25" name="__codelineno-44-25" href="#__codelineno-44-25"></a>
<a id="__codelineno-44-26" name="__codelineno-44-26" href="#__codelineno-44-26"></a><span class="n">ElementType</span><span class="w"> </span><span class="nf">DeleteMin</span><span class="p">(</span><span class="w"> </span><span class="n">PriorityQueue</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-44-27" name="__codelineno-44-27" href="#__codelineno-44-27"></a><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-44-28" name="__codelineno-44-28" href="#__codelineno-44-28"></a><span class="w">    </span><span class="n">ElementType</span><span class="w"> </span><span class="n">MinElement</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-44-29" name="__codelineno-44-29" href="#__codelineno-44-29"></a><span class="w">    </span><span class="n">MinElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<a id="__codelineno-44-30" name="__codelineno-44-30" href="#__codelineno-44-30"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="o">--</span><span class="p">];</span>
<a id="__codelineno-44-31" name="__codelineno-44-31" href="#__codelineno-44-31"></a><span class="w">    </span><span class="n">PercolateDown</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-44-32" name="__codelineno-44-32" href="#__codelineno-44-32"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MinElement</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-44-33" name="__codelineno-44-33" href="#__codelineno-44-33"></a><span class="p">}</span>
<a id="__codelineno-44-34" name="__codelineno-44-34" href="#__codelineno-44-34"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateUp</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">PriorityQueue</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-44-35" name="__codelineno-44-35" href="#__codelineno-44-35"></a><span class="p">{</span>
<a id="__codelineno-44-36" name="__codelineno-44-36" href="#__codelineno-44-36"></a><span class="w">    </span><span class="c1">// p 是当前新插入元素的下标</span>
<a id="__codelineno-44-37" name="__codelineno-44-37" href="#__codelineno-44-37"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">p</span><span class="p">];</span>
<a id="__codelineno-44-38" name="__codelineno-44-38" href="#__codelineno-44-38"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-44-39" name="__codelineno-44-39" href="#__codelineno-44-39"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-44-40" name="__codelineno-44-40" href="#__codelineno-44-40"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-44-41" name="__codelineno-44-41" href="#__codelineno-44-41"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-44-42" name="__codelineno-44-42" href="#__codelineno-44-42"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-43" name="__codelineno-44-43" href="#__codelineno-44-43"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-44-44" name="__codelineno-44-44" href="#__codelineno-44-44"></a><span class="p">}</span>
<a id="__codelineno-44-45" name="__codelineno-44-45" href="#__codelineno-44-45"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateDown</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">PriorityQueue</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-44-46" name="__codelineno-44-46" href="#__codelineno-44-46"></a><span class="p">{</span>
<a id="__codelineno-44-47" name="__codelineno-44-47" href="#__codelineno-44-47"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">p</span><span class="p">];</span>
<a id="__codelineno-44-48" name="__codelineno-44-48" href="#__codelineno-44-48"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-44-49" name="__codelineno-44-49" href="#__codelineno-44-49"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-44-50" name="__codelineno-44-50" href="#__codelineno-44-50"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-44-51" name="__codelineno-44-51" href="#__codelineno-44-51"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-44-52" name="__codelineno-44-52" href="#__codelineno-44-52"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-53" name="__codelineno-44-53" href="#__codelineno-44-53"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-44-54" name="__codelineno-44-54" href="#__codelineno-44-54"></a><span class="p">}</span>
<a id="__codelineno-44-55" name="__codelineno-44-55" href="#__codelineno-44-55"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-44-56" name="__codelineno-44-56" href="#__codelineno-44-56"></a><span class="p">{</span>
<a id="__codelineno-44-57" name="__codelineno-44-57" href="#__codelineno-44-57"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">op</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="p">;</span>
<a id="__codelineno-44-58" name="__codelineno-44-58" href="#__codelineno-44-58"></a><span class="w">    </span><span class="n">PriorityQueue</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-44-59" name="__codelineno-44-59" href="#__codelineno-44-59"></a>
<a id="__codelineno-44-60" name="__codelineno-44-60" href="#__codelineno-44-60"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-44-61" name="__codelineno-44-61" href="#__codelineno-44-61"></a><span class="w">    </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Initialize</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-44-62" name="__codelineno-44-62" href="#__codelineno-44-62"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-63" name="__codelineno-44-63" href="#__codelineno-44-63"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">op</span><span class="p">);</span>
<a id="__codelineno-44-64" name="__codelineno-44-64" href="#__codelineno-44-64"></a><span class="w">        </span><span class="k">switch</span><span class="p">(</span><span class="w"> </span><span class="n">op</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-65" name="__codelineno-44-65" href="#__codelineno-44-65"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-44-66" name="__codelineno-44-66" href="#__codelineno-44-66"></a><span class="w">            </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">X</span><span class="p">);</span>
<a id="__codelineno-44-67" name="__codelineno-44-67" href="#__codelineno-44-67"></a><span class="w">            </span><span class="n">Insert</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="p">);</span>
<a id="__codelineno-44-68" name="__codelineno-44-68" href="#__codelineno-44-68"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-44-69" name="__codelineno-44-69" href="#__codelineno-44-69"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-44-70" name="__codelineno-44-70" href="#__codelineno-44-70"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">DeleteMin</span><span class="p">(</span><span class="n">H</span><span class="p">));</span>
<a id="__codelineno-44-71" name="__codelineno-44-71" href="#__codelineno-44-71"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-44-72" name="__codelineno-44-72" href="#__codelineno-44-72"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-44-73" name="__codelineno-44-73" href="#__codelineno-44-73"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-74" name="__codelineno-44-74" href="#__codelineno-44-74"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Inside H:&quot;</span><span class="p">);</span>
<a id="__codelineno-44-75" name="__codelineno-44-75" href="#__codelineno-44-75"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;=</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-44-76" name="__codelineno-44-76" href="#__codelineno-44-76"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-44-77" name="__codelineno-44-77" href="#__codelineno-44-77"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-44-78" name="__codelineno-44-78" href="#__codelineno-44-78"></a><span class="p">}</span>
</code></pre></div>
<p>构造一个既是二分搜索树，又是complete binary tree</p>
<p><strong>Now given a sequence of distinct non-negative integer keys, a unique BST can be constructed if it is required that the tree must also be a CBT. You are supposed to output the level order traversal sequence of this BST.</strong></p>
<p><strong>Input Specification:</strong></p>
<p><strong>Each input file contains one test case. For each case, the first line contains a positive integer <em>N</em> (≤1000). Then <em>N</em> distinct non-negative integer keys are given in the next line. All the numbers in a line are separated by a space and are no greater than 2000.</strong></p>
<p><strong>Output Specification:</strong></p>
<p><strong>For each test case, print in one line the level order traversal sequence of the corresponding complete binary search tree. All the numbers in a line must be separated by a space, and there must be no extra space at the end of the line.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>Input:
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>10
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>1 2 3 4 5 6 7 8 9 0
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a>Output
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>6 3 8 1 5 7 9 0 2 4
</code></pre></div>
<blockquote>
<p><code>本题的关键在于构造，已知整棵树的节点数量，根据complete binary tree 的性质，可以判断左子树、右子树的结点数量，还要利用 binary search tree 的性质，左子树的元素一定小于root，root小于右子树，通过对输入的数进行排序，从而确定root，然后采用递归，一次确定左右子树的root</code></p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="cp">#include</span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="cp">#include</span><span class="cpf">&lt;math.h&gt;</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="c1">// typedef struct TreeNode* Tree;</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="c1">// struct TreeNode{</span>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="c1">//     int data;</span>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="c1">//     Tree left;</span>
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="c1">//     Tree right;</span>
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="c1">// }TreeNode;</span>
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a>
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="mi">1000</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="p">],</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="mi">1000</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>
<a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a>
<a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a><span class="kt">int</span><span class="w"> </span><span class="nf">cmp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a><span class="p">{</span>
<a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a><span class="p">}</span>
<a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a><span class="c1">//本题的关键在于构造，已知整棵树的节点数量，根据complete binary tree 的性质，可以判断左子树、右子树的结点数量，还要利用 binary search tree 的性质，左子树的元素一定小于root，root小于右子树，通过对输入的数进行排序，从而确定root，然后采用递归，一次确定左右子树的root</span>
<a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Create_tree</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">root</span><span class="p">)</span>
<a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a><span class="p">{</span>
<a id="__codelineno-46-21" name="__codelineno-46-21" href="#__codelineno-46-21"></a><span class="w">    </span><span class="c1">// 如果元素个数为0，则返回NULL。</span>
<a id="__codelineno-46-22" name="__codelineno-46-22" href="#__codelineno-46-22"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">right</span><span class="p">)</span>
<a id="__codelineno-46-23" name="__codelineno-46-23" href="#__codelineno-46-23"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-46-24" name="__codelineno-46-24" href="#__codelineno-46-24"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-46-25" name="__codelineno-46-25" href="#__codelineno-46-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-46-26" name="__codelineno-46-26" href="#__codelineno-46-26"></a><span class="w">    </span><span class="c1">// 先通过n，计算出左子树和右子树的元素个数</span>
<a id="__codelineno-46-27" name="__codelineno-46-27" href="#__codelineno-46-27"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_left</span><span class="p">,</span><span class="w"> </span><span class="n">n_right</span><span class="p">;</span>
<a id="__codelineno-46-28" name="__codelineno-46-28" href="#__codelineno-46-28"></a><span class="w">    </span><span class="c1">// 让n与满二叉树的结点数量进行比较，先计算最后一行的结点数量</span>
<a id="__codelineno-46-29" name="__codelineno-46-29" href="#__codelineno-46-29"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-46-30" name="__codelineno-46-30" href="#__codelineno-46-30"></a><span class="w">    </span><span class="c1">// 此处的行数是完整排列的行数，不包括最后一行</span>
<a id="__codelineno-46-31" name="__codelineno-46-31" href="#__codelineno-46-31"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">log2</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-46-32" name="__codelineno-46-32" href="#__codelineno-46-32"></a><span class="w">    </span><span class="c1">//printf(&quot;%d\n&quot;, row);</span>
<a id="__codelineno-46-33" name="__codelineno-46-33" href="#__codelineno-46-33"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">last_row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-46-34" name="__codelineno-46-34" href="#__codelineno-46-34"></a><span class="w">    </span><span class="c1">// 将最后一行的结点数量与前一行的节点数量进行比较</span>
<a id="__codelineno-46-35" name="__codelineno-46-35" href="#__codelineno-46-35"></a><span class="w">    </span><span class="c1">// 如果大于，说明最后一行结点既有左子树的结点，又有右子树的结点</span>
<a id="__codelineno-46-36" name="__codelineno-46-36" href="#__codelineno-46-36"></a><span class="w">    </span><span class="c1">// 此处需要区分一下，如何计算总数，pow(2, row)-1 ,如何计算每一行的结点数 pow(2, row-1)</span>
<a id="__codelineno-46-37" name="__codelineno-46-37" href="#__codelineno-46-37"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">last_row</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-46-38" name="__codelineno-46-38" href="#__codelineno-46-38"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-46-39" name="__codelineno-46-39" href="#__codelineno-46-39"></a><span class="w">        </span><span class="n">n_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-46-40" name="__codelineno-46-40" href="#__codelineno-46-40"></a><span class="w">        </span><span class="n">n_right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">n_left</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-46-41" name="__codelineno-46-41" href="#__codelineno-46-41"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-46-42" name="__codelineno-46-42" href="#__codelineno-46-42"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-46-43" name="__codelineno-46-43" href="#__codelineno-46-43"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-46-44" name="__codelineno-46-44" href="#__codelineno-46-44"></a><span class="w">        </span><span class="n">n_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">last_row</span><span class="p">;</span>
<a id="__codelineno-46-45" name="__codelineno-46-45" href="#__codelineno-46-45"></a><span class="w">        </span><span class="n">n_right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">n_left</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-46-46" name="__codelineno-46-46" href="#__codelineno-46-46"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-46-47" name="__codelineno-46-47" href="#__codelineno-46-47"></a><span class="w">    </span><span class="c1">// 根结点就是中间的那个数，下标是n_left</span>
<a id="__codelineno-46-48" name="__codelineno-46-48" href="#__codelineno-46-48"></a><span class="w">    </span><span class="n">b</span><span class="p">[</span><span class="n">root</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_left</span><span class="p">];</span>
<a id="__codelineno-46-49" name="__codelineno-46-49" href="#__codelineno-46-49"></a><span class="w">    </span><span class="c1">// 递归创建左子树和右子树</span>
<a id="__codelineno-46-50" name="__codelineno-46-50" href="#__codelineno-46-50"></a><span class="w">    </span><span class="n">Create_tree</span><span class="p">(</span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_left</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">root</span><span class="p">);</span>
<a id="__codelineno-46-51" name="__codelineno-46-51" href="#__codelineno-46-51"></a><span class="w">    </span><span class="n">Create_tree</span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-46-52" name="__codelineno-46-52" href="#__codelineno-46-52"></a><span class="p">}</span>
<a id="__codelineno-46-53" name="__codelineno-46-53" href="#__codelineno-46-53"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-46-54" name="__codelineno-46-54" href="#__codelineno-46-54"></a><span class="p">{</span>
<a id="__codelineno-46-55" name="__codelineno-46-55" href="#__codelineno-46-55"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-46-56" name="__codelineno-46-56" href="#__codelineno-46-56"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-46-57" name="__codelineno-46-57" href="#__codelineno-46-57"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-46-58" name="__codelineno-46-58" href="#__codelineno-46-58"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-46-59" name="__codelineno-46-59" href="#__codelineno-46-59"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-46-60" name="__codelineno-46-60" href="#__codelineno-46-60"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-46-61" name="__codelineno-46-61" href="#__codelineno-46-61"></a><span class="w">    </span><span class="c1">// 先对数组进行排序,排序之后的数组就是inorder</span>
<a id="__codelineno-46-62" name="__codelineno-46-62" href="#__codelineno-46-62"></a><span class="w">    </span><span class="n">qsort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span><span class="w"> </span><span class="n">cmp</span><span class="p">);</span>
<a id="__codelineno-46-63" name="__codelineno-46-63" href="#__codelineno-46-63"></a><span class="w">    </span><span class="c1">// 先将根结点放在b[]数组index = 1的位置</span>
<a id="__codelineno-46-64" name="__codelineno-46-64" href="#__codelineno-46-64"></a><span class="w">    </span><span class="n">Create_tree</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-46-65" name="__codelineno-46-65" href="#__codelineno-46-65"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w">  </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<a id="__codelineno-46-66" name="__codelineno-46-66" href="#__codelineno-46-66"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-46-67" name="__codelineno-46-67" href="#__codelineno-46-67"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-46-68" name="__codelineno-46-68" href="#__codelineno-46-68"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-46-69" name="__codelineno-46-69" href="#__codelineno-46-69"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-46-70" name="__codelineno-46-70" href="#__codelineno-46-70"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-46-71" name="__codelineno-46-71" href="#__codelineno-46-71"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-46-72" name="__codelineno-46-72" href="#__codelineno-46-72"></a><span class="p">}</span>
</code></pre></div>
<h1 id="union-and-find">七.Union and Find 并查集<a class="headerlink" href="#union-and-find" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>并查集的基本概念：</strong></p>
<ol>
<li><strong>并查集是一种树形的数据结构，用于处理一些不相交的合并及查询问题（所谓的并和查）</strong></li>
<li><strong>并查集主要由一个整型数组root[ ], 两个函数find（）和union（）构成</strong>
   - <strong>root[ ]用于知道每一个点的父亲，前驱节点</strong>
   - <strong>find（x）用于查找指定结点x属于哪个集合</strong>
   - <strong>union（x，y）用于合并结点</strong></li>
</ol>
</blockquote>
<h2 id="71-relation">7.1 Relation<a class="headerlink" href="#71-relation" title="Permanent link">&para;</a></h2>
<p>Relation is symmetric, If <span class="arithmatex">\((a, b) ∈ R\)</span>, then <span class="arithmatex">\((b, a) ∈ R\)</span>.</p>
<p>Relation is transitive, If <span class="arithmatex">\((a, b) ∈ R\)</span> &amp; <span class="arithmatex">\((b, c) ∈ R\)</span>, then <span class="arithmatex">\((a, c) ∈ R\)</span>.</p>
<p>Relflexive Relation is relflexive, If <span class="arithmatex">\((a, a) ∈ R\)</span>. </p>
<p>Consistent Relation is symmetric and relflexive.</p>
<h2 id="72-implement">7.2 Implement<a class="headerlink" href="#72-implement" title="Permanent link">&para;</a></h2>
<p><img alt="image-20231107103656588" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205280.png" /></p>
<h3 id="721-initialize">7.2.1 Initialize<a class="headerlink" href="#721-initialize" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="nl">Algorithm</span><span class="p">:</span><span class="w"> </span><span class="n">Initialize</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="p">{</span><span class="w">   </span><span class="cm">/* step 1: read the relations in */</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">    </span><span class="n">Initialize</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="n">disjoint</span><span class="w"> </span><span class="n">sets</span><span class="p">;</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p">(</span><span class="n">Find</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">b</span><span class="p">))</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c1">// Find用于找自己的根结点</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="w">    </span><span class="n">Union</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">sets</span><span class="p">;</span>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="cm">/* end-while */</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">    </span><span class="cm">/* step 2: decide if a ~ b */</span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w">   </span><span class="n">output</span><span class="p">(</span><span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="p">);</span><span class="c1">// 如果两个的根相同，则输出True</span>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="w">        </span><span class="k">else</span><span class="w">   </span><span class="n">output</span><span class="p">(</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="p">}</span>
</code></pre></div>
<h3 id="722-unioni-j">7.2.2 Union(i, j)<a class="headerlink" href="#722-unioni-j" title="Permanent link">&para;</a></h3>
<blockquote>
<p><strong>求并运算，将含有 a 和 b 的两个等价类合并为一个等价类</strong></p>
</blockquote>
<p>想法：make <span class="arithmatex">\(S_i\)</span> a subtree of <span class="arithmatex">\(S_j\)</span>,. That is ,we can set the parent pointer of one of the roots to the other root.</p>
<blockquote>
<p><strong>将一个根结点连接到另一棵树的根结点上，往往后者连接到前者。</strong></p>
</blockquote>
<p><img alt="image-20231107104002629" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205252.png" /></p>
<blockquote>
<p><code>Array Data Stucture Implementation</code></p>
</blockquote>
<ul>
<li>S[element] = the parent of element</li>
<li>S[root] = - 1</li>
<li>set name  = root index</li>
</ul>
<p><img alt="image-20231107104502928" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205271.png" /></p>
<p><img alt="image-20231107104559732" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205593.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">SetUnion</span><span class="p">(</span><span class="n">DisjSet</span><span class="w"> </span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">SetType</span><span class="w"> </span><span class="n">Rt1</span><span class="p">,</span><span class="w"> </span><span class="n">SetType</span><span class="w"> </span><span class="n">Rt2</span><span class="p">)</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="p">{</span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">    </span><span class="n">S</span><span class="p">[</span><span class="n">Rt2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rt1</span><span class="p">;</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">    </span><span class="c1">// 相当于一个集合的根结点，连接到另一个集合的根结点上去</span>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="p">}</span>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="c1">// 具体样例</span>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Union</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">S</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x2</span><span class="p">)</span>
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="p">{</span>
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">    </span><span class="n">S</span><span class="p">[</span><span class="n">x2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x1</span><span class="p">;</span>
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="c1">// Union-by-Size,Always change the smaller tree</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="c1">// S [ Root ] = – size;  /* initialized to be –1 */</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="c1">// 按照集合的大小进行Union</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Union_by_size</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x2</span><span class="err">，</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">S</span><span class="p">[])</span>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="p">{</span>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">root1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">x1</span><span class="p">);</span>
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">root2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FInd</span><span class="p">(</span><span class="n">x2</span><span class="p">);</span>
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="w">    </span><span class="c1">// 首先得判断是否需要Union</span>
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">root1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">root2</span><span class="p">)</span>
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a><span class="w">        </span><span class="c1">//root1 is bigger than root2,so we Union root2 to root1</span>
<a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">S</span><span class="p">[</span><span class="n">root2</span><span class="p">])</span>
<a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-49-19" name="__codelineno-49-19" href="#__codelineno-49-19"></a><span class="w">            </span><span class="n">S</span><span class="p">[</span><span class="n">root2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root1</span><span class="p">;</span><span class="w"> </span><span class="c1">//将第二个集合连接到第一个集合</span>
<a id="__codelineno-49-20" name="__codelineno-49-20" href="#__codelineno-49-20"></a><span class="w">            </span><span class="n">S</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">S</span><span class="p">[</span><span class="n">root2</span><span class="p">];</span><span class="w"> </span><span class="c1">// S[root]表示的是结合的大小</span>
<a id="__codelineno-49-21" name="__codelineno-49-21" href="#__codelineno-49-21"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-49-22" name="__codelineno-49-22" href="#__codelineno-49-22"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="c1">// root2 is bigger than root1</span>
<a id="__codelineno-49-23" name="__codelineno-49-23" href="#__codelineno-49-23"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-49-24" name="__codelineno-49-24" href="#__codelineno-49-24"></a><span class="w">            </span><span class="n">S</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root2</span><span class="p">;</span>
<a id="__codelineno-49-25" name="__codelineno-49-25" href="#__codelineno-49-25"></a><span class="w">            </span><span class="n">S</span><span class="p">[</span><span class="n">root2</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">S</span><span class="p">[</span><span class="n">root1</span><span class="p">];</span>
<a id="__codelineno-49-26" name="__codelineno-49-26" href="#__codelineno-49-26"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-49-27" name="__codelineno-49-27" href="#__codelineno-49-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-49-28" name="__codelineno-49-28" href="#__codelineno-49-28"></a><span class="p">}</span>
<a id="__codelineno-49-29" name="__codelineno-49-29" href="#__codelineno-49-29"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Union_by_height</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">S</span><span class="p">[])</span>
<a id="__codelineno-49-30" name="__codelineno-49-30" href="#__codelineno-49-30"></a><span class="p">{</span>
<a id="__codelineno-49-31" name="__codelineno-49-31" href="#__codelineno-49-31"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">root1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">x1</span><span class="p">);</span>
<a id="__codelineno-49-32" name="__codelineno-49-32" href="#__codelineno-49-32"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">root2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FInd</span><span class="p">(</span><span class="n">x2</span><span class="p">);</span>
<a id="__codelineno-49-33" name="__codelineno-49-33" href="#__codelineno-49-33"></a><span class="w">    </span><span class="c1">// 首先得判断是否需要Union</span>
<a id="__codelineno-49-34" name="__codelineno-49-34" href="#__codelineno-49-34"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">root1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">root2</span><span class="p">)</span>
<a id="__codelineno-49-35" name="__codelineno-49-35" href="#__codelineno-49-35"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-49-36" name="__codelineno-49-36" href="#__codelineno-49-36"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-49-37" name="__codelineno-49-37" href="#__codelineno-49-37"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-49-38" name="__codelineno-49-38" href="#__codelineno-49-38"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-49-39" name="__codelineno-49-39" href="#__codelineno-49-39"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-49-40" name="__codelineno-49-40" href="#__codelineno-49-40"></a><span class="w">        </span><span class="c1">// 集合1的高度更大，集合二接到1身上</span>
<a id="__codelineno-49-41" name="__codelineno-49-41" href="#__codelineno-49-41"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">rank</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">rank</span><span class="p">[</span><span class="n">root2</span><span class="p">])</span>
<a id="__codelineno-49-42" name="__codelineno-49-42" href="#__codelineno-49-42"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-49-43" name="__codelineno-49-43" href="#__codelineno-49-43"></a><span class="w">            </span><span class="n">pre</span><span class="p">[</span><span class="n">root2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root1</span><span class="p">;</span>
<a id="__codelineno-49-44" name="__codelineno-49-44" href="#__codelineno-49-44"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-49-45" name="__codelineno-49-45" href="#__codelineno-49-45"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">rank</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">rank</span><span class="p">[</span><span class="n">root2</span><span class="p">])</span>
<a id="__codelineno-49-46" name="__codelineno-49-46" href="#__codelineno-49-46"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-49-47" name="__codelineno-49-47" href="#__codelineno-49-47"></a><span class="w">            </span><span class="n">pre</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root2</span><span class="p">;</span>
<a id="__codelineno-49-48" name="__codelineno-49-48" href="#__codelineno-49-48"></a><span class="w">            </span><span class="c1">// 在高度不相等的情况下，短的集合接到长的集合，集合的长度仍然是原先长的集合，短的集合height+1 &lt;= 长的集合height</span>
<a id="__codelineno-49-49" name="__codelineno-49-49" href="#__codelineno-49-49"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-49-50" name="__codelineno-49-50" href="#__codelineno-49-50"></a><span class="w">        </span><span class="c1">// 如果两者高度相等，则默认集合二接到集合1shen</span>
<a id="__codelineno-49-51" name="__codelineno-49-51" href="#__codelineno-49-51"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-49-52" name="__codelineno-49-52" href="#__codelineno-49-52"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-49-53" name="__codelineno-49-53" href="#__codelineno-49-53"></a><span class="w">            </span><span class="n">pre</span><span class="p">[</span><span class="n">root2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root1</span><span class="p">;</span>
<a id="__codelineno-49-54" name="__codelineno-49-54" href="#__codelineno-49-54"></a><span class="w">            </span><span class="n">rank</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-49-55" name="__codelineno-49-55" href="#__codelineno-49-55"></a><span class="w">            </span><span class="c1">//只有两个高度相等时，heigtht才会增加</span>
<a id="__codelineno-49-56" name="__codelineno-49-56" href="#__codelineno-49-56"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-49-57" name="__codelineno-49-57" href="#__codelineno-49-57"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-49-58" name="__codelineno-49-58" href="#__codelineno-49-58"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p><strong>In <em>Union/Find</em> algorithm, if <em>Unions</em> are done by size, the depth of any node must be no more than <span class="arithmatex">\(N/2\)</span>, but not <span class="arithmatex">(<span class="arithmatex">\(O(logN).\)</span>\)</span></strong></p>
</blockquote>
<p>每做一次归并，都会使小的集合深度+1，但是总的深度还是看大的集合。所以只有深度相同的归并才能使总的深度+1.</p>
<p><code>因此深度最大为log_2{N}+1，原因在于，将集合均分为两等份，每一份的深度就是log_2{N},归并后+1.</code></p>
<p><strong>Time complexity of N Union and M Find operations is now <span class="arithmatex">\(O( N + M log_2 N ).\)</span></strong></p>
<blockquote>
<p>Union 时间复杂度是O（1），把一个集合的root变一下就好了</p>
<p>Find，涉及到找root和路径压缩，所以需要logN</p>
</blockquote>
<p><strong>Let T be a tree created by union-by-size with N nodes, then <span class="arithmatex">\(height(T)&lt;=(log2N)+1;\)</span></strong></p>
<p><img alt="image-20231120211952538" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205604.png" /></p>
<h3 id="723-find">7.2.3 Find()<a class="headerlink" href="#723-find" title="Permanent link">&para;</a></h3>
<blockquote>
<p><strong>返回给定元素的所在的集合（等价类）</strong></p>
</blockquote>
<p><img alt="image-20231107104835140" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205640.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="c1">//Recursive Version</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="p">{</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="w">    </span><span class="c1">// 先判断自己是不是root</span>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">root</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="c1">// 若不是则开始寻找并路径压缩</span>
<a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">root</span><span class="p">[</span><span class="n">x</span><span class="p">]);</span>
<a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a><span class="w">        </span><span class="c1">// 相当于先计算Find(root[x]),再进行赋值操作</span>
<a id="__codelineno-50-13" name="__codelineno-50-13" href="#__codelineno-50-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-50-14" name="__codelineno-50-14" href="#__codelineno-50-14"></a><span class="p">}</span>
<a id="__codelineno-50-15" name="__codelineno-50-15" href="#__codelineno-50-15"></a><span class="c1">// Iterative Version</span>
<a id="__codelineno-50-16" name="__codelineno-50-16" href="#__codelineno-50-16"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">S</span><span class="p">[])</span>
<a id="__codelineno-50-17" name="__codelineno-50-17" href="#__codelineno-50-17"></a><span class="p">{</span>
<a id="__codelineno-50-18" name="__codelineno-50-18" href="#__codelineno-50-18"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">trail</span><span class="p">,</span><span class="w"> </span><span class="n">lead</span><span class="p">;</span>
<a id="__codelineno-50-19" name="__codelineno-50-19" href="#__codelineno-50-19"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">S</span><span class="p">[</span><span class="n">root</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="p">[</span><span class="n">root</span><span class="p">]);</span>
<a id="__codelineno-50-20" name="__codelineno-50-20" href="#__codelineno-50-20"></a><span class="w">    </span><span class="c1">// 先找到集合S的root</span>
<a id="__codelineno-50-21" name="__codelineno-50-21" href="#__codelineno-50-21"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">trail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">trail</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">root</span><span class="p">;</span><span class="w"> </span><span class="n">trail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lead</span><span class="p">)</span>
<a id="__codelineno-50-22" name="__codelineno-50-22" href="#__codelineno-50-22"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-50-23" name="__codelineno-50-23" href="#__codelineno-50-23"></a><span class="w">        </span><span class="n">lead</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="p">[</span><span class="n">trail</span><span class="p">];</span>
<a id="__codelineno-50-24" name="__codelineno-50-24" href="#__codelineno-50-24"></a><span class="w">        </span><span class="n">S</span><span class="p">[</span><span class="n">trail</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root</span><span class="p">;</span><span class="c1">//相当于多层结构，将每一层的父节点都改为最终的根结点root</span>
<a id="__codelineno-50-25" name="__codelineno-50-25" href="#__codelineno-50-25"></a><span class="w">    </span><span class="p">}</span><span class="c1">// 再找一遍，找的时候将每一层跟的最终跟都改掉</span>
<a id="__codelineno-50-26" name="__codelineno-50-26" href="#__codelineno-50-26"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">root</span><span class="p">;</span>
<a id="__codelineno-50-27" name="__codelineno-50-27" href="#__codelineno-50-27"></a><span class="p">}</span>
</code></pre></div>
<p>路径压缩的效果是，从 X 到根的路径上每一个节点都使它的父节点变成根。</p>
<p>路径压缩与按大小求并完全兼容，可以同时实现，但不能与按高度求并（有时称为秩）</p>
<p>实战代码：</p>
<p><img alt="image-20231111215619092" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205480.png" /></p>
<p><img alt="image-20231111215708858" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205525.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>5
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>C 3 2
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>I 3 2
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>C 1 5
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a>I 4 5
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a>I 2 4
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a>C 3 5
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a>S
<a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a>no
<a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a>no
<a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a>yes
<a id="__codelineno-51-12" name="__codelineno-51-12" href="#__codelineno-51-12"></a>There are 2 components.
<a id="__codelineno-51-13" name="__codelineno-51-13" href="#__codelineno-51-13"></a>
<a id="__codelineno-51-14" name="__codelineno-51-14" href="#__codelineno-51-14"></a>5
<a id="__codelineno-51-15" name="__codelineno-51-15" href="#__codelineno-51-15"></a>C 3 2
<a id="__codelineno-51-16" name="__codelineno-51-16" href="#__codelineno-51-16"></a>I 3 2
<a id="__codelineno-51-17" name="__codelineno-51-17" href="#__codelineno-51-17"></a>C 1 5
<a id="__codelineno-51-18" name="__codelineno-51-18" href="#__codelineno-51-18"></a>I 4 5
<a id="__codelineno-51-19" name="__codelineno-51-19" href="#__codelineno-51-19"></a>I 2 4
<a id="__codelineno-51-20" name="__codelineno-51-20" href="#__codelineno-51-20"></a>C 3 5
<a id="__codelineno-51-21" name="__codelineno-51-21" href="#__codelineno-51-21"></a>I 1 3
<a id="__codelineno-51-22" name="__codelineno-51-22" href="#__codelineno-51-22"></a>C 1 5
<a id="__codelineno-51-23" name="__codelineno-51-23" href="#__codelineno-51-23"></a>S
<a id="__codelineno-51-24" name="__codelineno-51-24" href="#__codelineno-51-24"></a>no
<a id="__codelineno-51-25" name="__codelineno-51-25" href="#__codelineno-51-25"></a>no
<a id="__codelineno-51-26" name="__codelineno-51-26" href="#__codelineno-51-26"></a>yes
<a id="__codelineno-51-27" name="__codelineno-51-27" href="#__codelineno-51-27"></a>yes
<a id="__codelineno-51-28" name="__codelineno-51-28" href="#__codelineno-51-28"></a>The network is connected.
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="c1">// 全局变量</span>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="kt">int</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="mi">10000</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="c1">// 在寻找的过程中，进行路径压缩</span>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="p">{</span>
<a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">root</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">root</span><span class="p">[</span><span class="n">x</span><span class="p">]);</span>
<a id="__codelineno-52-14" name="__codelineno-52-14" href="#__codelineno-52-14"></a><span class="w">        </span><span class="c1">// 相当于先计算Find(root[x]),再进行赋值操作</span>
<a id="__codelineno-52-15" name="__codelineno-52-15" href="#__codelineno-52-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-16" name="__codelineno-52-16" href="#__codelineno-52-16"></a><span class="p">}</span>
<a id="__codelineno-52-17" name="__codelineno-52-17" href="#__codelineno-52-17"></a><span class="c1">// 此处为Union_by_size 模式</span>
<a id="__codelineno-52-18" name="__codelineno-52-18" href="#__codelineno-52-18"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Union</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">root1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">root2</span><span class="p">)</span>
<a id="__codelineno-52-19" name="__codelineno-52-19" href="#__codelineno-52-19"></a><span class="p">{</span>
<a id="__codelineno-52-20" name="__codelineno-52-20" href="#__codelineno-52-20"></a><span class="w">    </span><span class="c1">// 集合1的元素个数多余集合2，集合2接到集合1身上</span>
<a id="__codelineno-52-21" name="__codelineno-52-21" href="#__codelineno-52-21"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">root</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="n">root2</span><span class="p">])</span>
<a id="__codelineno-52-22" name="__codelineno-52-22" href="#__codelineno-52-22"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-23" name="__codelineno-52-23" href="#__codelineno-52-23"></a><span class="w">        </span><span class="n">root</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="n">root2</span><span class="p">];</span>
<a id="__codelineno-52-24" name="__codelineno-52-24" href="#__codelineno-52-24"></a><span class="w">        </span><span class="c1">// root[root1]表示的是 -size</span>
<a id="__codelineno-52-25" name="__codelineno-52-25" href="#__codelineno-52-25"></a><span class="w">        </span><span class="n">root</span><span class="p">[</span><span class="n">root2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root1</span><span class="p">;</span>
<a id="__codelineno-52-26" name="__codelineno-52-26" href="#__codelineno-52-26"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-27" name="__codelineno-52-27" href="#__codelineno-52-27"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-52-28" name="__codelineno-52-28" href="#__codelineno-52-28"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-29" name="__codelineno-52-29" href="#__codelineno-52-29"></a><span class="w">        </span><span class="n">root</span><span class="p">[</span><span class="n">root2</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="n">root1</span><span class="p">];</span>
<a id="__codelineno-52-30" name="__codelineno-52-30" href="#__codelineno-52-30"></a><span class="w">        </span><span class="n">root</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root2</span><span class="p">;</span>
<a id="__codelineno-52-31" name="__codelineno-52-31" href="#__codelineno-52-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-32" name="__codelineno-52-32" href="#__codelineno-52-32"></a><span class="p">}</span>
<a id="__codelineno-52-33" name="__codelineno-52-33" href="#__codelineno-52-33"></a>
<a id="__codelineno-52-34" name="__codelineno-52-34" href="#__codelineno-52-34"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-52-35" name="__codelineno-52-35" href="#__codelineno-52-35"></a><span class="p">{</span>
<a id="__codelineno-52-36" name="__codelineno-52-36" href="#__codelineno-52-36"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-52-37" name="__codelineno-52-37" href="#__codelineno-52-37"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-52-38" name="__codelineno-52-38" href="#__codelineno-52-38"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-52-39" name="__codelineno-52-39" href="#__codelineno-52-39"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-52-40" name="__codelineno-52-40" href="#__codelineno-52-40"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-41" name="__codelineno-52-41" href="#__codelineno-52-41"></a><span class="w">        </span><span class="n">root</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-52-42" name="__codelineno-52-42" href="#__codelineno-52-42"></a><span class="w">        </span><span class="c1">// 采用union_by_size 模式</span>
<a id="__codelineno-52-43" name="__codelineno-52-43" href="#__codelineno-52-43"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-44" name="__codelineno-52-44" href="#__codelineno-52-44"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;o&#39;</span><span class="p">;</span>
<a id="__codelineno-52-45" name="__codelineno-52-45" href="#__codelineno-52-45"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;S&#39;</span><span class="p">)</span>
<a id="__codelineno-52-46" name="__codelineno-52-46" href="#__codelineno-52-46"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-47" name="__codelineno-52-47" href="#__codelineno-52-47"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%c&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">c</span><span class="p">);</span>
<a id="__codelineno-52-48" name="__codelineno-52-48" href="#__codelineno-52-48"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">);</span>
<a id="__codelineno-52-49" name="__codelineno-52-49" href="#__codelineno-52-49"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="p">);</span>
<a id="__codelineno-52-50" name="__codelineno-52-50" href="#__codelineno-52-50"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;I&#39;</span><span class="p">)</span>
<a id="__codelineno-52-51" name="__codelineno-52-51" href="#__codelineno-52-51"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-52-52" name="__codelineno-52-52" href="#__codelineno-52-52"></a><span class="w">            </span><span class="c1">// Union</span>
<a id="__codelineno-52-53" name="__codelineno-52-53" href="#__codelineno-52-53"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">root1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
<a id="__codelineno-52-54" name="__codelineno-52-54" href="#__codelineno-52-54"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">root2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
<a id="__codelineno-52-55" name="__codelineno-52-55" href="#__codelineno-52-55"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">root1</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">root2</span><span class="p">)</span>
<a id="__codelineno-52-56" name="__codelineno-52-56" href="#__codelineno-52-56"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-52-57" name="__codelineno-52-57" href="#__codelineno-52-57"></a><span class="w">                </span><span class="n">Union</span><span class="p">(</span><span class="n">root1</span><span class="p">,</span><span class="w"> </span><span class="n">root2</span><span class="p">);</span>
<a id="__codelineno-52-58" name="__codelineno-52-58" href="#__codelineno-52-58"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-52-59" name="__codelineno-52-59" href="#__codelineno-52-59"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-52-60" name="__codelineno-52-60" href="#__codelineno-52-60"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;C&#39;</span><span class="p">)</span>
<a id="__codelineno-52-61" name="__codelineno-52-61" href="#__codelineno-52-61"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-52-62" name="__codelineno-52-62" href="#__codelineno-52-62"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">Find</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<a id="__codelineno-52-63" name="__codelineno-52-63" href="#__codelineno-52-63"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-52-64" name="__codelineno-52-64" href="#__codelineno-52-64"></a><span class="w">                </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;yes</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-52-65" name="__codelineno-52-65" href="#__codelineno-52-65"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-52-66" name="__codelineno-52-66" href="#__codelineno-52-66"></a><span class="w">            </span><span class="k">else</span>
<a id="__codelineno-52-67" name="__codelineno-52-67" href="#__codelineno-52-67"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-52-68" name="__codelineno-52-68" href="#__codelineno-52-68"></a><span class="w">                </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;no</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-52-69" name="__codelineno-52-69" href="#__codelineno-52-69"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-52-70" name="__codelineno-52-70" href="#__codelineno-52-70"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-52-71" name="__codelineno-52-71" href="#__codelineno-52-71"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-72" name="__codelineno-52-72" href="#__codelineno-52-72"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-52-73" name="__codelineno-52-73" href="#__codelineno-52-73"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-52-74" name="__codelineno-52-74" href="#__codelineno-52-74"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-75" name="__codelineno-52-75" href="#__codelineno-52-75"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">root</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-52-76" name="__codelineno-52-76" href="#__codelineno-52-76"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-52-77" name="__codelineno-52-77" href="#__codelineno-52-77"></a><span class="w">            </span><span class="n">ans</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-52-78" name="__codelineno-52-78" href="#__codelineno-52-78"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-52-79" name="__codelineno-52-79" href="#__codelineno-52-79"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-80" name="__codelineno-52-80" href="#__codelineno-52-80"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">ans</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-52-81" name="__codelineno-52-81" href="#__codelineno-52-81"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-82" name="__codelineno-52-82" href="#__codelineno-52-82"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;The network is connected.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-52-83" name="__codelineno-52-83" href="#__codelineno-52-83"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-84" name="__codelineno-52-84" href="#__codelineno-52-84"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-52-85" name="__codelineno-52-85" href="#__codelineno-52-85"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-86" name="__codelineno-52-86" href="#__codelineno-52-86"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;There are %d components.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ans</span><span class="p">);</span>
<a id="__codelineno-52-87" name="__codelineno-52-87" href="#__codelineno-52-87"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-88" name="__codelineno-52-88" href="#__codelineno-52-88"></a><span class="p">}</span>
<a id="__codelineno-52-89" name="__codelineno-52-89" href="#__codelineno-52-89"></a>
<a id="__codelineno-52-90" name="__codelineno-52-90" href="#__codelineno-52-90"></a><span class="c1">// union_by_height</span>
<a id="__codelineno-52-91" name="__codelineno-52-91" href="#__codelineno-52-91"></a><span class="kt">int</span><span class="w"> </span><span class="n">pre</span><span class="p">[</span><span class="mi">10010</span><span class="p">];</span><span class="w"> </span><span class="c1">//找父亲</span>
<a id="__codelineno-52-92" name="__codelineno-52-92" href="#__codelineno-52-92"></a><span class="kt">int</span><span class="w"> </span><span class="n">rank</span><span class="p">[</span><span class="mi">10010</span><span class="p">];</span><span class="w"> </span><span class="c1">// 每一个结点所在集合的height</span>
<a id="__codelineno-52-93" name="__codelineno-52-93" href="#__codelineno-52-93"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-52-94" name="__codelineno-52-94" href="#__codelineno-52-94"></a><span class="p">{</span>
<a id="__codelineno-52-95" name="__codelineno-52-95" href="#__codelineno-52-95"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">pre</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">x</span><span class="p">){</span>
<a id="__codelineno-52-96" name="__codelineno-52-96" href="#__codelineno-52-96"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-52-97" name="__codelineno-52-97" href="#__codelineno-52-97"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-98" name="__codelineno-52-98" href="#__codelineno-52-98"></a><span class="w">    </span><span class="k">else</span><span class="p">{</span>
<a id="__codelineno-52-99" name="__codelineno-52-99" href="#__codelineno-52-99"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">pre</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">pre</span><span class="p">[</span><span class="n">x</span><span class="p">]);</span>
<a id="__codelineno-52-100" name="__codelineno-52-100" href="#__codelineno-52-100"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-101" name="__codelineno-52-101" href="#__codelineno-52-101"></a><span class="p">}</span>
<a id="__codelineno-52-102" name="__codelineno-52-102" href="#__codelineno-52-102"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Union_by_height</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<a id="__codelineno-52-103" name="__codelineno-52-103" href="#__codelineno-52-103"></a><span class="p">{</span>
<a id="__codelineno-52-104" name="__codelineno-52-104" href="#__codelineno-52-104"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">root1</span><span class="p">,</span><span class="w"> </span><span class="n">root2</span><span class="p">;</span>
<a id="__codelineno-52-105" name="__codelineno-52-105" href="#__codelineno-52-105"></a><span class="w">    </span><span class="n">root1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<a id="__codelineno-52-106" name="__codelineno-52-106" href="#__codelineno-52-106"></a><span class="w">    </span><span class="n">root2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
<a id="__codelineno-52-107" name="__codelineno-52-107" href="#__codelineno-52-107"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">root1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">root2</span><span class="p">)</span>
<a id="__codelineno-52-108" name="__codelineno-52-108" href="#__codelineno-52-108"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-109" name="__codelineno-52-109" href="#__codelineno-52-109"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-52-110" name="__codelineno-52-110" href="#__codelineno-52-110"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-111" name="__codelineno-52-111" href="#__codelineno-52-111"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-52-112" name="__codelineno-52-112" href="#__codelineno-52-112"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-52-113" name="__codelineno-52-113" href="#__codelineno-52-113"></a><span class="w">        </span><span class="c1">// 此处比较的是height，且height为正数</span>
<a id="__codelineno-52-114" name="__codelineno-52-114" href="#__codelineno-52-114"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">rank</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">rank</span><span class="p">[</span><span class="n">root2</span><span class="p">])</span>
<a id="__codelineno-52-115" name="__codelineno-52-115" href="#__codelineno-52-115"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-52-116" name="__codelineno-52-116" href="#__codelineno-52-116"></a><span class="w">            </span><span class="n">pre</span><span class="p">[</span><span class="n">root2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root1</span><span class="p">;</span>
<a id="__codelineno-52-117" name="__codelineno-52-117" href="#__codelineno-52-117"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-52-118" name="__codelineno-52-118" href="#__codelineno-52-118"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">rank</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">rank</span><span class="p">[</span><span class="n">root2</span><span class="p">])</span>
<a id="__codelineno-52-119" name="__codelineno-52-119" href="#__codelineno-52-119"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-52-120" name="__codelineno-52-120" href="#__codelineno-52-120"></a><span class="w">            </span><span class="n">pre</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root2</span><span class="p">;</span>
<a id="__codelineno-52-121" name="__codelineno-52-121" href="#__codelineno-52-121"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-52-122" name="__codelineno-52-122" href="#__codelineno-52-122"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-52-123" name="__codelineno-52-123" href="#__codelineno-52-123"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-52-124" name="__codelineno-52-124" href="#__codelineno-52-124"></a><span class="w">            </span><span class="n">pre</span><span class="p">[</span><span class="n">root2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root1</span><span class="p">;</span>
<a id="__codelineno-52-125" name="__codelineno-52-125" href="#__codelineno-52-125"></a><span class="w">            </span><span class="n">rank</span><span class="p">[</span><span class="n">root1</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-52-126" name="__codelineno-52-126" href="#__codelineno-52-126"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-52-127" name="__codelineno-52-127" href="#__codelineno-52-127"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-52-128" name="__codelineno-52-128" href="#__codelineno-52-128"></a><span class="p">}</span>
</code></pre></div>
<h1 id="graph">八. Graph<a class="headerlink" href="#graph" title="Permanent link">&para;</a></h1>
<p><img alt="在这里插入图片描述" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205507.png" /></p>
<h2 id="81">8.1 图的基本概念<a class="headerlink" href="#81" title="Permanent link">&para;</a></h2>
<h3 id="811">8.1.1 图的定义和相关术语<a class="headerlink" href="#811" title="Permanent link">&para;</a></h3>
<p>图(Graph)是由顶点的有穷非空集合<span class="arithmatex">\(V ( G )\)</span> 和顶点之间边的集合<span class="arithmatex">\(<span class="arithmatex">\(E ( G )\)</span>\)</span>组成，通常表示为: <span class="arithmatex">\(G = ( V , E )\)</span> ，其中，<span class="arithmatex">\(<span class="arithmatex">\(G\)</span>\)</span>表示个图，<span class="arithmatex">\(<span class="arithmatex">\(V\)</span>\)</span>是图G 中顶点的集合，<span class="arithmatex">\(<span class="arithmatex">\(E\)</span>\)</span>是图<span class="arithmatex">\(<span class="arithmatex">\(G\)</span>\)</span>中边的集合。若<span class="arithmatex">\(<span class="arithmatex">\(V = \{ v 1 , v 2 , . . . , v n \}\)</span>\)</span> ，则用<span class="arithmatex">\(<span class="arithmatex">\(∣ V ∣\)</span>\)</span>表示图G中顶点的个数，也称图G的阶，<span class="arithmatex">\(<span class="arithmatex">\(E = { ( u , v ) ∣ u ∈ V , v ∈ V }\)</span>\)</span>，用<span class="arithmatex">\(<span class="arithmatex">\(∣ E ∣\)</span>\)</span>表示图G中边的条数。</p>
<blockquote>
<p>注意:线性表可以是空表，树可以是空树，<strong>但图不可以是空图。就是说，图中不能一个顶点也没有，图的顶点集V一定非空，但边集E可以为空，此时图中只有顶点而没有边。</strong></p>
</blockquote>
<h3 id="812">8.1.2 相关术语<a class="headerlink" href="#812" title="Permanent link">&para;</a></h3>
<ol>
<li>有向图</li>
</ol>
<p>若E是有向边(也称弧)的有限集合时，则图G为有向图。弧是顶点的有序对，记为<v, w></p>
<p>其中v,w是顶点，v称为弧尾（tail），w称为弧头（head），<v,w>称为从顶点v到顶点w的弧，也称v邻接到w，或w邻接自v。</p>
<p><strong><span class="arithmatex">\(V_i \ is \ adjacent \ to \ V_j, \ V_j \ is \ adjacent \ from \ V_i\)</span></strong></p>
<blockquote>
<p><strong><span class="arithmatex">\(&lt;V_i,V_j&gt; != &lt;V_j, V_i&gt;\)</span></strong></p>
</blockquote>
<p><img alt="image-20231114090032878" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205516.png" /></p>
<ol start="2">
<li>无向图</li>
</ol>
<p>若E是无向边(简称边)的有限集合时，则图G为无向图。边是顶点的无序对，记为(v, w)或(w,v),因为(v,w)=(w,v), 其中v,w是顶点。可以说顶点w和顶点v互为邻接点。边(v, w)依附于顶点w和v，或者说边(v, w)和顶点v, w相关联。</p>
<p><img alt="image-20231114090110367" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205580.png" /></p>
<blockquote>
<p><strong><span class="arithmatex">\((V_i, V_j)\)</span></strong> <span class="arithmatex">\(V_i \ and \ V_j \ is \ adjacent\)</span></p>
</blockquote>
<ol start="3">
<li>simple graph 简单图</li>
</ol>
<p>一个图G若满足:</p>
<p>①<code>不存在重复边;</code></p>
<p>②<code>不存在顶点到自身的边</code>，则称图G为简单图。</p>
<p>上图中$$G_1 $$ 和<span class="arithmatex">\(<span class="arithmatex">\(G_2\)</span>\)</span>均为简单图。<strong>数据结构中仅讨论简单图</strong></p>
<ol start="4">
<li>complete graph 完全图</li>
</ol>
<p>complete  graph ： <strong>a graph that has the maximum number of edges</strong></p>
<p><img alt="image-20231114100146417" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205540.png" /></p>
<p>对于无向图，任意两点之间都有一条边进行连接，该条边无方向之分，可以共用，故需要<span class="arithmatex">\(C_n^2=\dfrac{n(n-1)}{2}\)</span></p>
<p>对于有向图，边的方向不同，便无法共用连接，故需要<span class="arithmatex">\(P_n^2 = n(n-1)\)</span></p>
<ol start="5">
<li>Subgraph 子图</li>
</ol>
<p><span class="arithmatex">\(G' \subset G 相当于 V(G') \subset V(G) \ and \ E(G') \subset E(G)\)</span></p>
<ol start="6">
<li>connected and unconnected</li>
</ol>
<p><strong>An undirected graph G is</strong> <strong>connected</strong> <strong>if every pair of distinct</strong> <span class="arithmatex">\(V_i\)</span> <strong>and</strong> <strong><span class="arithmatex">\(V_j\)</span> are connected</strong></p>
<p>在无向图中，若从顶点<span class="arithmatex">\(v\)</span>到顶点<span class="arithmatex">\(w\)</span>有路径存在，则称<span class="arithmatex">\(v和\)</span>w是连通的。若图<span class="arithmatex">\(G\)</span>中任意两个顶点都是连通的，则称图<span class="arithmatex">\(G\)</span>为连通图，否则称为非连通图。无向图中的<strong>极大连通子图</strong>称为连通分量()。若一个图有<span class="arithmatex">\(n\)</span>个顶点，并且边数小于<span class="arithmatex">\(n − 1\)</span>则此图必是非连通图。如下图(a)所示， 图<span class="arithmatex">\(G 4\)</span>有3个连通分量，如图（b）所示</p>
<p><img alt="image-20231114101437507" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205667.png" /></p>
<blockquote>
<p><strong>Component of an undirected G</strong> <strong>::=</strong> <strong>the <code>maximal</code>connected subgraph</strong></p>
<p><strong>Strongly connected component</strong> <strong>::= the<code>maximal</code> subgraph that is strongly connected</strong></p>
<h3 id="_5"><code>区分极大连通子图和极小连通子图，极大连通子图是无向图的连通分量，极大要求连通子图包含其所有的边，极小连通子图是既要保持图连通又要使边的数量最少</code><a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
</blockquote>
<ol start="7">
<li>strongly connected 强连通的</li>
</ol>
<p>在有向图中，若从顶点v 到顶点w和从顶点w到项点v之间都有路径,则称这两个顶点是强连通的。若图中任何一对顶点都是强连通的，则称此图为强连通图。有向图中的<strong>极大强连通子图</strong>称为有向图的强连通分量。</p>
<p><strong>Strongly connected directed graph G</strong> <strong>::=</strong> <strong>for every pair of </strong><span class="arithmatex">\(V_i\)</span> <strong>and</strong> <span class="arithmatex">\(V_j\)</span> <strong>in V( G ), there exist directed paths from</strong>  <span class="arithmatex">\(V_i \ to \ V_j\)</span><strong>and from</strong> <span class="arithmatex">\(V_j \ to \ V_i\)</span></p>
<p><strong>If the graph is connected without direction to the edges, then it is said to be</strong> <strong>weakly connected</strong></p>
<blockquote>
<p>注意:强连通图、强连通分量只是针对有向图而言的。一般在无向图中讨论连通性，在有向图中考虑强连通性。</p>
</blockquote>
<ol start="8">
<li>生成树和生成森林</li>
</ol>
<p><strong>A tree</strong> <strong>::=</strong> <strong>a graph that is connected and</strong> <strong>acyclic 连通并且无环</strong></p>
<p>连通图的生成树是包含图中全部顶点的一个极小连通子图。<code>若图中定点数为n，则它的生成树含有n-1条边。对于生成树而言，若砍去它的一条边，就会变成不连通图，若加上一条边，就会形成一个回路</code></p>
<p>在非连通图中，连通分量的生成树构成了非连通图的生成森林。</p>
<ol start="9">
<li>
<p>degree(顶点的度)，in-degree(入度) out-degree(出度)
   - 对于无向图，顶点的度是指依附于该顶点的边的条数，记作TD（v)
   - 在具有n个顶点、e条边的无向图中，<span class="arithmatex">\(\sum_{i =1}^{n}TD(v_i) = 2e\)</span>即无向图的全部顶点的度的和等于边数的2倍，因为每条边和两个顶点相关联。
   - 对于有向图,顶点v的度分为入度和出度,入度是以顶点v为终点的有向边的数目，记为<span class="arithmatex">\(I D ( v )\)</span>; 而出度是以顶点v为起点的有向边的数目，记为<span class="arithmatex">\(O D ( v )\)</span>。
   - 顶点v的度等于其入度和出度之和，即<span class="arithmatex">\(T D ( v ) = I D ( v ) + O D ( v )\)</span> 。
   - 在具有n个顶点，e条边的有向图中，<span class="arithmatex">\(\sum_{i = 1}^n ID(v_i) = \sum_{i = 1}^n OD(v_i) = e\)</span>即有向图的全部顶点的入度之和与出度之和相等，并且等于边数。这是因为每条有向边都有一个起点和终点。</p>
</li>
<li>
<p>边的权重和网</p>
</li>
</ol>
<p>在一个图中，每条边都可以标上具有某种含义的数值，该数值称为该边的<strong>权值</strong>。这种边上带有权值的图称为<strong>带权图</strong>，也称<strong>网</strong>。</p>
<ol start="11">
<li>Path from <span class="arithmatex">\(V_p \ to \ V_q\)</span>(路径)、length of a path(路径长度)和cycle(回路)</li>
</ol>
<p>顶点<span class="arithmatex">\(V_p\)</span>到顶点<span class="arithmatex">\(V_q\)</span>之间的一条路径是指顶点序列<span class="arithmatex">\(V_p,V_{i1},V_{i2},\cdots,V_q\)</span>,路径上边的数目称为<strong>路径长度</strong>。</p>
<p><strong>第一个顶点和最后一个顶点相同的路径称为回路或环</strong>。若一个图有n个顶点，并且有大于n − 1条边，则此图一定有环。</p>
<ol start="12">
<li>simple path(简单路径)、simple cycle(简单回路)</li>
</ol>
<p>在路径序列中，顶点不重复出现的路径称为简单路径。除第一个顶点和最后一个顶点外，<strong>其余顶点不重复出现</strong>的回路称为简单回路。</p>
<ol start="13">
<li>距离</li>
</ol>
<p>从顶点u出发到顶点v的最短路径若存在，则此路径的长度称为从u到v的距离。若从u到v根本不存在路径，则记该距离为无穷( ∞ ) </p>
<blockquote>
<p><strong>补充一个： DAG： a directed acyclic graph 有向无环图</strong></p>
</blockquote>
<h2 id="82">8.2 图的存储结构（如何表示图）<a class="headerlink" href="#82" title="Permanent link">&para;</a></h2>
<h3 id="821">8.2.1 邻接矩阵<a class="headerlink" href="#821" title="Permanent link">&para;</a></h3>
<p>图的邻接矩阵（adjacency Matrix）存储方式使用两个数组表示图，一个一维数组存储图中顶点信息，一个二维数组存储图中的边的信息</p>
<p>设图G有n个顶点，则邻接矩阵A是一个n*n的矩阵
$$
A[i][j] = 
\begin{cases}
0 &amp; \text{若(Vi,Vj)或者<Vi,Vj>不是E（G）的边} \
1 &amp; \text{若(Vi,Vj)或者<Vi,Vj>是E（G）的边}
\end{cases}
$$</p>
<h4 id="_6">无向图<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<p><img alt="image-20231114120656604" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205075.png" /></p>
<ul>
<li>
<p><code>无向图的邻接矩阵一定是一个对称矩阵</code>(即从矩阵的左上角到右下角的主对角线为轴，右上角的元与左下角相对应的元全都是相等的)。<code>因此，在实际存储邻接矩阵时只需存储上(或下)三角矩阵的元素。</code></p>
</li>
<li>
<p>对于无向图，<strong>邻接矩阵的第i行(或第i列)非零元素(或非∞元素)的个数正好是第i个顶点的度$T D ( v i ) $</strong>。比如顶点v 1 的度就是1 + 0 + 1 + 0 =2。</p>
</li>
<li>求顶点$$v i $$的所有邻接点就是将矩阵中第i行元素扫描一遍， <span class="arithmatex">\(A [ i ] [ j ]\)</span>为 1就是邻接点。</li>
</ul>
<p><img alt="image-20231117154904128" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205658.png" /></p>
<h4 id="_7">有向图<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<p><img alt="image-20231115191347954" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205938.png" /></p>
<p>对于有向图和它的邻接矩阵</p>
<ul>
<li>主对角线上数值依然为0，并且邻接矩阵不是一个对称矩阵</li>
<li>有向图的入度，<span class="arithmatex">\(v_i\)</span>的入度就是第i列各数之和。有向图的出度，<span class="arithmatex">\(v_i\)</span>的出度就是第i行各数之和</li>
<li>判断顶点<span class="arithmatex">\(v_i,v_j\)</span>之间是否存在弧，只需查找矩阵A[i][j]是否等于1</li>
</ul>
<h4 id="_8">有权图<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<p><img alt="image-20231115191751084" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205121.png" /></p>
<p>对于带权图，若顶点<span class="arithmatex">\(v_i,v_j\)</span>之间有边相连，则邻接矩阵对应项存放着该边的权值
$$
A[i][j] = 
\begin{cases}
W_{ij} &amp; 若(v_i,v_j)\in E 或者<v_i,v_j> \in E\
0 &amp; 若 i = j\
\infty &amp; 其他
\end{cases}
$$</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="c1">// 定义邻接矩阵的存储结构</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="c1">//图的邻接矩阵（adjacency Matrix）存储方式使用两个数组表示图</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="c1">//一个一维数组存储图中顶点信息</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="c1">//一个二维数组存储图中的边的信息</span>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="cp">#define MAXVERTEXNUM 100    </span><span class="c1">//顶点数目的最大值是100</span>
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span><span class="w">    </span><span class="c1">//顶点的数据类型</span>
<a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">EdgeType</span><span class="p">;</span><span class="w">       </span><span class="c1">//带权图中边上权值的数据类型</span>
<a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">Vex</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span><span class="w">   </span><span class="c1">//顶点表</span>
<a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="w">    </span><span class="n">EgdeType</span><span class="w"> </span><span class="n">Edge</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span><span class="w"> </span><span class="c1">// 邻接矩阵，边表</span>
<a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">vexnum</span><span class="p">,</span><span class="w"> </span><span class="n">arcnum</span><span class="p">;</span><span class="w">     </span><span class="c1">//图的当前定点数和弧树</span>
<a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a><span class="p">}</span><span class="n">MGraph</span><span class="p">;</span>
</code></pre></div>
<blockquote>
<p>注意：</p>
<ol>
<li>在简单应用中，可直接用二维数组作为图的邻接矩阵(顶点信息等均可省略)。</li>
<li>无向图的邻接矩阵是对称矩阵，对规模特大的邻接矩阵可采用压缩存储。上三角矩阵/下三角矩阵</li>
<li>邻接矩阵表示法的空间复杂度为<span class="arithmatex">\(O(n^2)\)</span>,n为图的顶点数</li>
<li>稠密图适合使用邻接矩阵的存储表示</li>
</ol>
</blockquote>
<h3 id="822">8.2.2 邻接表<a class="headerlink" href="#822" title="Permanent link">&para;</a></h3>
<p><img alt="image-20231117155051337" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205006.png" /></p>
<p>当一个图为稀疏图时（边数相对顶点数较少），使用邻接矩阵法显然要浪费大量的存储空间</p>
<p>而图的邻接表结合了顺序存储和链式存储方法，大大减少了这种不必要的浪费</p>
<ol>
<li>所谓邻接表，是指对图G中每一个顶点<span class="arithmatex">\(v_i\)</span>建立一个单链表，第 i 个单链表的结点表示依附于结点<span class="arithmatex">\(v_i\)</span>的边</li>
</ol>
<p><code>对于有向图，则是以顶点$v_i$为头的弧</code>，这个单链表就成为顶点<span class="arithmatex">\(v_i\)</span>的边表。</p>
<ol start="2">
<li>边表的头指针和顶点的数据信息采用顺序存储，所以在邻接表中存在两种节点：顶点表结点和边表结点</li>
</ol>
<p><img alt="image-20231115193752056" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205660.png" /></p>
<p>顶点表结点由顶点域(data)和指向第一条邻接边的指针(firstarc) 构成，边表(邻接表)结点由邻接点域(adjvex)和指向下一条邻接边的指针域(nextarc) 构成。</p>
<blockquote>
<p><code>顶点先指向边表</code>，<strong>边表向后依次连接</strong></p>
</blockquote>
<p>无向图的邻接表实例如下：</p>
<p><img alt="image-20231115193925627" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205809.png" /></p>
<p>有向图的邻接表实例如下：</p>
<p>1与2和5连接，2和5没有先后顺序之分</p>
<p><img alt="image-20231115194101711" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205307.png" /></p>
<p>对于有权图，可以在边表结点的定义中增加一个weight的数据域，存储权值信息。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="cp">#define MAXVEX 10               </span><span class="c1">//图中顶点数目的最大值</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span><span class="w">        </span><span class="c1">//顶点类型应由用户定义</span>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">WeightType</span><span class="p">;</span><span class="w">         </span><span class="c1">//边上的权值类型应由用户定义</span>
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Vertex</span><span class="p">;</span><span class="w">             </span><span class="c1">//用于存储下标的类型</span>
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="cm">/* vertices are numbered from 1 to MaxVertexNum */</span>
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>
<a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a><span class="cm">/*边表结点*/</span>
<a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="p">{</span>
<a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">adjvex</span><span class="p">;</span><span class="w">                 </span><span class="c1">//该弧所指向的顶点的下标或者位置</span>
<a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a><span class="w">    </span><span class="n">WeightType</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span><span class="w">          </span><span class="c1">//权值，对于非网图可以不需要</span>
<a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="w"> </span><span class="o">*</span><span class="n">next</span><span class="p">;</span><span class="w">      </span><span class="c1">//指向下一个邻接点</span>
<a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a><span class="p">}</span><span class="n">AdjVNode</span><span class="p">;</span>
<a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="w"> </span><span class="o">*</span><span class="n">PtrToAdjVNode</span><span class="p">;</span>
<a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a>
<a id="__codelineno-54-15" name="__codelineno-54-15" href="#__codelineno-54-15"></a><span class="cm">/*顶点表结点*/</span>
<a id="__codelineno-54-16" name="__codelineno-54-16" href="#__codelineno-54-16"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">VertexNode</span><span class="p">{</span>
<a id="__codelineno-54-17" name="__codelineno-54-17" href="#__codelineno-54-17"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w">            </span><span class="c1">//顶点域，存储顶点信息</span>
<a id="__codelineno-54-18" name="__codelineno-54-18" href="#__codelineno-54-18"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">FirstEdge</span><span class="p">;</span><span class="w">    </span><span class="c1">//边表头指针</span>
<a id="__codelineno-54-19" name="__codelineno-54-19" href="#__codelineno-54-19"></a><span class="p">}</span><span class="n">AdjList</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span>
<a id="__codelineno-54-20" name="__codelineno-54-20" href="#__codelineno-54-20"></a>
<a id="__codelineno-54-21" name="__codelineno-54-21" href="#__codelineno-54-21"></a><span class="cm">/*邻接表*/</span>
<a id="__codelineno-54-22" name="__codelineno-54-22" href="#__codelineno-54-22"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="p">{</span>
<a id="__codelineno-54-23" name="__codelineno-54-23" href="#__codelineno-54-23"></a><span class="w">    </span><span class="n">AdjList</span><span class="w"> </span><span class="n">adjList</span><span class="p">;</span>
<a id="__codelineno-54-24" name="__codelineno-54-24" href="#__codelineno-54-24"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Vertexnum</span><span class="p">;</span>
<a id="__codelineno-54-25" name="__codelineno-54-25" href="#__codelineno-54-25"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Edgenum</span><span class="p">;</span><span class="w">                </span><span class="c1">//图中当前顶点数和边数</span>
<a id="__codelineno-54-26" name="__codelineno-54-26" href="#__codelineno-54-26"></a><span class="p">}</span><span class="n">GNode</span><span class="p">;</span>
<a id="__codelineno-54-27" name="__codelineno-54-27" href="#__codelineno-54-27"></a><span class="k">typedef</span><span class="w">  </span><span class="n">GNode</span><span class="w"> </span><span class="o">*</span><span class="n">PtrToGNode</span><span class="p">;</span>
<a id="__codelineno-54-28" name="__codelineno-54-28" href="#__codelineno-54-28"></a><span class="k">typedef</span><span class="w"> </span><span class="n">PtrToGNode</span><span class="w"> </span><span class="n">LGraph</span><span class="p">;</span><span class="w">      </span><span class="c1">//以邻接表方式存储的图类型</span>
<a id="__codelineno-54-29" name="__codelineno-54-29" href="#__codelineno-54-29"></a>
<a id="__codelineno-54-30" name="__codelineno-54-30" href="#__codelineno-54-30"></a><span class="n">LGraph</span><span class="w"> </span><span class="nf">ReadG</span><span class="p">()</span>
<a id="__codelineno-54-31" name="__codelineno-54-31" href="#__codelineno-54-31"></a><span class="p">{</span>
<a id="__codelineno-54-32" name="__codelineno-54-32" href="#__codelineno-54-32"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-54-33" name="__codelineno-54-33" href="#__codelineno-54-33"></a><span class="w">    </span><span class="c1">// 创建一个图表</span>
<a id="__codelineno-54-34" name="__codelineno-54-34" href="#__codelineno-54-34"></a><span class="w">    </span><span class="n">LGraph</span><span class="w"> </span><span class="n">LG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">LGraph</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">GNode</span><span class="p">));</span>
<a id="__codelineno-54-35" name="__codelineno-54-35" href="#__codelineno-54-35"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-54-36" name="__codelineno-54-36" href="#__codelineno-54-36"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-54-37" name="__codelineno-54-37" href="#__codelineno-54-37"></a><span class="w">        </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjlist</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w">    </span><span class="c1">// 将边表置为空表</span>
<a id="__codelineno-54-38" name="__codelineno-54-38" href="#__codelineno-54-38"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-54-39" name="__codelineno-54-39" href="#__codelineno-54-39"></a><span class="w">    </span><span class="c1">// 输出图的顶点数和边数</span>
<a id="__codelineno-54-40" name="__codelineno-54-40" href="#__codelineno-54-40"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">);</span>
<a id="__codelineno-54-41" name="__codelineno-54-41" href="#__codelineno-54-41"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-54-42" name="__codelineno-54-42" href="#__codelineno-54-42"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-54-43" name="__codelineno-54-43" href="#__codelineno-54-43"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<a id="__codelineno-54-44" name="__codelineno-54-44" href="#__codelineno-54-44"></a><span class="w">        </span><span class="c1">// 一次输入每一条边的两个顶点</span>
<a id="__codelineno-54-45" name="__codelineno-54-45" href="#__codelineno-54-45"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v2</span><span class="p">);</span>
<a id="__codelineno-54-46" name="__codelineno-54-46" href="#__codelineno-54-46"></a><span class="w">        </span><span class="c1">// 开始创建AdjVNode</span>
<a id="__codelineno-54-47" name="__codelineno-54-47" href="#__codelineno-54-47"></a><span class="w">        </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">adj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PtrToAdjVNode</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">AdjVNode</span><span class="p">));</span>
<a id="__codelineno-54-48" name="__codelineno-54-48" href="#__codelineno-54-48"></a><span class="w">        </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span><span class="w">       </span><span class="c1">// 邻接序号为v2,该边所指向的顶点</span>
<a id="__codelineno-54-49" name="__codelineno-54-49" href="#__codelineno-54-49"></a><span class="w">        </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-54-50" name="__codelineno-54-50" href="#__codelineno-54-50"></a><span class="w">        </span><span class="c1">// FirstEdge是顶点指向的第一个点，如果为空，就用adj进行替代</span>
<a id="__codelineno-54-51" name="__codelineno-54-51" href="#__codelineno-54-51"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjlist</span><span class="p">[</span><span class="n">v1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-54-52" name="__codelineno-54-52" href="#__codelineno-54-52"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-54-53" name="__codelineno-54-53" href="#__codelineno-54-53"></a><span class="w">            </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjlist</span><span class="p">[</span><span class="n">v1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span>
<a id="__codelineno-54-54" name="__codelineno-54-54" href="#__codelineno-54-54"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-54-55" name="__codelineno-54-55" href="#__codelineno-54-55"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-54-56" name="__codelineno-54-56" href="#__codelineno-54-56"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-54-57" name="__codelineno-54-57" href="#__codelineno-54-57"></a><span class="w">            </span><span class="c1">// 此处为在末尾添加结点，当然也可以采用头插法</span>
<a id="__codelineno-54-58" name="__codelineno-54-58" href="#__codelineno-54-58"></a><span class="w">            </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjlist</span><span class="p">[</span><span class="n">v1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-54-59" name="__codelineno-54-59" href="#__codelineno-54-59"></a><span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-54-60" name="__codelineno-54-60" href="#__codelineno-54-60"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-54-61" name="__codelineno-54-61" href="#__codelineno-54-61"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-54-62" name="__codelineno-54-62" href="#__codelineno-54-62"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-54-63" name="__codelineno-54-63" href="#__codelineno-54-63"></a><span class="w">            </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span>
<a id="__codelineno-54-64" name="__codelineno-54-64" href="#__codelineno-54-64"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-54-65" name="__codelineno-54-65" href="#__codelineno-54-65"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-54-66" name="__codelineno-54-66" href="#__codelineno-54-66"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">LG</span><span class="p">;</span>
<a id="__codelineno-54-67" name="__codelineno-54-67" href="#__codelineno-54-67"></a><span class="p">}</span>
</code></pre></div>
<p>图的邻接表存储方法具有以下的特点：</p>
<ol>
<li>若G为无向图，则所需的存储空间为<span class="arithmatex">\(<span class="arithmatex">\(O(|V|+2|E|)\)</span>\)</span>,对于顶点表需要<span class="arithmatex">\(<span class="arithmatex">\(|V|\)</span>\)</span>，对于邻接表需要<span class="arithmatex">\(O(|V|+2|E|)\)</span></li>
</ol>
<p><strong>前者的倍数2是由于无向图中,每条边在邻接表中出现了两次</strong></p>
<ol start="2">
<li>
<p>对于稀疏图，采用邻接表可以极大地节省存储空间</p>
</li>
<li>
<p>在邻接表中，给定一个顶点，只需要读取它地邻接表，就能找到它的所有邻边。在邻接矩阵中，相同的操作则需要扫描一行，花费的时间为O ( n )。但是，<strong>若要确定给定的两个顶点间是否存在边，则在邻接矩阵中可以立刻查到</strong>，而在邻接表中则需要在相应结点对应的边表中查找另一结点，效率较低。</p>
</li>
<li>
<p>在有向图的邻接表表示中，<strong>求一个给定顶点的出度，只需计算它在邻接表中的结点数</strong>。<code>但求结点的入度，需要遍历全部的邻接表，因此后面引入逆邻接表的存储方式来加速求解给定顶点的入度。</code></p>
</li>
<li>
<p><strong>图的邻接表表示并不唯一</strong>，因为在每个顶点对应的单链表中，各边结点的链接次序可以是任意的，它取决于建立邻接表的算法及边的输入次序。</p>
</li>
</ol>
<h3 id="823">8.2.3 十字链表<a class="headerlink" href="#823" title="Permanent link">&para;</a></h3>
<ol>
<li>十字链表是<strong>有向图</strong>的一种链式存储结构</li>
</ol>
<p>对于有向图来说，邻接表是有缺陷的，因为无法快速计算入度，需要遍历一整个图。</p>
<p><code>但是逆邻接表能够解决入度问题，但是无法解决出度。</code><strong>所以我们将邻接表和逆邻接表结合在一起，得到十字链表</strong></p>
<ol start="2">
<li>我们重新定义顶点表结点结构：</li>
</ol>
<p><img alt="image-20231117151701081" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205317.png" /></p>
<p>其中<span class="arithmatex">\(firstin\)</span>表示入边表头指针，指向该顶点的入边表的第一个结点，<span class="arithmatex">\(firstout\)</span>表示出边表头指针，指向该顶点的出边表中的第一个结点。</p>
<ol start="3">
<li>重新定义的边表结点结构如下表所示：</li>
</ol>
<p><img alt="image-20231117151907650" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205303.png" /></p>
<p><strong>tailvex 是指边起点在顶点表的下标</strong>，<strong>taillink是指边表指针域，指向起点相同的下一条边</strong>。</p>
<p><strong>headvex 是指弧终点在顶点表中的下标，headlink是指入边表指针域，指向终点相同的下一条边</strong></p>
<p>如果有需求，可以添加weight</p>
<ol start="4">
<li>例子：</li>
</ol>
<p>顶点存入一个一维数组{<span class="arithmatex">\(V_0,V_1,V_2,V_3\)</span>},实线箭头指针的图示与邻接表相同，也就是指向出边表。</p>
<p>以顶点<span class="arithmatex">\(V_0\)</span>为例，fisetout指向的是出边表的第一个结点<span class="arithmatex">\(V_3\)</span>,所以<span class="arithmatex">\(V_0\)</span>边表的headvex = 3，tailvex 也就是当前顶点<span class="arithmatex">\(V_0\)</span>的下标0，由于<span class="arithmatex">\(V_0\)</span>只有一个出边顶点，所以headlink和taillink都是空</p>
<p><img alt="image-20231117154205510" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205798.png" /></p>
<p><code>以下重点介绍虚线箭头的含义：也就是此图的逆邻接表的表示。对于V0而言，它有顶点V1和V2的入边。因此V0的firstin指向顶点V1的边表结点中headvex = 0的结点，也就是上图中的序号1。接着由入边结点的headlink指向下一个入边顶点V2，也就是序号2。</code></p>
<p>对于顶点V1而言，它有一个入边顶点V2，所以它的firstin指向V2的边表结点中headvex = 1的结点，也就是序号3.</p>
<p>顶点V2和V3，也是同样有一个入边顶点，见图中的序号4.5</p>
<p>十字链表的好处就是因为把邻接表和逆邻接表整合在了一起， 这样既容易找到以V1为尾的弧，也容易找到以V1 为头的弧，因而容易求得顶点的出度和入度。而且它除了结构复杂一点外，其实创建图算法的时间复杂度是和邻接表相同的，因此，在有向图的应用中，十字链表是非常好的数据结构模型。</p>
<h3 id="824">8.2.4 邻接多重表<a class="headerlink" href="#824" title="Permanent link">&para;</a></h3>
<p>重新定义的边表结点结构为：</p>
<p><img alt="image-20231117155444895" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205589.png" /></p>
<p><strong>其中ivex和jvex是与某条边依附的两个顶点在顶点表中下标。ilink 指向依附顶点ivex的下一条边，jlink 指向依附顶点jvex的下一条边。这就是邻接多重表结构。</strong></p>
<p>每个顶点也用一一个结点表示，它由如下所示的两个域组成<img alt="image-20231117155525286" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205673.png" /></p>
<p>其中，data 域存储该顶点的相关信息，firstedge 域指示第一条依附于该顶点的边</p>
<p><img alt="image-20231117155546959" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205707.png" /></p>
<p>我们开始连线，如图，首先连线的①②③④就是将顶点的firstedge指向一条边，顶点下标要与ivex的值相同,这很好理解。</p>
<p>接着，由于顶点V0的（V0，V1）的临边由（V0,V3),(V0,V2),因此序号5，6的连线就是满足指向下一条依附于顶点V0的边，<strong>注意ilink指向的结点的jvex一定要和它本身的ivex的值相同</strong>。</p>
<p>连线7，就是（V1，V0）这条边，它是相当于顶点V1指向（V1，V2）边后的下一条。V2有三条边依附，所以在③之后就有了⑧⑨。连线④的就是顶点V3在连线④之后的下一条边。 左图一共有5条边，所以右图有10条连线，完全符合预期</p>
<h2 id="83">8.3 拓扑排序<a class="headerlink" href="#83" title="Permanent link">&para;</a></h2>
<h3 id="831">8.3.1 定义<a class="headerlink" href="#831" title="Permanent link">&para;</a></h3>
<p><strong>在一个表示工程的有向图中，用顶点表示活动，用弧表示活动之间的优先关系，这样的有向图为顶点表示活动的网，我们称为AOV网( Activity On VertexNetwork)。</strong></p>
<p>若用DAG图（<strong>有向无环图</strong>）表示一个工程，其顶点表示活动，用有向边<Vi，Vj>表示活动Vi必须优先于活动Vj。</p>
<p>设<span class="arithmatex">\(G = (V,E)\)</span>,是一个具有n个顶点，V中的顶点序列为<span class="arithmatex">\(V_1,V_2,\cdots,V_n\)</span>,满足若从顶点<span class="arithmatex">\(V_1\)</span>到<span class="arithmatex">\(V_j\)</span>有一条路径，则顶点序列中顶点<span class="arithmatex">\(V_i\)</span>必须在<span class="arithmatex">\(V_j\)</span>之前，称之为拓扑排序。</p>
<blockquote>
<p><strong>如果图不是有向无环图（DAG），则无法进行拓扑排序。原因是找不到一个入度为0（环）的点。</strong></p>
</blockquote>
<h3 id="832">8.3.2 算法<a class="headerlink" href="#832" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>从AOV网中选择一个没有前驱的顶点并输出。</p>
</li>
<li>
<p>从网中删除该顶点和所有以它为起点的有向边</p>
</li>
<li>重复①和②直到当前的AOV网为空或当前网中不存在无前驱的顶点为止。如果输出顶点数少了，哪怕是少了一个，也说明这个网存在环(回路)，不是AOV网。</li>
</ol>
<p><img alt="image-20231117164224696" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205902.png" /></p>
<blockquote>
<p><strong>由于输出每个顶点的同时还要删除以它为起点的边，故拓扑排序的时间复杂度为<span class="arithmatex">\(O(V+E)\)</span></strong></p>
<p>若一个顶点有多个直接后继，则<strong>拓扑排序的结果通常不唯一；</strong>但若各个顶点已经排在一个线性有序的序列中，每个顶点有唯一的前驱后继关系，则拓扑排序的结果是唯一的。</p>
</blockquote>
<p>关于topsort的算法，但都有局限性，只能输出一种拓扑排序！！！</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Topsort</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="p">{</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">indegree</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span><span class="w"> </span><span class="c1">// 用于存储每个结点的入度</span>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="mi">1000</span><span class="p">];</span><span class="w">          </span><span class="c1">// 用于存储结点是否输出过的数组</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a><span class="w">        </span><span class="n">indegree</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 初始化为0</span>
<a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="w">        </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">        </span><span class="c1">// 初始化为0，表示结点没有输出过</span>
<a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a><span class="w">    </span><span class="c1">// 遍历整个邻接表，计算每个结点的入度</span>
<a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-55-15" name="__codelineno-55-15" href="#__codelineno-55-15"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-55-16" name="__codelineno-55-16" href="#__codelineno-55-16"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-55-17" name="__codelineno-55-17" href="#__codelineno-55-17"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-55-18" name="__codelineno-55-18" href="#__codelineno-55-18"></a><span class="w">            </span><span class="c1">// ajdvex是指向的结点的下标,对应的就是入度</span>
<a id="__codelineno-55-19" name="__codelineno-55-19" href="#__codelineno-55-19"></a><span class="w">            </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-55-20" name="__codelineno-55-20" href="#__codelineno-55-20"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-55-21" name="__codelineno-55-21" href="#__codelineno-55-21"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-55-22" name="__codelineno-55-22" href="#__codelineno-55-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-23" name="__codelineno-55-23" href="#__codelineno-55-23"></a><span class="w">    </span><span class="c1">// 外层循环作用是输出全部的点</span>
<a id="__codelineno-55-24" name="__codelineno-55-24" href="#__codelineno-55-24"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-55-25" name="__codelineno-55-25" href="#__codelineno-55-25"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-55-26" name="__codelineno-55-26" href="#__codelineno-55-26"></a><span class="w">        </span><span class="c1">// 内层循环的作用是找到入度为0的第一个点</span>
<a id="__codelineno-55-27" name="__codelineno-55-27" href="#__codelineno-55-27"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-55-28" name="__codelineno-55-28" href="#__codelineno-55-28"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-55-29" name="__codelineno-55-29" href="#__codelineno-55-29"></a><span class="w">            </span><span class="c1">// 如果其入度为0（意味着没有进入的边）并且之前没有输出过，那么就输出该顶点</span>
<a id="__codelineno-55-30" name="__codelineno-55-30" href="#__codelineno-55-30"></a><span class="w">            </span><span class="c1">// 在图中，肯定存在一个点的入度为0，否则图就有环的存在（每一个点都有入度）</span>
<a id="__codelineno-55-31" name="__codelineno-55-31" href="#__codelineno-55-31"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">indegree</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-55-32" name="__codelineno-55-32" href="#__codelineno-55-32"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-55-33" name="__codelineno-55-33" href="#__codelineno-55-33"></a><span class="w">                </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-55-34" name="__codelineno-55-34" href="#__codelineno-55-34"></a><span class="w">                </span><span class="c1">// 标记它已经输出</span>
<a id="__codelineno-55-35" name="__codelineno-55-35" href="#__codelineno-55-35"></a><span class="w">                </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-55-36" name="__codelineno-55-36" href="#__codelineno-55-36"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-55-37" name="__codelineno-55-37" href="#__codelineno-55-37"></a><span class="w">                </span><span class="c1">// 将该结点指向的结点的入度减一</span>
<a id="__codelineno-55-38" name="__codelineno-55-38" href="#__codelineno-55-38"></a><span class="w">                </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-55-39" name="__codelineno-55-39" href="#__codelineno-55-39"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-55-40" name="__codelineno-55-40" href="#__codelineno-55-40"></a><span class="w">                    </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-55-41" name="__codelineno-55-41" href="#__codelineno-55-41"></a><span class="w">                    </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-55-42" name="__codelineno-55-42" href="#__codelineno-55-42"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-55-43" name="__codelineno-55-43" href="#__codelineno-55-43"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-55-44" name="__codelineno-55-44" href="#__codelineno-55-44"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-55-45" name="__codelineno-55-45" href="#__codelineno-55-45"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-46" name="__codelineno-55-46" href="#__codelineno-55-46"></a><span class="p">}</span>
<a id="__codelineno-55-47" name="__codelineno-55-47" href="#__codelineno-55-47"></a><span class="c1">// 用队列实现拓扑排序</span>
<a id="__codelineno-55-48" name="__codelineno-55-48" href="#__codelineno-55-48"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Topsort1</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-55-49" name="__codelineno-55-49" href="#__codelineno-55-49"></a><span class="p">{</span>
<a id="__codelineno-55-50" name="__codelineno-55-50" href="#__codelineno-55-50"></a><span class="w">    </span><span class="c1">// 用一个队列表示可供输出的点</span>
<a id="__codelineno-55-51" name="__codelineno-55-51" href="#__codelineno-55-51"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Queue</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span>
<a id="__codelineno-55-52" name="__codelineno-55-52" href="#__codelineno-55-52"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-55-53" name="__codelineno-55-53" href="#__codelineno-55-53"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-55-54" name="__codelineno-55-54" href="#__codelineno-55-54"></a><span class="w">    </span><span class="c1">// 初始化</span>
<a id="__codelineno-55-55" name="__codelineno-55-55" href="#__codelineno-55-55"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-55-56" name="__codelineno-55-56" href="#__codelineno-55-56"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-55-57" name="__codelineno-55-57" href="#__codelineno-55-57"></a><span class="w">        </span><span class="n">Queue</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-55-58" name="__codelineno-55-58" href="#__codelineno-55-58"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-59" name="__codelineno-55-59" href="#__codelineno-55-59"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">indegree</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span><span class="w"> </span><span class="c1">// 用于存储每个结点的入度</span>
<a id="__codelineno-55-60" name="__codelineno-55-60" href="#__codelineno-55-60"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-55-61" name="__codelineno-55-61" href="#__codelineno-55-61"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-55-62" name="__codelineno-55-62" href="#__codelineno-55-62"></a><span class="w">        </span><span class="n">indegree</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 初始化为0</span>
<a id="__codelineno-55-63" name="__codelineno-55-63" href="#__codelineno-55-63"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-64" name="__codelineno-55-64" href="#__codelineno-55-64"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-55-65" name="__codelineno-55-65" href="#__codelineno-55-65"></a><span class="w">    </span><span class="c1">// 遍历整个邻接表，计算每个结点的入度</span>
<a id="__codelineno-55-66" name="__codelineno-55-66" href="#__codelineno-55-66"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-55-67" name="__codelineno-55-67" href="#__codelineno-55-67"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-55-68" name="__codelineno-55-68" href="#__codelineno-55-68"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-55-69" name="__codelineno-55-69" href="#__codelineno-55-69"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-55-70" name="__codelineno-55-70" href="#__codelineno-55-70"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-55-71" name="__codelineno-55-71" href="#__codelineno-55-71"></a><span class="w">            </span><span class="c1">// ajdvex是指向的结点的下标</span>
<a id="__codelineno-55-72" name="__codelineno-55-72" href="#__codelineno-55-72"></a><span class="w">            </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-55-73" name="__codelineno-55-73" href="#__codelineno-55-73"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-55-74" name="__codelineno-55-74" href="#__codelineno-55-74"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-55-75" name="__codelineno-55-75" href="#__codelineno-55-75"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-76" name="__codelineno-55-76" href="#__codelineno-55-76"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-55-77" name="__codelineno-55-77" href="#__codelineno-55-77"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-55-78" name="__codelineno-55-78" href="#__codelineno-55-78"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">indegree</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-55-79" name="__codelineno-55-79" href="#__codelineno-55-79"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-55-80" name="__codelineno-55-80" href="#__codelineno-55-80"></a><span class="w">            </span><span class="n">Queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-55-81" name="__codelineno-55-81" href="#__codelineno-55-81"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-55-82" name="__codelineno-55-82" href="#__codelineno-55-82"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-83" name="__codelineno-55-83" href="#__codelineno-55-83"></a><span class="w">    </span><span class="c1">// 在while循环之前，要先找到一个入度为0的点，先进入队列</span>
<a id="__codelineno-55-84" name="__codelineno-55-84" href="#__codelineno-55-84"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">front</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">rear</span><span class="p">)</span>
<a id="__codelineno-55-85" name="__codelineno-55-85" href="#__codelineno-55-85"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-55-86" name="__codelineno-55-86" href="#__codelineno-55-86"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Queue</span><span class="p">[</span><span class="n">front</span><span class="o">++</span><span class="p">];</span>
<a id="__codelineno-55-87" name="__codelineno-55-87" href="#__codelineno-55-87"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-55-88" name="__codelineno-55-88" href="#__codelineno-55-88"></a><span class="w">        </span><span class="n">cnt</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-55-89" name="__codelineno-55-89" href="#__codelineno-55-89"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-55-90" name="__codelineno-55-90" href="#__codelineno-55-90"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-55-91" name="__codelineno-55-91" href="#__codelineno-55-91"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-55-92" name="__codelineno-55-92" href="#__codelineno-55-92"></a><span class="w">            </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-55-93" name="__codelineno-55-93" href="#__codelineno-55-93"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-55-94" name="__codelineno-55-94" href="#__codelineno-55-94"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-55-95" name="__codelineno-55-95" href="#__codelineno-55-95"></a><span class="w">                </span><span class="n">Queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">;</span>
<a id="__codelineno-55-96" name="__codelineno-55-96" href="#__codelineno-55-96"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-55-97" name="__codelineno-55-97" href="#__codelineno-55-97"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-55-98" name="__codelineno-55-98" href="#__codelineno-55-98"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-55-99" name="__codelineno-55-99" href="#__codelineno-55-99"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-100" name="__codelineno-55-100" href="#__codelineno-55-100"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">cnt</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">)</span>
<a id="__codelineno-55-101" name="__codelineno-55-101" href="#__codelineno-55-101"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-55-102" name="__codelineno-55-102" href="#__codelineno-55-102"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ERROR! Graph has a cycle!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-55-103" name="__codelineno-55-103" href="#__codelineno-55-103"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-104" name="__codelineno-55-104" href="#__codelineno-55-104"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">IsTopSeq</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">Graph</span><span class="p">,</span><span class="w"> </span><span class="n">Vertex</span><span class="w"> </span><span class="n">Seq</span><span class="p">[])</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="p">{</span>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">indegree</span><span class="p">[</span><span class="n">MaxVertexNum</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w"> </span><span class="c1">// 用于存储每个结点的入度</span>
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">    </span><span class="c1">// 计算给定图的每一个点的入度</span>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Graph</span><span class="o">-&gt;</span><span class="n">Nv</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Graph</span><span class="o">-&gt;</span><span class="n">G</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="w">            </span><span class="c1">// ajdvex是指向的结点的下标</span>
<a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="w">            </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">AdjV</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">;</span>
<a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-56-16" name="__codelineno-56-16" href="#__codelineno-56-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-56-17" name="__codelineno-56-17" href="#__codelineno-56-17"></a><span class="w">    </span><span class="c1">// 对输入的点一个一个遍历过去，要求每一次，该点的入度为0，不为0直接，return fabreak</span>
<a id="__codelineno-56-18" name="__codelineno-56-18" href="#__codelineno-56-18"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Graph</span><span class="o">-&gt;</span><span class="n">Nv</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-56-19" name="__codelineno-56-19" href="#__codelineno-56-19"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-56-20" name="__codelineno-56-20" href="#__codelineno-56-20"></a><span class="w">        </span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-56-21" name="__codelineno-56-21" href="#__codelineno-56-21"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">indegree</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-56-22" name="__codelineno-56-22" href="#__codelineno-56-22"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-56-23" name="__codelineno-56-23" href="#__codelineno-56-23"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-56-24" name="__codelineno-56-24" href="#__codelineno-56-24"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-56-25" name="__codelineno-56-25" href="#__codelineno-56-25"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Graph</span><span class="o">-&gt;</span><span class="n">G</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-56-26" name="__codelineno-56-26" href="#__codelineno-56-26"></a><span class="w">        </span><span class="c1">// 将该结点指向的结点的入度减一</span>
<a id="__codelineno-56-27" name="__codelineno-56-27" href="#__codelineno-56-27"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-56-28" name="__codelineno-56-28" href="#__codelineno-56-28"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-56-29" name="__codelineno-56-29" href="#__codelineno-56-29"></a><span class="w">            </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">AdjV</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-56-30" name="__codelineno-56-30" href="#__codelineno-56-30"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">;</span>
<a id="__codelineno-56-31" name="__codelineno-56-31" href="#__codelineno-56-31"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-56-32" name="__codelineno-56-32" href="#__codelineno-56-32"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-56-33" name="__codelineno-56-33" href="#__codelineno-56-33"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<a id="__codelineno-56-34" name="__codelineno-56-34" href="#__codelineno-56-34"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a>
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="cp">#define MAXVEX 10        </span><span class="c1">// 图中顶点数目的最大值</span>
<a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点类型应由用户定义</span>
<a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">WeightType</span><span class="p">;</span><span class="w">  </span><span class="c1">// 边上的权值类型应由用户定义</span>
<a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Vertex</span><span class="p">;</span><span class="w">      </span><span class="c1">// 用于存储下标的类型</span>
<a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a><span class="cm">/* vertices are numbered from 1 to MaxVertexNum */</span>
<a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a>
<a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a><span class="cm">/*边表结点*/</span>
<a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span>
<a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a><span class="p">{</span>
<a id="__codelineno-57-14" name="__codelineno-57-14" href="#__codelineno-57-14"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">adjvex</span><span class="p">;</span><span class="w">            </span><span class="c1">// 该弧所指向的顶点的下标或者位置</span>
<a id="__codelineno-57-15" name="__codelineno-57-15" href="#__codelineno-57-15"></a><span class="w">    </span><span class="n">WeightType</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span><span class="w">     </span><span class="c1">// 权值，对于非网图可以不需要</span>
<a id="__codelineno-57-16" name="__codelineno-57-16" href="#__codelineno-57-16"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="w"> </span><span class="o">*</span><span class="n">next</span><span class="p">;</span><span class="w"> </span><span class="c1">// 指向下一个邻接点</span>
<a id="__codelineno-57-17" name="__codelineno-57-17" href="#__codelineno-57-17"></a><span class="p">}</span><span class="w"> </span><span class="n">AdjVNode</span><span class="p">;</span>
<a id="__codelineno-57-18" name="__codelineno-57-18" href="#__codelineno-57-18"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="w"> </span><span class="o">*</span><span class="n">PtrToAdjVNode</span><span class="p">;</span>
<a id="__codelineno-57-19" name="__codelineno-57-19" href="#__codelineno-57-19"></a>
<a id="__codelineno-57-20" name="__codelineno-57-20" href="#__codelineno-57-20"></a><span class="cm">/*顶点表结点*/</span>
<a id="__codelineno-57-21" name="__codelineno-57-21" href="#__codelineno-57-21"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">VertexNode</span>
<a id="__codelineno-57-22" name="__codelineno-57-22" href="#__codelineno-57-22"></a><span class="p">{</span>
<a id="__codelineno-57-23" name="__codelineno-57-23" href="#__codelineno-57-23"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w">         </span><span class="c1">// 顶点域，存储顶点信息</span>
<a id="__codelineno-57-24" name="__codelineno-57-24" href="#__codelineno-57-24"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">FirstEdge</span><span class="p">;</span><span class="w"> </span><span class="c1">// 边表头指针</span>
<a id="__codelineno-57-25" name="__codelineno-57-25" href="#__codelineno-57-25"></a><span class="p">}</span><span class="w"> </span><span class="n">AdjList</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span>
<a id="__codelineno-57-26" name="__codelineno-57-26" href="#__codelineno-57-26"></a>
<a id="__codelineno-57-27" name="__codelineno-57-27" href="#__codelineno-57-27"></a><span class="cm">/*邻接表*/</span>
<a id="__codelineno-57-28" name="__codelineno-57-28" href="#__codelineno-57-28"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<a id="__codelineno-57-29" name="__codelineno-57-29" href="#__codelineno-57-29"></a><span class="p">{</span>
<a id="__codelineno-57-30" name="__codelineno-57-30" href="#__codelineno-57-30"></a><span class="w">    </span><span class="n">AdjList</span><span class="w"> </span><span class="n">adjList</span><span class="p">;</span>
<a id="__codelineno-57-31" name="__codelineno-57-31" href="#__codelineno-57-31"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Vertexnum</span><span class="p">;</span>
<a id="__codelineno-57-32" name="__codelineno-57-32" href="#__codelineno-57-32"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="c1">// 图中当前顶点数和边数</span>
<a id="__codelineno-57-33" name="__codelineno-57-33" href="#__codelineno-57-33"></a><span class="p">}</span><span class="w"> </span><span class="n">GNode</span><span class="p">;</span>
<a id="__codelineno-57-34" name="__codelineno-57-34" href="#__codelineno-57-34"></a><span class="k">typedef</span><span class="w"> </span><span class="n">GNode</span><span class="w"> </span><span class="o">*</span><span class="n">PtrToGNode</span><span class="p">;</span>
<a id="__codelineno-57-35" name="__codelineno-57-35" href="#__codelineno-57-35"></a><span class="k">typedef</span><span class="w"> </span><span class="n">PtrToGNode</span><span class="w"> </span><span class="n">LGraph</span><span class="p">;</span><span class="w"> </span><span class="c1">// 以邻接表方式存储的图类型</span>
<a id="__codelineno-57-36" name="__codelineno-57-36" href="#__codelineno-57-36"></a>
<a id="__codelineno-57-37" name="__codelineno-57-37" href="#__codelineno-57-37"></a><span class="n">LGraph</span><span class="w"> </span><span class="nf">ReadG</span><span class="p">()</span>
<a id="__codelineno-57-38" name="__codelineno-57-38" href="#__codelineno-57-38"></a><span class="p">{</span>
<a id="__codelineno-57-39" name="__codelineno-57-39" href="#__codelineno-57-39"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-57-40" name="__codelineno-57-40" href="#__codelineno-57-40"></a><span class="w">    </span><span class="n">LGraph</span><span class="w"> </span><span class="n">LG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">LGraph</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">GNode</span><span class="p">));</span>
<a id="__codelineno-57-41" name="__codelineno-57-41" href="#__codelineno-57-41"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-42" name="__codelineno-57-42" href="#__codelineno-57-42"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-43" name="__codelineno-57-43" href="#__codelineno-57-43"></a><span class="w">        </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-57-44" name="__codelineno-57-44" href="#__codelineno-57-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-45" name="__codelineno-57-45" href="#__codelineno-57-45"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">);</span>
<a id="__codelineno-57-46" name="__codelineno-57-46" href="#__codelineno-57-46"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-47" name="__codelineno-57-47" href="#__codelineno-57-47"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-48" name="__codelineno-57-48" href="#__codelineno-57-48"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span>
<a id="__codelineno-57-49" name="__codelineno-57-49" href="#__codelineno-57-49"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p2</span><span class="p">);</span>
<a id="__codelineno-57-50" name="__codelineno-57-50" href="#__codelineno-57-50"></a><span class="w">        </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">adj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PtrToAdjVNode</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">AdjVNode</span><span class="p">));</span>
<a id="__codelineno-57-51" name="__codelineno-57-51" href="#__codelineno-57-51"></a><span class="w">        </span><span class="n">p1</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-57-52" name="__codelineno-57-52" href="#__codelineno-57-52"></a><span class="w">        </span><span class="n">p2</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-57-53" name="__codelineno-57-53" href="#__codelineno-57-53"></a><span class="w">        </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span>
<a id="__codelineno-57-54" name="__codelineno-57-54" href="#__codelineno-57-54"></a><span class="w">        </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-57-55" name="__codelineno-57-55" href="#__codelineno-57-55"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-57-56" name="__codelineno-57-56" href="#__codelineno-57-56"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-57" name="__codelineno-57-57" href="#__codelineno-57-57"></a><span class="w">            </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span>
<a id="__codelineno-57-58" name="__codelineno-57-58" href="#__codelineno-57-58"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-59" name="__codelineno-57-59" href="#__codelineno-57-59"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-57-60" name="__codelineno-57-60" href="#__codelineno-57-60"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-61" name="__codelineno-57-61" href="#__codelineno-57-61"></a><span class="w">            </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-57-62" name="__codelineno-57-62" href="#__codelineno-57-62"></a><span class="w">            </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span>
<a id="__codelineno-57-63" name="__codelineno-57-63" href="#__codelineno-57-63"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-64" name="__codelineno-57-64" href="#__codelineno-57-64"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-65" name="__codelineno-57-65" href="#__codelineno-57-65"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">LG</span><span class="p">;</span>
<a id="__codelineno-57-66" name="__codelineno-57-66" href="#__codelineno-57-66"></a><span class="p">}</span>
<a id="__codelineno-57-67" name="__codelineno-57-67" href="#__codelineno-57-67"></a><span class="kt">int</span><span class="w"> </span><span class="nf">IsTopSeq</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">Graph</span><span class="p">,</span><span class="w"> </span><span class="n">Vertex</span><span class="w"> </span><span class="n">Seq</span><span class="p">[])</span>
<a id="__codelineno-57-68" name="__codelineno-57-68" href="#__codelineno-57-68"></a><span class="p">{</span>
<a id="__codelineno-57-69" name="__codelineno-57-69" href="#__codelineno-57-69"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span><span class="w"> </span><span class="c1">// 用于存储结点是否输出过的数组</span>
<a id="__codelineno-57-70" name="__codelineno-57-70" href="#__codelineno-57-70"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-57-71" name="__codelineno-57-71" href="#__codelineno-57-71"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-72" name="__codelineno-57-72" href="#__codelineno-57-72"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-73" name="__codelineno-57-73" href="#__codelineno-57-73"></a><span class="w">        </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 初始化为0，表示结点没有输出过</span>
<a id="__codelineno-57-74" name="__codelineno-57-74" href="#__codelineno-57-74"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-75" name="__codelineno-57-75" href="#__codelineno-57-75"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-57-76" name="__codelineno-57-76" href="#__codelineno-57-76"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Graph</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-77" name="__codelineno-57-77" href="#__codelineno-57-77"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-78" name="__codelineno-57-78" href="#__codelineno-57-78"></a><span class="w">        </span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-57-79" name="__codelineno-57-79" href="#__codelineno-57-79"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Graph</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-80" name="__codelineno-57-80" href="#__codelineno-57-80"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-81" name="__codelineno-57-81" href="#__codelineno-57-81"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-57-82" name="__codelineno-57-82" href="#__codelineno-57-82"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-57-83" name="__codelineno-57-83" href="#__codelineno-57-83"></a><span class="w">                </span><span class="k">continue</span><span class="p">;</span>
<a id="__codelineno-57-84" name="__codelineno-57-84" href="#__codelineno-57-84"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-57-85" name="__codelineno-57-85" href="#__codelineno-57-85"></a><span class="w">            </span><span class="k">else</span>
<a id="__codelineno-57-86" name="__codelineno-57-86" href="#__codelineno-57-86"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-57-87" name="__codelineno-57-87" href="#__codelineno-57-87"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Graph</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-57-88" name="__codelineno-57-88" href="#__codelineno-57-88"></a><span class="w">                </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-57-89" name="__codelineno-57-89" href="#__codelineno-57-89"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-57-90" name="__codelineno-57-90" href="#__codelineno-57-90"></a><span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-57-91" name="__codelineno-57-91" href="#__codelineno-57-91"></a><span class="w">                    </span><span class="p">{</span>
<a id="__codelineno-57-92" name="__codelineno-57-92" href="#__codelineno-57-92"></a><span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-57-93" name="__codelineno-57-93" href="#__codelineno-57-93"></a><span class="w">                    </span><span class="p">}</span>
<a id="__codelineno-57-94" name="__codelineno-57-94" href="#__codelineno-57-94"></a><span class="w">                    </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-57-95" name="__codelineno-57-95" href="#__codelineno-57-95"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-57-96" name="__codelineno-57-96" href="#__codelineno-57-96"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-57-97" name="__codelineno-57-97" href="#__codelineno-57-97"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-98" name="__codelineno-57-98" href="#__codelineno-57-98"></a><span class="w">        </span><span class="n">a</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-57-99" name="__codelineno-57-99" href="#__codelineno-57-99"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-100" name="__codelineno-57-100" href="#__codelineno-57-100"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-57-101" name="__codelineno-57-101" href="#__codelineno-57-101"></a><span class="p">}</span>
<a id="__codelineno-57-102" name="__codelineno-57-102" href="#__codelineno-57-102"></a><span class="kt">int</span><span class="w"> </span><span class="nf">IsTopSort1</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">Vertex</span><span class="w"> </span><span class="n">Seq</span><span class="p">[])</span>
<a id="__codelineno-57-103" name="__codelineno-57-103" href="#__codelineno-57-103"></a><span class="p">{</span>
<a id="__codelineno-57-104" name="__codelineno-57-104" href="#__codelineno-57-104"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">indegree</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w"> </span><span class="c1">// 用于存储每个结点的入度</span>
<a id="__codelineno-57-105" name="__codelineno-57-105" href="#__codelineno-57-105"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-57-106" name="__codelineno-57-106" href="#__codelineno-57-106"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-57-107" name="__codelineno-57-107" href="#__codelineno-57-107"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-108" name="__codelineno-57-108" href="#__codelineno-57-108"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-109" name="__codelineno-57-109" href="#__codelineno-57-109"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-57-110" name="__codelineno-57-110" href="#__codelineno-57-110"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-57-111" name="__codelineno-57-111" href="#__codelineno-57-111"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-112" name="__codelineno-57-112" href="#__codelineno-57-112"></a><span class="w">            </span><span class="c1">// ajdvex是指向的结点的下标</span>
<a id="__codelineno-57-113" name="__codelineno-57-113" href="#__codelineno-57-113"></a><span class="w">            </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-57-114" name="__codelineno-57-114" href="#__codelineno-57-114"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-57-115" name="__codelineno-57-115" href="#__codelineno-57-115"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-116" name="__codelineno-57-116" href="#__codelineno-57-116"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-117" name="__codelineno-57-117" href="#__codelineno-57-117"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-118" name="__codelineno-57-118" href="#__codelineno-57-118"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-119" name="__codelineno-57-119" href="#__codelineno-57-119"></a><span class="w">        </span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-57-120" name="__codelineno-57-120" href="#__codelineno-57-120"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">indegree</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-57-121" name="__codelineno-57-121" href="#__codelineno-57-121"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-122" name="__codelineno-57-122" href="#__codelineno-57-122"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-57-123" name="__codelineno-57-123" href="#__codelineno-57-123"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-124" name="__codelineno-57-124" href="#__codelineno-57-124"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-57-125" name="__codelineno-57-125" href="#__codelineno-57-125"></a><span class="w">        </span><span class="c1">// 将该结点指向的结点的入度减一</span>
<a id="__codelineno-57-126" name="__codelineno-57-126" href="#__codelineno-57-126"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-57-127" name="__codelineno-57-127" href="#__codelineno-57-127"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-128" name="__codelineno-57-128" href="#__codelineno-57-128"></a><span class="w">            </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-57-129" name="__codelineno-57-129" href="#__codelineno-57-129"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-57-130" name="__codelineno-57-130" href="#__codelineno-57-130"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-131" name="__codelineno-57-131" href="#__codelineno-57-131"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-132" name="__codelineno-57-132" href="#__codelineno-57-132"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-57-133" name="__codelineno-57-133" href="#__codelineno-57-133"></a><span class="p">}</span>
<a id="__codelineno-57-134" name="__codelineno-57-134" href="#__codelineno-57-134"></a><span class="c1">// 输出所有的拓扑排序</span>
<a id="__codelineno-57-135" name="__codelineno-57-135" href="#__codelineno-57-135"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Topsort</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-57-136" name="__codelineno-57-136" href="#__codelineno-57-136"></a><span class="p">{</span>
<a id="__codelineno-57-137" name="__codelineno-57-137" href="#__codelineno-57-137"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-57-138" name="__codelineno-57-138" href="#__codelineno-57-138"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">indegree</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span><span class="w"> </span><span class="c1">// 用于存储每个结点的入度</span>
<a id="__codelineno-57-139" name="__codelineno-57-139" href="#__codelineno-57-139"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="mi">1000</span><span class="p">];</span><span class="w">          </span><span class="c1">// 用于存储结点是否输出过的数组</span>
<a id="__codelineno-57-140" name="__codelineno-57-140" href="#__codelineno-57-140"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-141" name="__codelineno-57-141" href="#__codelineno-57-141"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-142" name="__codelineno-57-142" href="#__codelineno-57-142"></a><span class="w">        </span><span class="n">indegree</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 初始化为0</span>
<a id="__codelineno-57-143" name="__codelineno-57-143" href="#__codelineno-57-143"></a><span class="w">        </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">        </span><span class="c1">// 初始化为0，表示结点没有输出过</span>
<a id="__codelineno-57-144" name="__codelineno-57-144" href="#__codelineno-57-144"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-145" name="__codelineno-57-145" href="#__codelineno-57-145"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-57-146" name="__codelineno-57-146" href="#__codelineno-57-146"></a><span class="w">    </span><span class="c1">// 遍历整个邻接表，计算每个结点的入度</span>
<a id="__codelineno-57-147" name="__codelineno-57-147" href="#__codelineno-57-147"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-148" name="__codelineno-57-148" href="#__codelineno-57-148"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-149" name="__codelineno-57-149" href="#__codelineno-57-149"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-57-150" name="__codelineno-57-150" href="#__codelineno-57-150"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-57-151" name="__codelineno-57-151" href="#__codelineno-57-151"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-152" name="__codelineno-57-152" href="#__codelineno-57-152"></a><span class="w">            </span><span class="c1">// ajdvex是指向的结点的下标</span>
<a id="__codelineno-57-153" name="__codelineno-57-153" href="#__codelineno-57-153"></a><span class="w">            </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-57-154" name="__codelineno-57-154" href="#__codelineno-57-154"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-57-155" name="__codelineno-57-155" href="#__codelineno-57-155"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-156" name="__codelineno-57-156" href="#__codelineno-57-156"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-157" name="__codelineno-57-157" href="#__codelineno-57-157"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-158" name="__codelineno-57-158" href="#__codelineno-57-158"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-159" name="__codelineno-57-159" href="#__codelineno-57-159"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-160" name="__codelineno-57-160" href="#__codelineno-57-160"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-161" name="__codelineno-57-161" href="#__codelineno-57-161"></a><span class="w">            </span><span class="c1">// 如果其入度为0（意味着没有进入的边）并且之前没有输出过，那么就输出该顶点</span>
<a id="__codelineno-57-162" name="__codelineno-57-162" href="#__codelineno-57-162"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">indegree</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-57-163" name="__codelineno-57-163" href="#__codelineno-57-163"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-57-164" name="__codelineno-57-164" href="#__codelineno-57-164"></a><span class="w">                </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-57-165" name="__codelineno-57-165" href="#__codelineno-57-165"></a><span class="w">                </span><span class="c1">// 标记它已经输出</span>
<a id="__codelineno-57-166" name="__codelineno-57-166" href="#__codelineno-57-166"></a><span class="w">                </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-57-167" name="__codelineno-57-167" href="#__codelineno-57-167"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-57-168" name="__codelineno-57-168" href="#__codelineno-57-168"></a><span class="w">                </span><span class="c1">// 将该结点指向的结点的入度减一</span>
<a id="__codelineno-57-169" name="__codelineno-57-169" href="#__codelineno-57-169"></a><span class="w">                </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-57-170" name="__codelineno-57-170" href="#__codelineno-57-170"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-57-171" name="__codelineno-57-171" href="#__codelineno-57-171"></a><span class="w">                    </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-57-172" name="__codelineno-57-172" href="#__codelineno-57-172"></a><span class="w">                    </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-57-173" name="__codelineno-57-173" href="#__codelineno-57-173"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-57-174" name="__codelineno-57-174" href="#__codelineno-57-174"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-57-175" name="__codelineno-57-175" href="#__codelineno-57-175"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-176" name="__codelineno-57-176" href="#__codelineno-57-176"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-177" name="__codelineno-57-177" href="#__codelineno-57-177"></a><span class="p">}</span>
<a id="__codelineno-57-178" name="__codelineno-57-178" href="#__codelineno-57-178"></a><span class="c1">// 用队列实现拓扑排序</span>
<a id="__codelineno-57-179" name="__codelineno-57-179" href="#__codelineno-57-179"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Topsort1</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-57-180" name="__codelineno-57-180" href="#__codelineno-57-180"></a><span class="p">{</span>
<a id="__codelineno-57-181" name="__codelineno-57-181" href="#__codelineno-57-181"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Queue</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span>
<a id="__codelineno-57-182" name="__codelineno-57-182" href="#__codelineno-57-182"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-57-183" name="__codelineno-57-183" href="#__codelineno-57-183"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-57-184" name="__codelineno-57-184" href="#__codelineno-57-184"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-185" name="__codelineno-57-185" href="#__codelineno-57-185"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-186" name="__codelineno-57-186" href="#__codelineno-57-186"></a><span class="w">        </span><span class="n">Queue</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-57-187" name="__codelineno-57-187" href="#__codelineno-57-187"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-188" name="__codelineno-57-188" href="#__codelineno-57-188"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">indegree</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span><span class="w"> </span><span class="c1">// 用于存储每个结点的入度</span>
<a id="__codelineno-57-189" name="__codelineno-57-189" href="#__codelineno-57-189"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-190" name="__codelineno-57-190" href="#__codelineno-57-190"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-191" name="__codelineno-57-191" href="#__codelineno-57-191"></a><span class="w">        </span><span class="n">indegree</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 初始化为0</span>
<a id="__codelineno-57-192" name="__codelineno-57-192" href="#__codelineno-57-192"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-193" name="__codelineno-57-193" href="#__codelineno-57-193"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-57-194" name="__codelineno-57-194" href="#__codelineno-57-194"></a><span class="w">    </span><span class="c1">// 遍历整个邻接表，计算每个结点的入度</span>
<a id="__codelineno-57-195" name="__codelineno-57-195" href="#__codelineno-57-195"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-196" name="__codelineno-57-196" href="#__codelineno-57-196"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-197" name="__codelineno-57-197" href="#__codelineno-57-197"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-57-198" name="__codelineno-57-198" href="#__codelineno-57-198"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-57-199" name="__codelineno-57-199" href="#__codelineno-57-199"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-200" name="__codelineno-57-200" href="#__codelineno-57-200"></a><span class="w">            </span><span class="c1">// ajdvex是指向的结点的下标</span>
<a id="__codelineno-57-201" name="__codelineno-57-201" href="#__codelineno-57-201"></a><span class="w">            </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-57-202" name="__codelineno-57-202" href="#__codelineno-57-202"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-57-203" name="__codelineno-57-203" href="#__codelineno-57-203"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-204" name="__codelineno-57-204" href="#__codelineno-57-204"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-205" name="__codelineno-57-205" href="#__codelineno-57-205"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-206" name="__codelineno-57-206" href="#__codelineno-57-206"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-207" name="__codelineno-57-207" href="#__codelineno-57-207"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">indegree</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-57-208" name="__codelineno-57-208" href="#__codelineno-57-208"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-209" name="__codelineno-57-209" href="#__codelineno-57-209"></a><span class="w">            </span><span class="n">Queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-57-210" name="__codelineno-57-210" href="#__codelineno-57-210"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-211" name="__codelineno-57-211" href="#__codelineno-57-211"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-212" name="__codelineno-57-212" href="#__codelineno-57-212"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">front</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">rear</span><span class="p">)</span>
<a id="__codelineno-57-213" name="__codelineno-57-213" href="#__codelineno-57-213"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-214" name="__codelineno-57-214" href="#__codelineno-57-214"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Queue</span><span class="p">[</span><span class="n">front</span><span class="o">++</span><span class="p">];</span>
<a id="__codelineno-57-215" name="__codelineno-57-215" href="#__codelineno-57-215"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-57-216" name="__codelineno-57-216" href="#__codelineno-57-216"></a><span class="w">        </span><span class="n">cnt</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-57-217" name="__codelineno-57-217" href="#__codelineno-57-217"></a><span class="w">        </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-57-218" name="__codelineno-57-218" href="#__codelineno-57-218"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-57-219" name="__codelineno-57-219" href="#__codelineno-57-219"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-220" name="__codelineno-57-220" href="#__codelineno-57-220"></a><span class="w">            </span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-57-221" name="__codelineno-57-221" href="#__codelineno-57-221"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">indegree</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-57-222" name="__codelineno-57-222" href="#__codelineno-57-222"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-57-223" name="__codelineno-57-223" href="#__codelineno-57-223"></a><span class="w">                </span><span class="n">Queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">;</span>
<a id="__codelineno-57-224" name="__codelineno-57-224" href="#__codelineno-57-224"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-57-225" name="__codelineno-57-225" href="#__codelineno-57-225"></a><span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-57-226" name="__codelineno-57-226" href="#__codelineno-57-226"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-227" name="__codelineno-57-227" href="#__codelineno-57-227"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-228" name="__codelineno-57-228" href="#__codelineno-57-228"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">cnt</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">)</span>
<a id="__codelineno-57-229" name="__codelineno-57-229" href="#__codelineno-57-229"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-230" name="__codelineno-57-230" href="#__codelineno-57-230"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ERROR! Graph has a cycle!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-57-231" name="__codelineno-57-231" href="#__codelineno-57-231"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-232" name="__codelineno-57-232" href="#__codelineno-57-232"></a><span class="p">}</span>
<a id="__codelineno-57-233" name="__codelineno-57-233" href="#__codelineno-57-233"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-57-234" name="__codelineno-57-234" href="#__codelineno-57-234"></a><span class="p">{</span>
<a id="__codelineno-57-235" name="__codelineno-57-235" href="#__codelineno-57-235"></a><span class="w">    </span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">;</span>
<a id="__codelineno-57-236" name="__codelineno-57-236" href="#__codelineno-57-236"></a><span class="w">    </span><span class="n">G</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ReadG</span><span class="p">();</span>
<a id="__codelineno-57-237" name="__codelineno-57-237" href="#__codelineno-57-237"></a><span class="w">    </span><span class="c1">// Topsort(G);</span>
<a id="__codelineno-57-238" name="__codelineno-57-238" href="#__codelineno-57-238"></a><span class="w">    </span><span class="c1">// printf(&quot;\n---------\n&quot;);</span>
<a id="__codelineno-57-239" name="__codelineno-57-239" href="#__codelineno-57-239"></a><span class="w">    </span><span class="c1">// Topsort1(G);</span>
<a id="__codelineno-57-240" name="__codelineno-57-240" href="#__codelineno-57-240"></a><span class="w">    </span><span class="c1">// printf(&quot;\n---------\n&quot;);</span>
<a id="__codelineno-57-241" name="__codelineno-57-241" href="#__codelineno-57-241"></a><span class="w">    </span><span class="n">Vertex</span><span class="w"> </span><span class="n">Seq</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span>
<a id="__codelineno-57-242" name="__codelineno-57-242" href="#__codelineno-57-242"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="p">;</span>
<a id="__codelineno-57-243" name="__codelineno-57-243" href="#__codelineno-57-243"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">N</span><span class="p">);</span>
<a id="__codelineno-57-244" name="__codelineno-57-244" href="#__codelineno-57-244"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-245" name="__codelineno-57-245" href="#__codelineno-57-245"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-57-246" name="__codelineno-57-246" href="#__codelineno-57-246"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-57-247" name="__codelineno-57-247" href="#__codelineno-57-247"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-248" name="__codelineno-57-248" href="#__codelineno-57-248"></a><span class="w">            </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">Seq</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
<a id="__codelineno-57-249" name="__codelineno-57-249" href="#__codelineno-57-249"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-250" name="__codelineno-57-250" href="#__codelineno-57-250"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">IsTopSort1</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">Seq</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-57-251" name="__codelineno-57-251" href="#__codelineno-57-251"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-252" name="__codelineno-57-252" href="#__codelineno-57-252"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Yes</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-57-253" name="__codelineno-57-253" href="#__codelineno-57-253"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-254" name="__codelineno-57-254" href="#__codelineno-57-254"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-57-255" name="__codelineno-57-255" href="#__codelineno-57-255"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-57-256" name="__codelineno-57-256" href="#__codelineno-57-256"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;No</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-57-257" name="__codelineno-57-257" href="#__codelineno-57-257"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-258" name="__codelineno-57-258" href="#__codelineno-57-258"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-259" name="__codelineno-57-259" href="#__codelineno-57-259"></a><span class="p">}</span>
</code></pre></div>
<h2 id="84">8.4 图的遍历<a class="headerlink" href="#84" title="Permanent link">&para;</a></h2>
<p>图的遍历和树的遍历相似，从图的某一顶点出发仿遍图中所有的顶点，且使每一个顶点只被访问一次，这一过程称之为图的遍历</p>
<h3 id="841">8.4.1 深度优先遍历<a class="headerlink" href="#841" title="Permanent link">&para;</a></h3>
<blockquote>
<p><strong>深度优先遍历，也称之为深度优先搜索，简称为DFS</strong></p>
</blockquote>
<p><strong><code>它的基本思想如下:首先访问图中某一起始顶点v，然后由v出发，访问与v邻接且未被访问的任一顶点w1, 再访问与w1邻接且未被访问的任一顶点…重复上述过程。当不能再继续向下访问时，依次退回到最近被访问的顶点，若它还有邻接顶点未被访问过，则从该点开始继续上述搜索过程，直至图中所有顶点均被访问过为止.</code></strong></p>
<p><img alt="image-20231124164936125" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205575.png" /></p>
<p><img alt="image-20231124164942279" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205823.png" /></p>
<p><img alt="image-20231124165000507" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205815.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="n">LGraph</span><span class="w"> </span><span class="nf">ReadG</span><span class="p">()</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="p">{</span>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">    </span><span class="n">LGraph</span><span class="w"> </span><span class="n">LG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">LGraph</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">GNode</span><span class="p">));</span>
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="w">        </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">);</span>
<a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span>
<a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p2</span><span class="p">);</span>
<a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a><span class="w">        </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">adj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PtrToAdjVNode</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">AdjVNode</span><span class="p">));</span>
<a id="__codelineno-58-15" name="__codelineno-58-15" href="#__codelineno-58-15"></a><span class="w">        </span><span class="n">p1</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-58-16" name="__codelineno-58-16" href="#__codelineno-58-16"></a><span class="w">        </span><span class="n">p2</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-58-17" name="__codelineno-58-17" href="#__codelineno-58-17"></a><span class="w">        </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span>
<a id="__codelineno-58-18" name="__codelineno-58-18" href="#__codelineno-58-18"></a><span class="w">        </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-58-19" name="__codelineno-58-19" href="#__codelineno-58-19"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-58-20" name="__codelineno-58-20" href="#__codelineno-58-20"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-58-21" name="__codelineno-58-21" href="#__codelineno-58-21"></a><span class="w">            </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span>
<a id="__codelineno-58-22" name="__codelineno-58-22" href="#__codelineno-58-22"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-58-23" name="__codelineno-58-23" href="#__codelineno-58-23"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span>
<a id="__codelineno-58-24" name="__codelineno-58-24" href="#__codelineno-58-24"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-58-25" name="__codelineno-58-25" href="#__codelineno-58-25"></a><span class="w">            </span><span class="c1">// 此处采用的是头插法</span>
<a id="__codelineno-58-26" name="__codelineno-58-26" href="#__codelineno-58-26"></a><span class="w">            </span><span class="c1">// adj-&gt;next = LG-&gt;adjList[p1].FirstEdge;</span>
<a id="__codelineno-58-27" name="__codelineno-58-27" href="#__codelineno-58-27"></a><span class="w">            </span><span class="c1">// LG-&gt;adjList[p1].FirstEdge = adj;</span>
<a id="__codelineno-58-28" name="__codelineno-58-28" href="#__codelineno-58-28"></a><span class="w">            </span><span class="c1">//尾插法</span>
<a id="__codelineno-58-29" name="__codelineno-58-29" href="#__codelineno-58-29"></a><span class="w">            </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-58-30" name="__codelineno-58-30" href="#__codelineno-58-30"></a><span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-58-31" name="__codelineno-58-31" href="#__codelineno-58-31"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-58-32" name="__codelineno-58-32" href="#__codelineno-58-32"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-58-33" name="__codelineno-58-33" href="#__codelineno-58-33"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-58-34" name="__codelineno-58-34" href="#__codelineno-58-34"></a><span class="w">            </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span>
<a id="__codelineno-58-35" name="__codelineno-58-35" href="#__codelineno-58-35"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-58-36" name="__codelineno-58-36" href="#__codelineno-58-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-58-37" name="__codelineno-58-37" href="#__codelineno-58-37"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">LG</span><span class="p">;</span>
<a id="__codelineno-58-38" name="__codelineno-58-38" href="#__codelineno-58-38"></a><span class="p">}</span>
<a id="__codelineno-58-39" name="__codelineno-58-39" href="#__codelineno-58-39"></a><span class="c1">// 使用的前提条件是图是连通的</span>
<a id="__codelineno-58-40" name="__codelineno-58-40" href="#__codelineno-58-40"></a><span class="kt">void</span><span class="w"> </span><span class="nf">DFS</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">Vertex</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">visited</span><span class="p">[])</span>
<a id="__codelineno-58-41" name="__codelineno-58-41" href="#__codelineno-58-41"></a><span class="p">{</span>
<a id="__codelineno-58-42" name="__codelineno-58-42" href="#__codelineno-58-42"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-58-43" name="__codelineno-58-43" href="#__codelineno-58-43"></a><span class="w">    </span><span class="n">visited</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-58-44" name="__codelineno-58-44" href="#__codelineno-58-44"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-58-45" name="__codelineno-58-45" href="#__codelineno-58-45"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span>
<a id="__codelineno-58-46" name="__codelineno-58-46" href="#__codelineno-58-46"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-58-47" name="__codelineno-58-47" href="#__codelineno-58-47"></a><span class="w">        </span><span class="c1">// 如果temp-&gt;adjvex没有被访问过，就将它所在的顶点作为起点，继续深度优先搜索，相当于输出以它为顶点的一列</span>
<a id="__codelineno-58-48" name="__codelineno-58-48" href="#__codelineno-58-48"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">])</span>
<a id="__codelineno-58-49" name="__codelineno-58-49" href="#__codelineno-58-49"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-58-50" name="__codelineno-58-50" href="#__codelineno-58-50"></a><span class="w">            </span><span class="n">DFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">,</span><span class="w"> </span><span class="n">visited</span><span class="p">);</span>
<a id="__codelineno-58-51" name="__codelineno-58-51" href="#__codelineno-58-51"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-58-52" name="__codelineno-58-52" href="#__codelineno-58-52"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-58-53" name="__codelineno-58-53" href="#__codelineno-58-53"></a><span class="w">    </span><span class="c1">// 对于非连通图，需要下面的代码</span>
<a id="__codelineno-58-54" name="__codelineno-58-54" href="#__codelineno-58-54"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-58-55" name="__codelineno-58-55" href="#__codelineno-58-55"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-58-56" name="__codelineno-58-56" href="#__codelineno-58-56"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-58-57" name="__codelineno-58-57" href="#__codelineno-58-57"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-58-58" name="__codelineno-58-58" href="#__codelineno-58-58"></a><span class="w">            </span><span class="n">DFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">visited</span><span class="p">);</span>
<a id="__codelineno-58-59" name="__codelineno-58-59" href="#__codelineno-58-59"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-58-60" name="__codelineno-58-60" href="#__codelineno-58-60"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-58-61" name="__codelineno-58-61" href="#__codelineno-58-61"></a><span class="p">}</span>
<a id="__codelineno-58-62" name="__codelineno-58-62" href="#__codelineno-58-62"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-58-63" name="__codelineno-58-63" href="#__codelineno-58-63"></a><span class="p">{</span>
<a id="__codelineno-58-64" name="__codelineno-58-64" href="#__codelineno-58-64"></a><span class="w">    </span><span class="c1">//          1</span>
<a id="__codelineno-58-65" name="__codelineno-58-65" href="#__codelineno-58-65"></a><span class="w">    </span><span class="c1">//      2       3</span>
<a id="__codelineno-58-66" name="__codelineno-58-66" href="#__codelineno-58-66"></a><span class="w">    </span><span class="c1">//  4       5       6</span>
<a id="__codelineno-58-67" name="__codelineno-58-67" href="#__codelineno-58-67"></a><span class="w">    </span><span class="c1">//      7              8</span>
<a id="__codelineno-58-68" name="__codelineno-58-68" href="#__codelineno-58-68"></a><span class="w">    </span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">;</span>
<a id="__codelineno-58-69" name="__codelineno-58-69" href="#__codelineno-58-69"></a><span class="w">    </span><span class="n">G</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ReadG</span><span class="p">();</span>
<a id="__codelineno-58-70" name="__codelineno-58-70" href="#__codelineno-58-70"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">visited</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-58-71" name="__codelineno-58-71" href="#__codelineno-58-71"></a><span class="w">    </span><span class="n">DFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">visited</span><span class="p">);</span>
<a id="__codelineno-58-72" name="__codelineno-58-72" href="#__codelineno-58-72"></a><span class="p">}</span>
</code></pre></div>
<p>对于不连通的图，该如何处理</p>
<p><img alt="image-20231209133219676" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205829.png" /></p>
<p>相当于对每一个点（没有被visit）都执行一遍DFS搜索</p>
<p><img alt="image-20231209135702191" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205981.png" /></p>
<p>递归的顺序是遍历1-&gt;遍历2-&gt;遍历3-&gt;.....-&gt;遍历n-&gt;返回n-&gt;返回n-1...-&gt;返回3-&gt;返回2-&gt;返回1</p>
<p>返回的时候打印，因此是从最后一个结点开始打印到源点。是逆拓扑序。</p>
<h4 id="tarjan">Tarjan算法求强连通分量<a class="headerlink" href="#tarjan" title="Permanent link">&para;</a></h4>
<p>Tarjan算法主体采用DFS遍历，每访问一个顶点，<strong>给该顶点赋值一个num序号和low-link，low-link表示当前顶点能到达的顶点中最小的id（包括它自己的id)。</strong></p>
<p><img alt="在这里插入图片描述" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205558.png" /></p>
<p>可见<strong>low-link相同的节点就组成强联通分量</strong>。该算法核心就是计算每个节点low-link值。</p>
<p>该算法需要维护一个栈，防止跨Sccs跟新low-link，也就是说在有效的顶点范围内更新low-link。</p>
<p><img alt="在这里插入图片描述" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205364.png" /></p>
<p>DFS深度优先访问一个没有访问过的结点就将其加入到栈stack[]中。每找到一个强连通分量就将这些顶点从栈stack[]中弹出。</p>
<blockquote>
<p>更新Low值的条件</p>
<p>if (visited[temp-&gt;adjvex] == 0)
     {
         // 如果没有访问过该结点
         Dfs(LG, temp-&gt;adjvex, visit);
         low[i] = low[i] &lt; low[temp-&gt;adjvex] ? low[i] : low[temp-&gt;adjvex];
     }
     else if (instack[temp-&gt;adjvex] == 1)
     {
         // 如果访问过该结点，且该结点在栈中
         low[i] = low[i] &lt; num[temp-&gt;adjvex] ? low[i] : num[temp-&gt;adjvex];
     }</p>
<p>使用节点v的low-link更新顶点u的low-link，必须有一个从u到v的边，并且顶点v必须在栈中。</p>
</blockquote>
<p>Tarjan算法概览：</p>
<ol>
<li>标记所有节点为未访问状态（unvisited）。</li>
<li>开始DFS，访问节点，并为其分配id和low-link值，标记该顶点已经访问过（visited），并加入到栈中。</li>
<li>当DFS回溯时，如果先前节点在栈中，则使用当前顶点的前一个顶点来更新当前顶点的low-link（取二者最小值）。</li>
<li>在完成当前顶点的所有邻居后，如果以当前顶点为起始的顶点组成Sccs，则将栈中的顶点弹出，直到当前顶点。</li>
</ol>
<p>例子：</p>
<p><img alt="在这里插入图片描述" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205446.png" /></p>
<p>任意选择顶点开始DFS，这里选择顶点0，依次将顶点0、1、2入栈，<strong>当顶点2继续DFS时，发现顶点0已经访问过了</strong>，<code>于是开始回溯，并更新计算low-link值</code>。当回溯到顶点0时，其id值等于low-link值，说明找到了一个Scc，此时将相关顶点弹出。</p>
<blockquote>
<p>关于顶点，<code>num[i] = low[i],其他连通分量的点的low[j] = low[i]</code></p>
</blockquote>
<p>然后再选择一个顶点继续DFS，这里选择顶点3。</p>
<p><img alt="在这里插入图片描述" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205393.png" /></p>
<p>将顶点3、4、5依次入栈，<strong>从顶点5继续DFS，访问顶点0，顶点已经访问过了，则回溯到顶点5</strong>，此时不更新low-link，因为顶点0不在栈中。接着继续DFS到顶点6和4，将顶点6和4入栈（顶点2和顶点0的情况一样），顶点4已经访问过了，开始回溯，并更新low-link值。<strong>当回溯到顶点4时，其id值和low-link值相等，找到一个Scc，依次将顶点6、5、4弹出。</strong></p>
<p><img alt="在这里插入图片描述" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205547.png" /></p>
<p>此时栈中还剩顶点3，继续DFS到顶点4，节点4已经访问过了，回溯到顶点3，顶点4不在栈中，不更新顶点3的low-link。此时虽然顶点3的id和low-link相等，<strong>但顶点3的邻居还没访问完，继续DFS到顶点7。</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a>
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="cp">#define MAXVEX 20        </span><span class="c1">// 图中顶点数目的最大值</span>
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点类型应由用户定义</span>
<a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Vertex</span><span class="p">;</span><span class="w">      </span><span class="c1">// 用于存储下标的类型</span>
<a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="cm">/* vertices are numbered from 1 to MaxVertexNum */</span>
<a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a>
<a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="cm">/*边表结点*/</span>
<a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span>
<a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a><span class="p">{</span>
<a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">adjvex</span><span class="p">;</span><span class="w">            </span><span class="c1">// 该弧所指向的顶点的下标或者位置</span>
<a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="w"> </span><span class="o">*</span><span class="n">next</span><span class="p">;</span><span class="w"> </span><span class="c1">// 指向下一个邻接点</span>
<a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a><span class="p">}</span><span class="w"> </span><span class="n">AdjVNode</span><span class="p">;</span>
<a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="w"> </span><span class="o">*</span><span class="n">PtrToAdjVNode</span><span class="p">;</span>
<a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a>
<a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a><span class="cm">/*顶点表结点*/</span>
<a id="__codelineno-59-18" name="__codelineno-59-18" href="#__codelineno-59-18"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">VertexNode</span>
<a id="__codelineno-59-19" name="__codelineno-59-19" href="#__codelineno-59-19"></a><span class="p">{</span>
<a id="__codelineno-59-20" name="__codelineno-59-20" href="#__codelineno-59-20"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w">         </span><span class="c1">// 顶点域，存储顶点信息</span>
<a id="__codelineno-59-21" name="__codelineno-59-21" href="#__codelineno-59-21"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">FirstEdge</span><span class="p">;</span><span class="w"> </span><span class="c1">// 边表头指针</span>
<a id="__codelineno-59-22" name="__codelineno-59-22" href="#__codelineno-59-22"></a><span class="p">}</span><span class="w"> </span><span class="n">AdjList</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span>
<a id="__codelineno-59-23" name="__codelineno-59-23" href="#__codelineno-59-23"></a>
<a id="__codelineno-59-24" name="__codelineno-59-24" href="#__codelineno-59-24"></a><span class="cm">/*邻接表*/</span>
<a id="__codelineno-59-25" name="__codelineno-59-25" href="#__codelineno-59-25"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<a id="__codelineno-59-26" name="__codelineno-59-26" href="#__codelineno-59-26"></a><span class="p">{</span>
<a id="__codelineno-59-27" name="__codelineno-59-27" href="#__codelineno-59-27"></a><span class="w">    </span><span class="n">AdjList</span><span class="w"> </span><span class="n">adjList</span><span class="p">;</span>
<a id="__codelineno-59-28" name="__codelineno-59-28" href="#__codelineno-59-28"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Vertexnum</span><span class="p">;</span>
<a id="__codelineno-59-29" name="__codelineno-59-29" href="#__codelineno-59-29"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="c1">// 图中当前顶点数和边数</span>
<a id="__codelineno-59-30" name="__codelineno-59-30" href="#__codelineno-59-30"></a><span class="p">}</span><span class="w"> </span><span class="n">GNode</span><span class="p">;</span>
<a id="__codelineno-59-31" name="__codelineno-59-31" href="#__codelineno-59-31"></a><span class="k">typedef</span><span class="w"> </span><span class="n">GNode</span><span class="w"> </span><span class="o">*</span><span class="n">PtrToGNode</span><span class="p">;</span>
<a id="__codelineno-59-32" name="__codelineno-59-32" href="#__codelineno-59-32"></a><span class="k">typedef</span><span class="w"> </span><span class="n">PtrToGNode</span><span class="w"> </span><span class="n">LGraph</span><span class="p">;</span><span class="w"> </span><span class="c1">// 以邻接表方式存储的图类型</span>
<a id="__codelineno-59-33" name="__codelineno-59-33" href="#__codelineno-59-33"></a><span class="kt">int</span><span class="w"> </span><span class="n">visited</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w"> </span><span class="c1">// 0表示未访问，1表示已访问</span>
<a id="__codelineno-59-34" name="__codelineno-59-34" href="#__codelineno-59-34"></a><span class="kt">int</span><span class="w"> </span><span class="n">num</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w">     </span><span class="c1">// 深度优先搜索时，记录访问的顺序</span>
<a id="__codelineno-59-35" name="__codelineno-59-35" href="#__codelineno-59-35"></a><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w">     </span><span class="c1">// 记录每个顶点能够访问到的最小的顶点的序号</span>
<a id="__codelineno-59-36" name="__codelineno-59-36" href="#__codelineno-59-36"></a><span class="kt">int</span><span class="w"> </span><span class="n">stack</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w">   </span><span class="c1">// 用于存储顶点的栈</span>
<a id="__codelineno-59-37" name="__codelineno-59-37" href="#__codelineno-59-37"></a><span class="kt">int</span><span class="w"> </span><span class="n">instack</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w"> </span><span class="c1">// 用于判断顶点是否在栈中</span>
<a id="__codelineno-59-38" name="__codelineno-59-38" href="#__codelineno-59-38"></a><span class="kt">int</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">               </span><span class="c1">// 栈顶指针</span>
<a id="__codelineno-59-39" name="__codelineno-59-39" href="#__codelineno-59-39"></a><span class="kt">int</span><span class="w"> </span><span class="n">cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">               </span><span class="c1">//</span>
<a id="__codelineno-59-40" name="__codelineno-59-40" href="#__codelineno-59-40"></a>
<a id="__codelineno-59-41" name="__codelineno-59-41" href="#__codelineno-59-41"></a>
<a id="__codelineno-59-42" name="__codelineno-59-42" href="#__codelineno-59-42"></a><span class="n">LGraph</span><span class="w"> </span><span class="nf">ReadG</span><span class="p">()</span>
<a id="__codelineno-59-43" name="__codelineno-59-43" href="#__codelineno-59-43"></a><span class="p">{</span>
<a id="__codelineno-59-44" name="__codelineno-59-44" href="#__codelineno-59-44"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-59-45" name="__codelineno-59-45" href="#__codelineno-59-45"></a><span class="w">    </span><span class="n">LGraph</span><span class="w"> </span><span class="n">LG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">LGraph</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">GNode</span><span class="p">));</span>
<a id="__codelineno-59-46" name="__codelineno-59-46" href="#__codelineno-59-46"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-59-47" name="__codelineno-59-47" href="#__codelineno-59-47"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-59-48" name="__codelineno-59-48" href="#__codelineno-59-48"></a><span class="w">        </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-59-49" name="__codelineno-59-49" href="#__codelineno-59-49"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-59-50" name="__codelineno-59-50" href="#__codelineno-59-50"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">);</span>
<a id="__codelineno-59-51" name="__codelineno-59-51" href="#__codelineno-59-51"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-59-52" name="__codelineno-59-52" href="#__codelineno-59-52"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-59-53" name="__codelineno-59-53" href="#__codelineno-59-53"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span>
<a id="__codelineno-59-54" name="__codelineno-59-54" href="#__codelineno-59-54"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p2</span><span class="p">);</span>
<a id="__codelineno-59-55" name="__codelineno-59-55" href="#__codelineno-59-55"></a><span class="w">        </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">adj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PtrToAdjVNode</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">AdjVNode</span><span class="p">));</span>
<a id="__codelineno-59-56" name="__codelineno-59-56" href="#__codelineno-59-56"></a><span class="w">        </span><span class="c1">// p1--;</span>
<a id="__codelineno-59-57" name="__codelineno-59-57" href="#__codelineno-59-57"></a><span class="w">        </span><span class="c1">// p2--;</span>
<a id="__codelineno-59-58" name="__codelineno-59-58" href="#__codelineno-59-58"></a><span class="w">        </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span>
<a id="__codelineno-59-59" name="__codelineno-59-59" href="#__codelineno-59-59"></a><span class="w">        </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-59-60" name="__codelineno-59-60" href="#__codelineno-59-60"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-59-61" name="__codelineno-59-61" href="#__codelineno-59-61"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-59-62" name="__codelineno-59-62" href="#__codelineno-59-62"></a><span class="w">            </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span>
<a id="__codelineno-59-63" name="__codelineno-59-63" href="#__codelineno-59-63"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-59-64" name="__codelineno-59-64" href="#__codelineno-59-64"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-59-65" name="__codelineno-59-65" href="#__codelineno-59-65"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-59-66" name="__codelineno-59-66" href="#__codelineno-59-66"></a><span class="w">            </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-59-67" name="__codelineno-59-67" href="#__codelineno-59-67"></a><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-59-68" name="__codelineno-59-68" href="#__codelineno-59-68"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-59-69" name="__codelineno-59-69" href="#__codelineno-59-69"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-59-70" name="__codelineno-59-70" href="#__codelineno-59-70"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-59-71" name="__codelineno-59-71" href="#__codelineno-59-71"></a><span class="w">            </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span>
<a id="__codelineno-59-72" name="__codelineno-59-72" href="#__codelineno-59-72"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-59-73" name="__codelineno-59-73" href="#__codelineno-59-73"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-59-74" name="__codelineno-59-74" href="#__codelineno-59-74"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">LG</span><span class="p">;</span>
<a id="__codelineno-59-75" name="__codelineno-59-75" href="#__codelineno-59-75"></a><span class="p">}</span>
<a id="__codelineno-59-76" name="__codelineno-59-76" href="#__codelineno-59-76"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PrintV</span><span class="p">(</span><span class="n">Vertex</span><span class="w"> </span><span class="n">V</span><span class="p">)</span>
<a id="__codelineno-59-77" name="__codelineno-59-77" href="#__codelineno-59-77"></a><span class="p">{</span>
<a id="__codelineno-59-78" name="__codelineno-59-78" href="#__codelineno-59-78"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="p">);</span>
<a id="__codelineno-59-79" name="__codelineno-59-79" href="#__codelineno-59-79"></a><span class="p">}</span>
<a id="__codelineno-59-80" name="__codelineno-59-80" href="#__codelineno-59-80"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Dfs</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">LG</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">visit</span><span class="p">)(</span><span class="n">Vertex</span><span class="w"> </span><span class="n">V</span><span class="p">))</span>
<a id="__codelineno-59-81" name="__codelineno-59-81" href="#__codelineno-59-81"></a><span class="p">{</span>
<a id="__codelineno-59-82" name="__codelineno-59-82" href="#__codelineno-59-82"></a><span class="w">    </span><span class="c1">// 深度优先搜索</span>
<a id="__codelineno-59-83" name="__codelineno-59-83" href="#__codelineno-59-83"></a><span class="w">    </span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">          </span><span class="c1">// 表示i已经访问过了</span>
<a id="__codelineno-59-84" name="__codelineno-59-84" href="#__codelineno-59-84"></a><span class="w">    </span><span class="n">num</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cnt</span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="c1">// cnt表示访问的顺序,cnt初始状态为0，每访问一个顶点，cnt加1</span>
<a id="__codelineno-59-85" name="__codelineno-59-85" href="#__codelineno-59-85"></a><span class="w">    </span><span class="n">stack</span><span class="p">[</span><span class="o">++</span><span class="n">top</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">        </span><span class="c1">// 将i压入栈中</span>
<a id="__codelineno-59-86" name="__codelineno-59-86" href="#__codelineno-59-86"></a><span class="w">    </span><span class="n">instack</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">          </span><span class="c1">// 表示i在栈中</span>
<a id="__codelineno-59-87" name="__codelineno-59-87" href="#__codelineno-59-87"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-59-88" name="__codelineno-59-88" href="#__codelineno-59-88"></a><span class="w">    </span><span class="k">for</span><span class="p">(;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span>
<a id="__codelineno-59-89" name="__codelineno-59-89" href="#__codelineno-59-89"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-59-90" name="__codelineno-59-90" href="#__codelineno-59-90"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">visited</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-59-91" name="__codelineno-59-91" href="#__codelineno-59-91"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-59-92" name="__codelineno-59-92" href="#__codelineno-59-92"></a><span class="w">            </span><span class="c1">// 如果没有访问过该结点</span>
<a id="__codelineno-59-93" name="__codelineno-59-93" href="#__codelineno-59-93"></a><span class="w">            </span><span class="n">Dfs</span><span class="p">(</span><span class="n">LG</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">,</span><span class="w"> </span><span class="n">visit</span><span class="p">);</span>
<a id="__codelineno-59-94" name="__codelineno-59-94" href="#__codelineno-59-94"></a><span class="w">            </span><span class="n">low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">low</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">low</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">];</span>
<a id="__codelineno-59-95" name="__codelineno-59-95" href="#__codelineno-59-95"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-59-96" name="__codelineno-59-96" href="#__codelineno-59-96"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">instack</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-59-97" name="__codelineno-59-97" href="#__codelineno-59-97"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-59-98" name="__codelineno-59-98" href="#__codelineno-59-98"></a><span class="w">            </span><span class="c1">// 如果访问过该结点，且该结点在栈中</span>
<a id="__codelineno-59-99" name="__codelineno-59-99" href="#__codelineno-59-99"></a><span class="w">            </span><span class="n">low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">num</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">num</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">];</span>
<a id="__codelineno-59-100" name="__codelineno-59-100" href="#__codelineno-59-100"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-59-101" name="__codelineno-59-101" href="#__codelineno-59-101"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-59-102" name="__codelineno-59-102" href="#__codelineno-59-102"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">low</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-59-103" name="__codelineno-59-103" href="#__codelineno-59-103"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-59-104" name="__codelineno-59-104" href="#__codelineno-59-104"></a><span class="w">        </span><span class="c1">// 如果i是强连通分量的根结点</span>
<a id="__codelineno-59-105" name="__codelineno-59-105" href="#__codelineno-59-105"></a><span class="w">        </span><span class="c1">// 需要将栈中的元素弹出，直到弹出i为止</span>
<a id="__codelineno-59-106" name="__codelineno-59-106" href="#__codelineno-59-106"></a><span class="w">        </span><span class="c1">// 弹出的元素就是一个强连通分量</span>
<a id="__codelineno-59-107" name="__codelineno-59-107" href="#__codelineno-59-107"></a><span class="w">        </span><span class="c1">// 弹出的元素的instack值要置为0， 更新top值</span>
<a id="__codelineno-59-108" name="__codelineno-59-108" href="#__codelineno-59-108"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">stack</span><span class="p">[</span><span class="n">top</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-59-109" name="__codelineno-59-109" href="#__codelineno-59-109"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-59-110" name="__codelineno-59-110" href="#__codelineno-59-110"></a><span class="w">            </span><span class="n">visit</span><span class="p">(</span><span class="n">stack</span><span class="p">[</span><span class="n">top</span><span class="p">]);</span><span class="w"> </span><span class="c1">// 输出强连通分量结点</span>
<a id="__codelineno-59-111" name="__codelineno-59-111" href="#__codelineno-59-111"></a><span class="w">            </span><span class="n">instack</span><span class="p">[</span><span class="n">stack</span><span class="p">[</span><span class="n">top</span><span class="p">]]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-59-112" name="__codelineno-59-112" href="#__codelineno-59-112"></a><span class="w">            </span><span class="n">top</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-59-113" name="__codelineno-59-113" href="#__codelineno-59-113"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-59-114" name="__codelineno-59-114" href="#__codelineno-59-114"></a><span class="w">        </span><span class="c1">// 输出强连通分量的根结点</span>
<a id="__codelineno-59-115" name="__codelineno-59-115" href="#__codelineno-59-115"></a><span class="w">        </span><span class="n">visit</span><span class="p">(</span><span class="n">stack</span><span class="p">[</span><span class="n">top</span><span class="p">]);</span>
<a id="__codelineno-59-116" name="__codelineno-59-116" href="#__codelineno-59-116"></a><span class="w">        </span><span class="n">instack</span><span class="p">[</span><span class="n">stack</span><span class="p">[</span><span class="n">top</span><span class="p">]]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-59-117" name="__codelineno-59-117" href="#__codelineno-59-117"></a><span class="w">        </span><span class="n">top</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-59-118" name="__codelineno-59-118" href="#__codelineno-59-118"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-59-119" name="__codelineno-59-119" href="#__codelineno-59-119"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-59-120" name="__codelineno-59-120" href="#__codelineno-59-120"></a><span class="p">}</span>
<a id="__codelineno-59-121" name="__codelineno-59-121" href="#__codelineno-59-121"></a>
<a id="__codelineno-59-122" name="__codelineno-59-122" href="#__codelineno-59-122"></a><span class="kt">void</span><span class="w"> </span><span class="nf">StronglyConnectedComponents</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">LG</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">visit</span><span class="p">)(</span><span class="n">Vertex</span><span class="w"> </span><span class="n">V</span><span class="p">))</span>
<a id="__codelineno-59-123" name="__codelineno-59-123" href="#__codelineno-59-123"></a><span class="p">{</span>
<a id="__codelineno-59-124" name="__codelineno-59-124" href="#__codelineno-59-124"></a><span class="w">    </span><span class="c1">// 寻找强连通分量</span>
<a id="__codelineno-59-125" name="__codelineno-59-125" href="#__codelineno-59-125"></a><span class="w">    </span><span class="c1">// 也就是说，你能找到我，我也能找到你，且要求该子图是最大的</span>
<a id="__codelineno-59-126" name="__codelineno-59-126" href="#__codelineno-59-126"></a>
<a id="__codelineno-59-127" name="__codelineno-59-127" href="#__codelineno-59-127"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-59-128" name="__codelineno-59-128" href="#__codelineno-59-128"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-59-129" name="__codelineno-59-129" href="#__codelineno-59-129"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-59-130" name="__codelineno-59-130" href="#__codelineno-59-130"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-59-131" name="__codelineno-59-131" href="#__codelineno-59-131"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-59-132" name="__codelineno-59-132" href="#__codelineno-59-132"></a><span class="w">            </span><span class="n">Dfs</span><span class="p">(</span><span class="n">LG</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">visit</span><span class="p">);</span>
<a id="__codelineno-59-133" name="__codelineno-59-133" href="#__codelineno-59-133"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-59-134" name="__codelineno-59-134" href="#__codelineno-59-134"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-59-135" name="__codelineno-59-135" href="#__codelineno-59-135"></a><span class="p">}</span>
<a id="__codelineno-59-136" name="__codelineno-59-136" href="#__codelineno-59-136"></a>
<a id="__codelineno-59-137" name="__codelineno-59-137" href="#__codelineno-59-137"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-59-138" name="__codelineno-59-138" href="#__codelineno-59-138"></a><span class="p">{</span>
<a id="__codelineno-59-139" name="__codelineno-59-139" href="#__codelineno-59-139"></a><span class="w">    </span><span class="n">LGraph</span><span class="w"> </span><span class="n">LG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ReadG</span><span class="p">();</span>
<a id="__codelineno-59-140" name="__codelineno-59-140" href="#__codelineno-59-140"></a><span class="w">    </span><span class="n">StronglyConnectedComponents</span><span class="p">(</span><span class="n">LG</span><span class="p">,</span><span class="w"> </span><span class="n">PrintV</span><span class="p">);</span>
<a id="__codelineno-59-141" name="__codelineno-59-141" href="#__codelineno-59-141"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-59-142" name="__codelineno-59-142" href="#__codelineno-59-142"></a><span class="p">}</span>
</code></pre></div>
<h3 id="842">8.4.2 广度优先搜索<a class="headerlink" href="#842" title="Permanent link">&para;</a></h3>
<p>广度优先搜索，就是更大范围内搜索，先访问完当前顶点的所有邻接点，然后再访问下一层的所有邻接点，该算法适用于解决最短最小路径问题。</p>
<p><a href="https://so.csdn.net/so/search?q=广度优先搜索&amp;spm=1001.2101.3001.7020">广度优先搜索</a>是一种分层的查找过程，每向前走一步可能访问一批顶点，不像深度优先搜索那样有往回退的情况，<strong>因此它不是一个递归的算法</strong>。为了实现逐层的访问，算法<strong>必须借助一个辅助队列</strong>，以记忆正在访问的顶点的下一层顶点。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">BFS</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">Vertex</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">visited</span><span class="p">[])</span>
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="p">{</span>
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="w">    </span><span class="c1">// 借助队列实现</span>
<a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="w">    </span><span class="n">Vertex</span><span class="w"> </span><span class="n">Queue</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span>
<a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="w">    </span><span class="c1">// 队列初始化</span>
<a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a><span class="w">    </span><span class="c1">// 将顶点v加入队列，并标记为已访问，后续能够得到rear &gt; front</span>
<a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a><span class="w">    </span><span class="n">Queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a><span class="w">    </span><span class="n">visited</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-60-12" name="__codelineno-60-12" href="#__codelineno-60-12"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">rear</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">front</span><span class="p">)</span>
<a id="__codelineno-60-13" name="__codelineno-60-13" href="#__codelineno-60-13"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-60-14" name="__codelineno-60-14" href="#__codelineno-60-14"></a><span class="w">        </span><span class="c1">// 从队列中取出一个顶点</span>
<a id="__codelineno-60-15" name="__codelineno-60-15" href="#__codelineno-60-15"></a><span class="w">        </span><span class="n">Vertex</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Queue</span><span class="p">[</span><span class="n">front</span><span class="o">++</span><span class="p">];</span>
<a id="__codelineno-60-16" name="__codelineno-60-16" href="#__codelineno-60-16"></a><span class="w">        </span><span class="c1">// 遍历w顶点的所有邻接点</span>
<a id="__codelineno-60-17" name="__codelineno-60-17" href="#__codelineno-60-17"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">w</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span>
<a id="__codelineno-60-18" name="__codelineno-60-18" href="#__codelineno-60-18"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-60-19" name="__codelineno-60-19" href="#__codelineno-60-19"></a><span class="w">            </span><span class="c1">// 如果temp-&gt;adjvex没有被访问过，就将它所在的顶点push进队列，相当于输出v顶点的所有邻接点</span>
<a id="__codelineno-60-20" name="__codelineno-60-20" href="#__codelineno-60-20"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">])</span>
<a id="__codelineno-60-21" name="__codelineno-60-21" href="#__codelineno-60-21"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-60-22" name="__codelineno-60-22" href="#__codelineno-60-22"></a><span class="w">                </span><span class="n">Queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">;</span>
<a id="__codelineno-60-23" name="__codelineno-60-23" href="#__codelineno-60-23"></a><span class="w">                </span><span class="n">visited</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-60-24" name="__codelineno-60-24" href="#__codelineno-60-24"></a><span class="w">                </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-60-25" name="__codelineno-60-25" href="#__codelineno-60-25"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-60-26" name="__codelineno-60-26" href="#__codelineno-60-26"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-60-27" name="__codelineno-60-27" href="#__codelineno-60-27"></a><span class="w">        </span><span class="c1">// 再次进入while循环时，要么是同一行的邻接点，要么是下一行的邻接点</span>
<a id="__codelineno-60-28" name="__codelineno-60-28" href="#__codelineno-60-28"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-60-29" name="__codelineno-60-29" href="#__codelineno-60-29"></a><span class="p">}</span>
</code></pre></div>
<p>完整代码</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>
<a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a>
<a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="cp">#define MAXVEX 10        </span><span class="c1">// 图中顶点数目的最大值</span>
<a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点类型应由用户定义</span>
<a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">WeightType</span><span class="p">;</span><span class="w">  </span><span class="c1">// 边上的权值类型应由用户定义</span>
<a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Vertex</span><span class="p">;</span><span class="w">      </span><span class="c1">// 用于存储下标的类型</span>
<a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a><span class="cm">/* vertices are numbered from 1 to MaxVertexNum */</span>
<a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a>
<a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="cm">/*边表结点*/</span>
<a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span>
<a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a><span class="p">{</span>
<a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">adjvex</span><span class="p">;</span><span class="w">            </span><span class="c1">// 该弧所指向的顶点的下标或者位置</span>
<a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a><span class="w">    </span><span class="n">WeightType</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span><span class="w">     </span><span class="c1">// 权值，对于非网图可以不需要</span>
<a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="w"> </span><span class="o">*</span><span class="n">next</span><span class="p">;</span><span class="w"> </span><span class="c1">// 指向下一个邻接点</span>
<a id="__codelineno-61-17" name="__codelineno-61-17" href="#__codelineno-61-17"></a><span class="p">}</span><span class="w"> </span><span class="n">AdjVNode</span><span class="p">;</span>
<a id="__codelineno-61-18" name="__codelineno-61-18" href="#__codelineno-61-18"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="w"> </span><span class="o">*</span><span class="n">PtrToAdjVNode</span><span class="p">;</span>
<a id="__codelineno-61-19" name="__codelineno-61-19" href="#__codelineno-61-19"></a>
<a id="__codelineno-61-20" name="__codelineno-61-20" href="#__codelineno-61-20"></a><span class="cm">/*顶点表结点*/</span>
<a id="__codelineno-61-21" name="__codelineno-61-21" href="#__codelineno-61-21"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">VertexNode</span>
<a id="__codelineno-61-22" name="__codelineno-61-22" href="#__codelineno-61-22"></a><span class="p">{</span>
<a id="__codelineno-61-23" name="__codelineno-61-23" href="#__codelineno-61-23"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w">         </span><span class="c1">// 顶点域，存储顶点信息</span>
<a id="__codelineno-61-24" name="__codelineno-61-24" href="#__codelineno-61-24"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">FirstEdge</span><span class="p">;</span><span class="w"> </span><span class="c1">// 边表头指针</span>
<a id="__codelineno-61-25" name="__codelineno-61-25" href="#__codelineno-61-25"></a><span class="p">}</span><span class="w"> </span><span class="n">AdjList</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span>
<a id="__codelineno-61-26" name="__codelineno-61-26" href="#__codelineno-61-26"></a>
<a id="__codelineno-61-27" name="__codelineno-61-27" href="#__codelineno-61-27"></a><span class="cm">/*邻接表*/</span>
<a id="__codelineno-61-28" name="__codelineno-61-28" href="#__codelineno-61-28"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<a id="__codelineno-61-29" name="__codelineno-61-29" href="#__codelineno-61-29"></a><span class="p">{</span>
<a id="__codelineno-61-30" name="__codelineno-61-30" href="#__codelineno-61-30"></a><span class="w">    </span><span class="n">AdjList</span><span class="w"> </span><span class="n">adjList</span><span class="p">;</span>
<a id="__codelineno-61-31" name="__codelineno-61-31" href="#__codelineno-61-31"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Vertexnum</span><span class="p">;</span>
<a id="__codelineno-61-32" name="__codelineno-61-32" href="#__codelineno-61-32"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="c1">// 图中当前顶点数和边数</span>
<a id="__codelineno-61-33" name="__codelineno-61-33" href="#__codelineno-61-33"></a><span class="p">}</span><span class="w"> </span><span class="n">GNode</span><span class="p">;</span>
<a id="__codelineno-61-34" name="__codelineno-61-34" href="#__codelineno-61-34"></a><span class="k">typedef</span><span class="w"> </span><span class="n">GNode</span><span class="w"> </span><span class="o">*</span><span class="n">PtrToGNode</span><span class="p">;</span>
<a id="__codelineno-61-35" name="__codelineno-61-35" href="#__codelineno-61-35"></a><span class="k">typedef</span><span class="w"> </span><span class="n">PtrToGNode</span><span class="w"> </span><span class="n">LGraph</span><span class="p">;</span><span class="w"> </span><span class="c1">// 以邻接表方式存储的图类型</span>
<a id="__codelineno-61-36" name="__codelineno-61-36" href="#__codelineno-61-36"></a>
<a id="__codelineno-61-37" name="__codelineno-61-37" href="#__codelineno-61-37"></a><span class="n">LGraph</span><span class="w"> </span><span class="nf">ReadG</span><span class="p">()</span>
<a id="__codelineno-61-38" name="__codelineno-61-38" href="#__codelineno-61-38"></a><span class="p">{</span>
<a id="__codelineno-61-39" name="__codelineno-61-39" href="#__codelineno-61-39"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-61-40" name="__codelineno-61-40" href="#__codelineno-61-40"></a><span class="w">    </span><span class="n">LGraph</span><span class="w"> </span><span class="n">LG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">LGraph</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">GNode</span><span class="p">));</span>
<a id="__codelineno-61-41" name="__codelineno-61-41" href="#__codelineno-61-41"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-61-42" name="__codelineno-61-42" href="#__codelineno-61-42"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-61-43" name="__codelineno-61-43" href="#__codelineno-61-43"></a><span class="w">        </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-61-44" name="__codelineno-61-44" href="#__codelineno-61-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-61-45" name="__codelineno-61-45" href="#__codelineno-61-45"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">);</span>
<a id="__codelineno-61-46" name="__codelineno-61-46" href="#__codelineno-61-46"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-61-47" name="__codelineno-61-47" href="#__codelineno-61-47"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-61-48" name="__codelineno-61-48" href="#__codelineno-61-48"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span>
<a id="__codelineno-61-49" name="__codelineno-61-49" href="#__codelineno-61-49"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p2</span><span class="p">);</span>
<a id="__codelineno-61-50" name="__codelineno-61-50" href="#__codelineno-61-50"></a><span class="w">        </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">adj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PtrToAdjVNode</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">AdjVNode</span><span class="p">));</span>
<a id="__codelineno-61-51" name="__codelineno-61-51" href="#__codelineno-61-51"></a><span class="w">        </span><span class="n">p1</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-61-52" name="__codelineno-61-52" href="#__codelineno-61-52"></a><span class="w">        </span><span class="n">p2</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-61-53" name="__codelineno-61-53" href="#__codelineno-61-53"></a><span class="w">        </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span>
<a id="__codelineno-61-54" name="__codelineno-61-54" href="#__codelineno-61-54"></a><span class="w">        </span><span class="n">adj</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-61-55" name="__codelineno-61-55" href="#__codelineno-61-55"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-61-56" name="__codelineno-61-56" href="#__codelineno-61-56"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-61-57" name="__codelineno-61-57" href="#__codelineno-61-57"></a><span class="w">            </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span>
<a id="__codelineno-61-58" name="__codelineno-61-58" href="#__codelineno-61-58"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-61-59" name="__codelineno-61-59" href="#__codelineno-61-59"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span>
<a id="__codelineno-61-60" name="__codelineno-61-60" href="#__codelineno-61-60"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-61-61" name="__codelineno-61-61" href="#__codelineno-61-61"></a><span class="w">            </span><span class="c1">// 此处采用的是头插法</span>
<a id="__codelineno-61-62" name="__codelineno-61-62" href="#__codelineno-61-62"></a><span class="w">            </span><span class="c1">// adj-&gt;next = LG-&gt;adjList[p1].FirstEdge;</span>
<a id="__codelineno-61-63" name="__codelineno-61-63" href="#__codelineno-61-63"></a><span class="w">            </span><span class="c1">// LG-&gt;adjList[p1].FirstEdge = adj;</span>
<a id="__codelineno-61-64" name="__codelineno-61-64" href="#__codelineno-61-64"></a><span class="w">            </span><span class="c1">//尾插法</span>
<a id="__codelineno-61-65" name="__codelineno-61-65" href="#__codelineno-61-65"></a><span class="w">            </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-61-66" name="__codelineno-61-66" href="#__codelineno-61-66"></a><span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-61-67" name="__codelineno-61-67" href="#__codelineno-61-67"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-61-68" name="__codelineno-61-68" href="#__codelineno-61-68"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-61-69" name="__codelineno-61-69" href="#__codelineno-61-69"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-61-70" name="__codelineno-61-70" href="#__codelineno-61-70"></a><span class="w">            </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span>
<a id="__codelineno-61-71" name="__codelineno-61-71" href="#__codelineno-61-71"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-61-72" name="__codelineno-61-72" href="#__codelineno-61-72"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-61-73" name="__codelineno-61-73" href="#__codelineno-61-73"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">LG</span><span class="p">;</span>
<a id="__codelineno-61-74" name="__codelineno-61-74" href="#__codelineno-61-74"></a><span class="p">}</span>
<a id="__codelineno-61-75" name="__codelineno-61-75" href="#__codelineno-61-75"></a><span class="kt">void</span><span class="w"> </span><span class="nf">DFS</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">Vertex</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">visited</span><span class="p">[])</span>
<a id="__codelineno-61-76" name="__codelineno-61-76" href="#__codelineno-61-76"></a><span class="p">{</span>
<a id="__codelineno-61-77" name="__codelineno-61-77" href="#__codelineno-61-77"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-61-78" name="__codelineno-61-78" href="#__codelineno-61-78"></a><span class="w">    </span><span class="n">visited</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-61-79" name="__codelineno-61-79" href="#__codelineno-61-79"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-61-80" name="__codelineno-61-80" href="#__codelineno-61-80"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span>
<a id="__codelineno-61-81" name="__codelineno-61-81" href="#__codelineno-61-81"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-61-82" name="__codelineno-61-82" href="#__codelineno-61-82"></a><span class="w">        </span><span class="c1">// 如果temp-&gt;adjvex没有被访问过，就将它所在的顶点作为起点，继续深度优先搜索，相当于输出以它为顶点的一列</span>
<a id="__codelineno-61-83" name="__codelineno-61-83" href="#__codelineno-61-83"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">])</span>
<a id="__codelineno-61-84" name="__codelineno-61-84" href="#__codelineno-61-84"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-61-85" name="__codelineno-61-85" href="#__codelineno-61-85"></a><span class="w">            </span><span class="n">DFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">,</span><span class="w"> </span><span class="n">visited</span><span class="p">);</span>
<a id="__codelineno-61-86" name="__codelineno-61-86" href="#__codelineno-61-86"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-61-87" name="__codelineno-61-87" href="#__codelineno-61-87"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-61-88" name="__codelineno-61-88" href="#__codelineno-61-88"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-61-89" name="__codelineno-61-89" href="#__codelineno-61-89"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-61-90" name="__codelineno-61-90" href="#__codelineno-61-90"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-61-91" name="__codelineno-61-91" href="#__codelineno-61-91"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-61-92" name="__codelineno-61-92" href="#__codelineno-61-92"></a><span class="w">            </span><span class="n">DFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">visited</span><span class="p">);</span>
<a id="__codelineno-61-93" name="__codelineno-61-93" href="#__codelineno-61-93"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-61-94" name="__codelineno-61-94" href="#__codelineno-61-94"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-61-95" name="__codelineno-61-95" href="#__codelineno-61-95"></a><span class="p">}</span>
<a id="__codelineno-61-96" name="__codelineno-61-96" href="#__codelineno-61-96"></a><span class="kt">void</span><span class="w"> </span><span class="nf">BFS</span><span class="p">(</span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">Vertex</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">visited</span><span class="p">[])</span>
<a id="__codelineno-61-97" name="__codelineno-61-97" href="#__codelineno-61-97"></a><span class="p">{</span>
<a id="__codelineno-61-98" name="__codelineno-61-98" href="#__codelineno-61-98"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-61-99" name="__codelineno-61-99" href="#__codelineno-61-99"></a><span class="w">    </span><span class="c1">// 借助队列实现</span>
<a id="__codelineno-61-100" name="__codelineno-61-100" href="#__codelineno-61-100"></a><span class="w">    </span><span class="n">Vertex</span><span class="w"> </span><span class="n">Queue</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span>
<a id="__codelineno-61-101" name="__codelineno-61-101" href="#__codelineno-61-101"></a><span class="w">    </span><span class="c1">// 队列初始化</span>
<a id="__codelineno-61-102" name="__codelineno-61-102" href="#__codelineno-61-102"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-61-103" name="__codelineno-61-103" href="#__codelineno-61-103"></a><span class="w">    </span><span class="c1">// 将顶点v加入队列，并标记为已访问，后续能够得到rear &gt; front</span>
<a id="__codelineno-61-104" name="__codelineno-61-104" href="#__codelineno-61-104"></a><span class="w">    </span><span class="n">Queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<a id="__codelineno-61-105" name="__codelineno-61-105" href="#__codelineno-61-105"></a><span class="w">    </span><span class="n">visited</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-61-106" name="__codelineno-61-106" href="#__codelineno-61-106"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-61-107" name="__codelineno-61-107" href="#__codelineno-61-107"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">rear</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">front</span><span class="p">)</span>
<a id="__codelineno-61-108" name="__codelineno-61-108" href="#__codelineno-61-108"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-61-109" name="__codelineno-61-109" href="#__codelineno-61-109"></a><span class="w">        </span><span class="c1">// 从队列中取出一个顶点</span>
<a id="__codelineno-61-110" name="__codelineno-61-110" href="#__codelineno-61-110"></a><span class="w">        </span><span class="n">Vertex</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Queue</span><span class="p">[</span><span class="n">front</span><span class="o">++</span><span class="p">];</span>
<a id="__codelineno-61-111" name="__codelineno-61-111" href="#__codelineno-61-111"></a><span class="w">        </span><span class="c1">// 遍历w顶点的所有邻接点</span>
<a id="__codelineno-61-112" name="__codelineno-61-112" href="#__codelineno-61-112"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">w</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span>
<a id="__codelineno-61-113" name="__codelineno-61-113" href="#__codelineno-61-113"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-61-114" name="__codelineno-61-114" href="#__codelineno-61-114"></a><span class="w">            </span><span class="c1">// 如果temp-&gt;adjvex没有被访问过，就将它所在的顶点push进队列，相当于输出v顶点的所有邻接点</span>
<a id="__codelineno-61-115" name="__codelineno-61-115" href="#__codelineno-61-115"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">])</span>
<a id="__codelineno-61-116" name="__codelineno-61-116" href="#__codelineno-61-116"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-61-117" name="__codelineno-61-117" href="#__codelineno-61-117"></a><span class="w">                </span><span class="n">Queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">;</span>
<a id="__codelineno-61-118" name="__codelineno-61-118" href="#__codelineno-61-118"></a><span class="w">                </span><span class="n">visited</span><span class="p">[</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-61-119" name="__codelineno-61-119" href="#__codelineno-61-119"></a><span class="w">                </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-61-120" name="__codelineno-61-120" href="#__codelineno-61-120"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-61-121" name="__codelineno-61-121" href="#__codelineno-61-121"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-61-122" name="__codelineno-61-122" href="#__codelineno-61-122"></a><span class="w">        </span><span class="c1">// 再次进入while循环时，要么是同一行的邻接点，要么是下一行的邻接点</span>
<a id="__codelineno-61-123" name="__codelineno-61-123" href="#__codelineno-61-123"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-61-124" name="__codelineno-61-124" href="#__codelineno-61-124"></a><span class="p">}</span>
<a id="__codelineno-61-125" name="__codelineno-61-125" href="#__codelineno-61-125"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-61-126" name="__codelineno-61-126" href="#__codelineno-61-126"></a><span class="p">{</span>
<a id="__codelineno-61-127" name="__codelineno-61-127" href="#__codelineno-61-127"></a><span class="w">    </span><span class="c1">//          1</span>
<a id="__codelineno-61-128" name="__codelineno-61-128" href="#__codelineno-61-128"></a><span class="w">    </span><span class="c1">//      2       3</span>
<a id="__codelineno-61-129" name="__codelineno-61-129" href="#__codelineno-61-129"></a><span class="w">    </span><span class="c1">//  4       5       6</span>
<a id="__codelineno-61-130" name="__codelineno-61-130" href="#__codelineno-61-130"></a><span class="w">    </span><span class="c1">//      7              8</span>
<a id="__codelineno-61-131" name="__codelineno-61-131" href="#__codelineno-61-131"></a><span class="w">    </span><span class="n">LGraph</span><span class="w"> </span><span class="n">G</span><span class="p">;</span>
<a id="__codelineno-61-132" name="__codelineno-61-132" href="#__codelineno-61-132"></a><span class="w">    </span><span class="n">G</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ReadG</span><span class="p">();</span>
<a id="__codelineno-61-133" name="__codelineno-61-133" href="#__codelineno-61-133"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">visited1</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-61-134" name="__codelineno-61-134" href="#__codelineno-61-134"></a><span class="w">    </span><span class="n">DFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">visited1</span><span class="p">);</span>
<a id="__codelineno-61-135" name="__codelineno-61-135" href="#__codelineno-61-135"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-61-136" name="__codelineno-61-136" href="#__codelineno-61-136"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">visited2</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-61-137" name="__codelineno-61-137" href="#__codelineno-61-137"></a><span class="w">    </span><span class="n">BFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">visited2</span><span class="p">);</span>
<a id="__codelineno-61-138" name="__codelineno-61-138" href="#__codelineno-61-138"></a><span class="p">}</span>
<a id="__codelineno-61-139" name="__codelineno-61-139" href="#__codelineno-61-139"></a><span class="nl">input</span><span class="p">:</span>
<a id="__codelineno-61-140" name="__codelineno-61-140" href="#__codelineno-61-140"></a><span class="mi">8</span><span class="w"> </span><span class="mi">7</span>
<a id="__codelineno-61-141" name="__codelineno-61-141" href="#__codelineno-61-141"></a><span class="mi">1</span><span class="w"> </span><span class="mi">2</span>
<a id="__codelineno-61-142" name="__codelineno-61-142" href="#__codelineno-61-142"></a><span class="mi">1</span><span class="w"> </span><span class="mi">3</span>
<a id="__codelineno-61-143" name="__codelineno-61-143" href="#__codelineno-61-143"></a><span class="mi">2</span><span class="w"> </span><span class="mi">4</span>
<a id="__codelineno-61-144" name="__codelineno-61-144" href="#__codelineno-61-144"></a><span class="mi">2</span><span class="w"> </span><span class="mi">5</span>
<a id="__codelineno-61-145" name="__codelineno-61-145" href="#__codelineno-61-145"></a><span class="mi">4</span><span class="w"> </span><span class="mi">7</span>
<a id="__codelineno-61-146" name="__codelineno-61-146" href="#__codelineno-61-146"></a><span class="mi">3</span><span class="w"> </span><span class="mi">6</span>
<a id="__codelineno-61-147" name="__codelineno-61-147" href="#__codelineno-61-147"></a><span class="mi">6</span><span class="w"> </span><span class="mi">8</span>
<a id="__codelineno-61-148" name="__codelineno-61-148" href="#__codelineno-61-148"></a><span class="nl">output</span><span class="p">:</span>
<a id="__codelineno-61-149" name="__codelineno-61-149" href="#__codelineno-61-149"></a><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">8</span>
<a id="__codelineno-61-150" name="__codelineno-61-150" href="#__codelineno-61-150"></a><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a>
<a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="cp">#define MAXVERTEXNUM 20</span>
<a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="cp">#define INF 65535</span>
<a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a>
<a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span>
<a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">EdgeType</span><span class="p">;</span>
<a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">point</span><span class="p">{</span>
<a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">Vex</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a><span class="w">    </span><span class="n">EdgeType</span><span class="w"> </span><span class="n">Edge</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-62-12" name="__codelineno-62-12" href="#__codelineno-62-12"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">vexnum</span><span class="p">;</span>
<a id="__codelineno-62-13" name="__codelineno-62-13" href="#__codelineno-62-13"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">edgenum</span><span class="p">;</span>
<a id="__codelineno-62-14" name="__codelineno-62-14" href="#__codelineno-62-14"></a><span class="p">}</span><span class="n">MGraph</span><span class="p">;</span>
<a id="__codelineno-62-15" name="__codelineno-62-15" href="#__codelineno-62-15"></a>
<a id="__codelineno-62-16" name="__codelineno-62-16" href="#__codelineno-62-16"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ReadGraph</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="o">*</span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-62-17" name="__codelineno-62-17" href="#__codelineno-62-17"></a><span class="p">{</span>
<a id="__codelineno-62-18" name="__codelineno-62-18" href="#__codelineno-62-18"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-62-19" name="__codelineno-62-19" href="#__codelineno-62-19"></a><span class="w">    </span><span class="c1">// 读取顶点数和边数</span>
<a id="__codelineno-62-20" name="__codelineno-62-20" href="#__codelineno-62-20"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">,</span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">);</span>
<a id="__codelineno-62-21" name="__codelineno-62-21" href="#__codelineno-62-21"></a><span class="w">    </span><span class="c1">// 读取顶点信息</span>
<a id="__codelineno-62-22" name="__codelineno-62-22" href="#__codelineno-62-22"></a><span class="w">    </span><span class="c1">// 初始化邻接矩阵</span>
<a id="__codelineno-62-23" name="__codelineno-62-23" href="#__codelineno-62-23"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-62-24" name="__codelineno-62-24" href="#__codelineno-62-24"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-62-25" name="__codelineno-62-25" href="#__codelineno-62-25"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-62-26" name="__codelineno-62-26" href="#__codelineno-62-26"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-62-27" name="__codelineno-62-27" href="#__codelineno-62-27"></a><span class="w">            </span><span class="c1">// 由于图无自环，自己到自己的距离为0</span>
<a id="__codelineno-62-28" name="__codelineno-62-28" href="#__codelineno-62-28"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-62-29" name="__codelineno-62-29" href="#__codelineno-62-29"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-62-30" name="__codelineno-62-30" href="#__codelineno-62-30"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-62-31" name="__codelineno-62-31" href="#__codelineno-62-31"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-62-32" name="__codelineno-62-32" href="#__codelineno-62-32"></a><span class="w">            </span><span class="k">else</span>
<a id="__codelineno-62-33" name="__codelineno-62-33" href="#__codelineno-62-33"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-62-34" name="__codelineno-62-34" href="#__codelineno-62-34"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-62-35" name="__codelineno-62-35" href="#__codelineno-62-35"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-62-36" name="__codelineno-62-36" href="#__codelineno-62-36"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-62-37" name="__codelineno-62-37" href="#__codelineno-62-37"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-62-38" name="__codelineno-62-38" href="#__codelineno-62-38"></a><span class="w">    </span><span class="c1">// 读取边信息，对于有向图</span>
<a id="__codelineno-62-39" name="__codelineno-62-39" href="#__codelineno-62-39"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<a id="__codelineno-62-40" name="__codelineno-62-40" href="#__codelineno-62-40"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-62-41" name="__codelineno-62-41" href="#__codelineno-62-41"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-62-42" name="__codelineno-62-42" href="#__codelineno-62-42"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v2</span><span class="p">);</span>
<a id="__codelineno-62-43" name="__codelineno-62-43" href="#__codelineno-62-43"></a><span class="w">        </span><span class="n">v1</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-62-44" name="__codelineno-62-44" href="#__codelineno-62-44"></a><span class="w">        </span><span class="n">v2</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-62-45" name="__codelineno-62-45" href="#__codelineno-62-45"></a><span class="w">        </span><span class="c1">// v1-1,v2-1是因为数组下标从0开始</span>
<a id="__codelineno-62-46" name="__codelineno-62-46" href="#__codelineno-62-46"></a><span class="w">        </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">v1</span><span class="p">][</span><span class="n">v2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-62-47" name="__codelineno-62-47" href="#__codelineno-62-47"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-62-48" name="__codelineno-62-48" href="#__codelineno-62-48"></a><span class="p">}</span>
<a id="__codelineno-62-49" name="__codelineno-62-49" href="#__codelineno-62-49"></a><span class="c1">// 用DFS遍历图</span>
<a id="__codelineno-62-50" name="__codelineno-62-50" href="#__codelineno-62-50"></a><span class="kt">void</span><span class="w"> </span><span class="nf">DFS</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">visited</span><span class="p">[])</span>
<a id="__codelineno-62-51" name="__codelineno-62-51" href="#__codelineno-62-51"></a><span class="p">{</span>
<a id="__codelineno-62-52" name="__codelineno-62-52" href="#__codelineno-62-52"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-62-53" name="__codelineno-62-53" href="#__codelineno-62-53"></a><span class="w">    </span><span class="n">visited</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-62-54" name="__codelineno-62-54" href="#__codelineno-62-54"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-62-55" name="__codelineno-62-55" href="#__codelineno-62-55"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-62-56" name="__codelineno-62-56" href="#__codelineno-62-56"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-62-57" name="__codelineno-62-57" href="#__codelineno-62-57"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-62-58" name="__codelineno-62-58" href="#__codelineno-62-58"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-62-59" name="__codelineno-62-59" href="#__codelineno-62-59"></a><span class="w">            </span><span class="n">DFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">visited</span><span class="p">);</span>
<a id="__codelineno-62-60" name="__codelineno-62-60" href="#__codelineno-62-60"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-62-61" name="__codelineno-62-61" href="#__codelineno-62-61"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-62-62" name="__codelineno-62-62" href="#__codelineno-62-62"></a><span class="p">}</span>
<a id="__codelineno-62-63" name="__codelineno-62-63" href="#__codelineno-62-63"></a><span class="kt">void</span><span class="w"> </span><span class="nf">BFS</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">visited</span><span class="p">[])</span>
<a id="__codelineno-62-64" name="__codelineno-62-64" href="#__codelineno-62-64"></a><span class="p">{</span>
<a id="__codelineno-62-65" name="__codelineno-62-65" href="#__codelineno-62-65"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-62-66" name="__codelineno-62-66" href="#__codelineno-62-66"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">queue</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-62-67" name="__codelineno-62-67" href="#__codelineno-62-67"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-62-68" name="__codelineno-62-68" href="#__codelineno-62-68"></a><span class="w">    </span><span class="n">queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<a id="__codelineno-62-69" name="__codelineno-62-69" href="#__codelineno-62-69"></a><span class="w">    </span><span class="n">visited</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-62-70" name="__codelineno-62-70" href="#__codelineno-62-70"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-62-71" name="__codelineno-62-71" href="#__codelineno-62-71"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">rear</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">front</span><span class="p">)</span>
<a id="__codelineno-62-72" name="__codelineno-62-72" href="#__codelineno-62-72"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-62-73" name="__codelineno-62-73" href="#__codelineno-62-73"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queue</span><span class="p">[</span><span class="n">front</span><span class="o">++</span><span class="p">];</span>
<a id="__codelineno-62-74" name="__codelineno-62-74" href="#__codelineno-62-74"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-62-75" name="__codelineno-62-75" href="#__codelineno-62-75"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-62-76" name="__codelineno-62-76" href="#__codelineno-62-76"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-62-77" name="__codelineno-62-77" href="#__codelineno-62-77"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-62-78" name="__codelineno-62-78" href="#__codelineno-62-78"></a><span class="w">                </span><span class="n">queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-62-79" name="__codelineno-62-79" href="#__codelineno-62-79"></a><span class="w">                </span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-62-80" name="__codelineno-62-80" href="#__codelineno-62-80"></a><span class="w">                </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-62-81" name="__codelineno-62-81" href="#__codelineno-62-81"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-62-82" name="__codelineno-62-82" href="#__codelineno-62-82"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-62-83" name="__codelineno-62-83" href="#__codelineno-62-83"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-62-84" name="__codelineno-62-84" href="#__codelineno-62-84"></a><span class="p">}</span>
<a id="__codelineno-62-85" name="__codelineno-62-85" href="#__codelineno-62-85"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-62-86" name="__codelineno-62-86" href="#__codelineno-62-86"></a><span class="p">{</span>
<a id="__codelineno-62-87" name="__codelineno-62-87" href="#__codelineno-62-87"></a><span class="w">    </span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">;</span>
<a id="__codelineno-62-88" name="__codelineno-62-88" href="#__codelineno-62-88"></a><span class="w">    </span><span class="n">ReadGraph</span><span class="p">(</span><span class="o">&amp;</span><span class="n">G</span><span class="p">);</span>
<a id="__codelineno-62-89" name="__codelineno-62-89" href="#__codelineno-62-89"></a><span class="w">    </span><span class="c1">// 用于标记顶点是否已经被访问</span>
<a id="__codelineno-62-90" name="__codelineno-62-90" href="#__codelineno-62-90"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">visited1</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-62-91" name="__codelineno-62-91" href="#__codelineno-62-91"></a><span class="w">    </span><span class="c1">// 从顶点1开始遍历</span>
<a id="__codelineno-62-92" name="__codelineno-62-92" href="#__codelineno-62-92"></a><span class="w">    </span><span class="n">DFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">visited1</span><span class="p">);</span>
<a id="__codelineno-62-93" name="__codelineno-62-93" href="#__codelineno-62-93"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-62-94" name="__codelineno-62-94" href="#__codelineno-62-94"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">visited2</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-62-95" name="__codelineno-62-95" href="#__codelineno-62-95"></a><span class="w">    </span><span class="n">BFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">visited2</span><span class="p">);</span>
<a id="__codelineno-62-96" name="__codelineno-62-96" href="#__codelineno-62-96"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-62-97" name="__codelineno-62-97" href="#__codelineno-62-97"></a><span class="p">}</span>
</code></pre></div>
<h4 id="_9">关节点与双连通性<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<p><strong>v</strong> <strong>is an</strong> <strong>articulation point</strong> <strong>if G’ =</strong> <strong>DeleteVertex( G,</strong> <strong>v</strong> <strong>) has</strong> <strong>at least 2</strong> <strong>connected components</strong></p>
<p><code>若连通图中某个顶点和与其相连的边被删除后，该连通图被分割成两个或两个以上的连通分量，则称此结点为关节点。</code></p>
<p>G is a <strong>biconnected graph</strong> <strong>if G is connected and has no articulation points.</strong></p>
<p><code>没有关节点的连通图成为双连通图</code></p>
<p><strong>A</strong> <strong>biconnected component</strong> <strong>is a maximal biconnected subgraph.</strong></p>
<p><img alt="image-20231205084050243" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205490.png" /></p>
<blockquote>
<p><code>怎么样的图，才有可能成为双连通子图？</code></p>
<p><code>1. 先排除单点图，不符合最大双连通子图</code></p>
<p><code>2. 成环的肯定是双连通子图，特殊情况，对于两点图仅有一条边进行连接，也属于双连通子图</code></p>
</blockquote>
<p>如何求双连通分量的个数，<strong>Finding the</strong> <strong>biconnected components</strong> <strong>of a connected undirected G</strong></p>
<p><img alt="image-20231205084138367" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205944.png" /></p>
<p>从图中任意顶点开始，执行深度优先搜索，并给他们编号。</p>
<p>而<strong>对于图中实际存在而深度优先生成树中不存在的边，称为回边(v,w)或背向边(v,w)。如上例，虚线部分表示回边。</strong></p>
<blockquote>
<p>转化为求关节点的个数</p>
</blockquote>
<p>引入： num数组和low数组</p>
<ul>
<li>
<p>Num数组：第一次对图进行深度优先搜索时，依次访问结点，同时按访问顺序对结点进行编号。</p>
</li>
<li>
<p>Low数组：求可以到达的最小编号的顶点</p>
</li>
</ul>
<p><span class="arithmatex">\(Low (u) = min\{Num(u),min\{Low(w)|w \ is \ a \ child \ of \ u\}, min\{Nuw(w)|(u,w)\ is\  a\ backedge\}\}\)</span></p>
<p>解释：对于任意一个顶点V，其low数组值为自身先序编号(Num[v]),其所有孩子节点的low值的最小值，与其通过回边相连的祖先节点K的先序编号（Num[k]）这三者中的最小值。</p>
<p><img alt="image-20231205084224449" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205483.png" /></p>
<blockquote>
<p><strong>对于关节点的判定：</strong></p>
<p><strong>1. 对于根结点，根节点的儿子大于等于2，则该结点一定为关节点</strong></p>
<p><strong>2. 对于非根结点u，它是关节点当且仅当，它有某一个儿子w，使得Low（w）&gt;= Num（u）。</strong></p>
<p><code>原因在于，Low（w) &gt;= Num(u),说明信息无法传递上去，也就是说被结点u阻断了，此时u是关节点。则删除节点u后，w一定不能与u之前的节点相连，则该图不为连通图。</code></p>
<p><strong>以Vertex 6为例，Num(6) = 6,6的儿子7，Low（7） = 5，因为5和7之间有一条回边，使得7能够跳过6，从而信息传递不会阻断，6不是关节点</strong></p>
</blockquote>
<p>时间复杂度为 O（V + E）</p>
<p><img alt="image-20231212083831245" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205522.png" /></p>
<p><strong>v3和v6之间不可能存在backedge，否则无法深度搜索得到上述图</strong></p>
<h4 id="_10">欧拉回路<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<p><strong>An Euler circuit is possible only if the graph is connected and each vertex has an</strong> <strong>even</strong> <strong>degree.</strong></p>
<p>欧拉回路，所有的点都有偶数的度，一条边进去必然有一条边出来</p>
<p><strong>An Euler tour is possible if there are exactly</strong> <strong>two</strong> <strong>vertices having odd degree. One must start at one of the odd-degree vertices.</strong></p>
<p>欧拉路径，仅能存在两个点具有奇数的degree，且该路径以这两个点为起始点</p>
<blockquote>
<p><strong>上述两者的本质是相同的，当你将剩余的两个奇数degree的点连接起来，便得到了一个欧拉回路，此时所有的点都具有偶数的degree</strong></p>
</blockquote>
<h2 id="85">8.5 最短路径<a class="headerlink" href="#85" title="Permanent link">&para;</a></h2>
<p>在网图和非网图中，最短路径的含义是不同的。由于非网图它没有权值，所谓的最短路径，其实就是两顶点之间经过的边数最少的路径，对于网图来说，最短路径，是指两顶点之间经过的边上权值之和最少的路径，并且我们称路径上的第一个顶点为源点，最后一个顶点是终点。</p>
<p><strong>Given a digraph G = ( V, E ), and a cost function</strong> <strong>c</strong>( <strong>e</strong> <strong>) for</strong> <strong>e</strong> <span class="arithmatex">\(\in\)</span><strong>E( G ).  The</strong> <strong>length</strong> <strong>of a path</strong> <strong>P</strong> <strong>from</strong> <strong>source</strong> <strong>to</strong> <strong>destination</strong> <strong>is   <span class="arithmatex">\(\sum_{e_i \in P} {c(e_i)}\)</span>      (also called</strong> <strong>weighted path length</strong>).</p>
<h3 id="850-bfs">8.5.0 BFS实现无权图的最短路径<a class="headerlink" href="#850-bfs" title="Permanent link">&para;</a></h3>
<blockquote>
<p><strong>由于非网图它没有权值，所谓的最短路径，其实就是两顶点之间经过的边数最少的路径</strong></p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">65536</span><span class="p">};</span>
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">-1</span><span class="p">};</span>
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="kt">int</span><span class="w"> </span><span class="n">visited3</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="c1">// 邻接矩阵版</span>
<a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="kt">void</span><span class="w"> </span><span class="nf">BFS2</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">visited</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dist</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[])</span>
<a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="p">{</span>
<a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">queue</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a><span class="w">    </span><span class="n">queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a><span class="w">    </span><span class="n">visited</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-63-12" name="__codelineno-63-12" href="#__codelineno-63-12"></a><span class="w">    </span><span class="n">dist</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-63-13" name="__codelineno-63-13" href="#__codelineno-63-13"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">rear</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">front</span><span class="p">)</span>
<a id="__codelineno-63-14" name="__codelineno-63-14" href="#__codelineno-63-14"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-63-15" name="__codelineno-63-15" href="#__codelineno-63-15"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queue</span><span class="p">[</span><span class="n">front</span><span class="o">++</span><span class="p">];</span>
<a id="__codelineno-63-16" name="__codelineno-63-16" href="#__codelineno-63-16"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-63-17" name="__codelineno-63-17" href="#__codelineno-63-17"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-63-18" name="__codelineno-63-18" href="#__codelineno-63-18"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-63-19" name="__codelineno-63-19" href="#__codelineno-63-19"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-63-20" name="__codelineno-63-20" href="#__codelineno-63-20"></a><span class="w">                </span><span class="n">queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-63-21" name="__codelineno-63-21" href="#__codelineno-63-21"></a><span class="w">                </span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-63-22" name="__codelineno-63-22" href="#__codelineno-63-22"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-63-23" name="__codelineno-63-23" href="#__codelineno-63-23"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-63-24" name="__codelineno-63-24" href="#__codelineno-63-24"></a><span class="w">                    </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-63-25" name="__codelineno-63-25" href="#__codelineno-63-25"></a><span class="w">                    </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u</span><span class="p">;</span>
<a id="__codelineno-63-26" name="__codelineno-63-26" href="#__codelineno-63-26"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-63-27" name="__codelineno-63-27" href="#__codelineno-63-27"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-63-28" name="__codelineno-63-28" href="#__codelineno-63-28"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-63-29" name="__codelineno-63-29" href="#__codelineno-63-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-63-30" name="__codelineno-63-30" href="#__codelineno-63-30"></a><span class="p">}</span>
</code></pre></div>
<p><img alt="image-20231124211919222" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205613.png" /></p>
<p>升级版使用队列存储</p>
<p><img alt="image-20231124212148108" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205970.png" /></p>
<h3 id="851-dijkstra">8.5.1 Dijkstra算法<a class="headerlink" href="#851-dijkstra" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Dijkstra算法用于构建<strong>单源点(single source)的最短路径</strong>，即图中某一点到任何其他点的距离都是最短的。</p>
<p>可以运用于有向图，<code>但是不能存在负权值</code>。</p>
</blockquote>
<p>通俗的说，Dijkstra算法，它并不是一下子求出<span class="arithmatex">\(V_0到V_8\)</span>的最短路径，而是一步步求出它们之间顶点的最短路径，过程中都是基于已经求出的最短路径的基础，求出更远顶点的最短路径。</p>
<ul>
<li>设置一个集合S，记录已经求出最短路径的顶点</li>
<li>设置<strong>辅助数组</strong>，<strong>dist[ ]：记录从源点<span class="arithmatex">\(v_0\)</span>到其他顶点当前的最短路径长度</strong>，<code>它的初态是，若从$v_0$到$v_i$有弧，则dist[i]为弧上的权值，否则设置dist[i]为</code><span class="arithmatex">\(\infin\)</span></li>
</ul>
<p><img alt="image-20231124191106455" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205537.png" /></p>
<p><img alt="image-20231124191139343" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205844.png" /></p>
<p><strong><code>集合S表示当前已经求出最短距离的点，求更远距离的点的最短距离需要在它们的基础上，也就是以集合S中点为中间点，不能使用集合外的点</code></strong></p>
<p><img alt="image-20231124191436347" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205972.png" /></p>
<p>在使用邻接矩阵或者带权值的邻接表表示时，时间复杂度为<span class="arithmatex">\(<span class="arithmatex">\(O(V^2)\)</span>\)</span></p>
<blockquote>
<p><strong>如果变成无权图，只需要将weight变成1，此时的dist变成顶点v0到该点的边的数量</strong></p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a>
<a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="cp">#define MAXVERTEXNUM 20</span>
<a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="cp">#define INF 65535</span>
<a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a>
<a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span>
<a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">EdgeType</span><span class="p">;</span>
<a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">point</span><span class="p">{</span>
<a id="__codelineno-64-10" name="__codelineno-64-10" href="#__codelineno-64-10"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">Vex</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-64-11" name="__codelineno-64-11" href="#__codelineno-64-11"></a><span class="w">    </span><span class="n">EdgeType</span><span class="w"> </span><span class="n">Edge</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-64-12" name="__codelineno-64-12" href="#__codelineno-64-12"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">vexnum</span><span class="p">;</span>
<a id="__codelineno-64-13" name="__codelineno-64-13" href="#__codelineno-64-13"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">edgenum</span><span class="p">;</span>
<a id="__codelineno-64-14" name="__codelineno-64-14" href="#__codelineno-64-14"></a><span class="p">}</span><span class="n">MGraph</span><span class="p">;</span>
<a id="__codelineno-64-15" name="__codelineno-64-15" href="#__codelineno-64-15"></a>
<a id="__codelineno-64-16" name="__codelineno-64-16" href="#__codelineno-64-16"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ReadGraph</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="o">*</span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-64-17" name="__codelineno-64-17" href="#__codelineno-64-17"></a><span class="p">{</span>
<a id="__codelineno-64-18" name="__codelineno-64-18" href="#__codelineno-64-18"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-64-19" name="__codelineno-64-19" href="#__codelineno-64-19"></a><span class="w">    </span><span class="c1">// 读取顶点数和边数</span>
<a id="__codelineno-64-20" name="__codelineno-64-20" href="#__codelineno-64-20"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">,</span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">);</span>
<a id="__codelineno-64-21" name="__codelineno-64-21" href="#__codelineno-64-21"></a><span class="w">    </span><span class="c1">// 读取顶点信息</span>
<a id="__codelineno-64-22" name="__codelineno-64-22" href="#__codelineno-64-22"></a><span class="w">    </span><span class="c1">// 初始化邻接矩阵</span>
<a id="__codelineno-64-23" name="__codelineno-64-23" href="#__codelineno-64-23"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-64-24" name="__codelineno-64-24" href="#__codelineno-64-24"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-64-25" name="__codelineno-64-25" href="#__codelineno-64-25"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-64-26" name="__codelineno-64-26" href="#__codelineno-64-26"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-64-27" name="__codelineno-64-27" href="#__codelineno-64-27"></a><span class="w">            </span><span class="c1">// 由于图无自环，自己到自己的距离为0</span>
<a id="__codelineno-64-28" name="__codelineno-64-28" href="#__codelineno-64-28"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-64-29" name="__codelineno-64-29" href="#__codelineno-64-29"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-64-30" name="__codelineno-64-30" href="#__codelineno-64-30"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-64-31" name="__codelineno-64-31" href="#__codelineno-64-31"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-64-32" name="__codelineno-64-32" href="#__codelineno-64-32"></a><span class="w">            </span><span class="k">else</span>
<a id="__codelineno-64-33" name="__codelineno-64-33" href="#__codelineno-64-33"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-64-34" name="__codelineno-64-34" href="#__codelineno-64-34"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-64-35" name="__codelineno-64-35" href="#__codelineno-64-35"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-64-36" name="__codelineno-64-36" href="#__codelineno-64-36"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-64-37" name="__codelineno-64-37" href="#__codelineno-64-37"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-64-38" name="__codelineno-64-38" href="#__codelineno-64-38"></a><span class="w">    </span><span class="c1">// 读取边信息，对于有向图</span>
<a id="__codelineno-64-39" name="__codelineno-64-39" href="#__codelineno-64-39"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">,</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-64-40" name="__codelineno-64-40" href="#__codelineno-64-40"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-64-41" name="__codelineno-64-41" href="#__codelineno-64-41"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-64-42" name="__codelineno-64-42" href="#__codelineno-64-42"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v2</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">weight</span><span class="p">);</span>
<a id="__codelineno-64-43" name="__codelineno-64-43" href="#__codelineno-64-43"></a><span class="w">        </span><span class="n">v1</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-64-44" name="__codelineno-64-44" href="#__codelineno-64-44"></a><span class="w">        </span><span class="n">v2</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-64-45" name="__codelineno-64-45" href="#__codelineno-64-45"></a><span class="w">        </span><span class="c1">// v1-1,v2-1是因为数组下标从0开始</span>
<a id="__codelineno-64-46" name="__codelineno-64-46" href="#__codelineno-64-46"></a><span class="w">        </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">v1</span><span class="p">][</span><span class="n">v2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-64-47" name="__codelineno-64-47" href="#__codelineno-64-47"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-64-48" name="__codelineno-64-48" href="#__codelineno-64-48"></a><span class="p">}</span>
<a id="__codelineno-64-49" name="__codelineno-64-49" href="#__codelineno-64-49"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Dijkstra</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v0</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dist</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[])</span>
<a id="__codelineno-64-50" name="__codelineno-64-50" href="#__codelineno-64-50"></a><span class="p">{</span>
<a id="__codelineno-64-51" name="__codelineno-64-51" href="#__codelineno-64-51"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-64-52" name="__codelineno-64-52" href="#__codelineno-64-52"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用于存储从v0到其他顶点的最短路径长度</span>
<a id="__codelineno-64-53" name="__codelineno-64-53" href="#__codelineno-64-53"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span><span class="w"> </span><span class="c1">// 用于标记顶点是否已经被访问</span>
<a id="__codelineno-64-54" name="__codelineno-64-54" href="#__codelineno-64-54"></a><span class="w">    </span><span class="c1">// 初始化图表,先看顶点v0到其他顶点的距离</span>
<a id="__codelineno-64-55" name="__codelineno-64-55" href="#__codelineno-64-55"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-64-56" name="__codelineno-64-56" href="#__codelineno-64-56"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-64-57" name="__codelineno-64-57" href="#__codelineno-64-57"></a><span class="w">        </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v0</span><span class="p">][</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-64-58" name="__codelineno-64-58" href="#__codelineno-64-58"></a><span class="w">        </span><span class="n">flag</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点i还没有被访问</span>
<a id="__codelineno-64-59" name="__codelineno-64-59" href="#__codelineno-64-59"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">INF</span><span class="p">)</span>
<a id="__codelineno-64-60" name="__codelineno-64-60" href="#__codelineno-64-60"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-64-61" name="__codelineno-64-61" href="#__codelineno-64-61"></a><span class="w">            </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="p">;</span>
<a id="__codelineno-64-62" name="__codelineno-64-62" href="#__codelineno-64-62"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-64-63" name="__codelineno-64-63" href="#__codelineno-64-63"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-64-64" name="__codelineno-64-64" href="#__codelineno-64-64"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-64-65" name="__codelineno-64-65" href="#__codelineno-64-65"></a><span class="w">            </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-64-66" name="__codelineno-64-66" href="#__codelineno-64-66"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-64-67" name="__codelineno-64-67" href="#__codelineno-64-67"></a><span class="w">        </span><span class="c1">// 顶点v0到顶点i有边，则将i的前驱置为v0,否则置为-1</span>
<a id="__codelineno-64-68" name="__codelineno-64-68" href="#__codelineno-64-68"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-64-69" name="__codelineno-64-69" href="#__codelineno-64-69"></a><span class="w">    </span><span class="n">flag</span><span class="p">[</span><span class="n">v0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点v0已经被访问</span>
<a id="__codelineno-64-70" name="__codelineno-64-70" href="#__codelineno-64-70"></a><span class="w">    </span><span class="n">path</span><span class="p">[</span><span class="n">v0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点v0没有前驱</span>
<a id="__codelineno-64-71" name="__codelineno-64-71" href="#__codelineno-64-71"></a><span class="w">    </span><span class="c1">// 正式开始寻找最短路径</span>
<a id="__codelineno-64-72" name="__codelineno-64-72" href="#__codelineno-64-72"></a><span class="w">    </span><span class="c1">// 由于每一轮都能找到一个点的最短路径，并且更新dist数组，所以一共需要G.vexnum - 1轮</span>
<a id="__codelineno-64-73" name="__codelineno-64-73" href="#__codelineno-64-73"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-64-74" name="__codelineno-64-74" href="#__codelineno-64-74"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-64-75" name="__codelineno-64-75" href="#__codelineno-64-75"></a><span class="w">        </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-64-76" name="__codelineno-64-76" href="#__codelineno-64-76"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="p">;</span>
<a id="__codelineno-64-77" name="__codelineno-64-77" href="#__codelineno-64-77"></a><span class="w">        </span><span class="c1">// 找到当前未被访问的顶点中距离v0最近的顶点</span>
<a id="__codelineno-64-78" name="__codelineno-64-78" href="#__codelineno-64-78"></a><span class="w">        </span><span class="c1">// 每一轮开始都寻找最短路径，扩充已经访问的顶点集合</span>
<a id="__codelineno-64-79" name="__codelineno-64-79" href="#__codelineno-64-79"></a><span class="w">        </span><span class="c1">// 由于dist数组已经被更新，所以需要重新遍历寻找最短路径</span>
<a id="__codelineno-64-80" name="__codelineno-64-80" href="#__codelineno-64-80"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-64-81" name="__codelineno-64-81" href="#__codelineno-64-81"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-64-82" name="__codelineno-64-82" href="#__codelineno-64-82"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-64-83" name="__codelineno-64-83" href="#__codelineno-64-83"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-64-84" name="__codelineno-64-84" href="#__codelineno-64-84"></a><span class="w">                </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-64-85" name="__codelineno-64-85" href="#__codelineno-64-85"></a><span class="w">                </span><span class="n">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-64-86" name="__codelineno-64-86" href="#__codelineno-64-86"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-64-87" name="__codelineno-64-87" href="#__codelineno-64-87"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-64-88" name="__codelineno-64-88" href="#__codelineno-64-88"></a><span class="w">        </span><span class="c1">// 将u标记为已访问，即找到了从v0到u的最短路径</span>
<a id="__codelineno-64-89" name="__codelineno-64-89" href="#__codelineno-64-89"></a><span class="w">        </span><span class="n">flag</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-64-90" name="__codelineno-64-90" href="#__codelineno-64-90"></a><span class="w">        </span><span class="c1">// 从u出发，找到u到其他顶点的最短路径，也就是v0到其他顶点的最短路径</span>
<a id="__codelineno-64-91" name="__codelineno-64-91" href="#__codelineno-64-91"></a><span class="w">        </span><span class="c1">// 由于每一轮都能找到一个点的最短路径，并且更新dist数组，所以一共需要G.vexnum - 1轮</span>
<a id="__codelineno-64-92" name="__codelineno-64-92" href="#__codelineno-64-92"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-64-93" name="__codelineno-64-93" href="#__codelineno-64-93"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-64-94" name="__codelineno-64-94" href="#__codelineno-64-94"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">INF</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
<a id="__codelineno-64-95" name="__codelineno-64-95" href="#__codelineno-64-95"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-64-96" name="__codelineno-64-96" href="#__codelineno-64-96"></a><span class="w">                </span><span class="c1">// 找到了更短的路径，更新dist数组</span>
<a id="__codelineno-64-97" name="__codelineno-64-97" href="#__codelineno-64-97"></a><span class="w">                </span><span class="n">dist</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-64-98" name="__codelineno-64-98" href="#__codelineno-64-98"></a><span class="w">                </span><span class="n">path</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u</span><span class="p">;</span>
<a id="__codelineno-64-99" name="__codelineno-64-99" href="#__codelineno-64-99"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-64-100" name="__codelineno-64-100" href="#__codelineno-64-100"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-64-101" name="__codelineno-64-101" href="#__codelineno-64-101"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-64-102" name="__codelineno-64-102" href="#__codelineno-64-102"></a><span class="p">}</span>
<a id="__codelineno-64-103" name="__codelineno-64-103" href="#__codelineno-64-103"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-64-104" name="__codelineno-64-104" href="#__codelineno-64-104"></a><span class="p">{</span>
<a id="__codelineno-64-105" name="__codelineno-64-105" href="#__codelineno-64-105"></a><span class="w">    </span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">;</span>
<a id="__codelineno-64-106" name="__codelineno-64-106" href="#__codelineno-64-106"></a><span class="w">    </span><span class="n">ReadGraph</span><span class="p">(</span><span class="o">&amp;</span><span class="n">G</span><span class="p">);</span>
<a id="__codelineno-64-107" name="__codelineno-64-107" href="#__codelineno-64-107"></a><span class="w">    </span><span class="c1">// 用于存储从v0到其他顶点的最短路径长度</span>
<a id="__codelineno-64-108" name="__codelineno-64-108" href="#__codelineno-64-108"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-64-109" name="__codelineno-64-109" href="#__codelineno-64-109"></a><span class="w">    </span><span class="c1">// 用于标记最短路径的前一个顶点</span>
<a id="__codelineno-64-110" name="__codelineno-64-110" href="#__codelineno-64-110"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-64-111" name="__codelineno-64-111" href="#__codelineno-64-111"></a><span class="w">    </span><span class="c1">// 使用Dijkstra算法求最短路径</span>
<a id="__codelineno-64-112" name="__codelineno-64-112" href="#__codelineno-64-112"></a><span class="w">    </span><span class="n">Dijkstra</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">dist</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="p">);</span>
<a id="__codelineno-64-113" name="__codelineno-64-113" href="#__codelineno-64-113"></a><span class="w">    </span><span class="c1">// 输出最短路径</span>
<a id="__codelineno-64-114" name="__codelineno-64-114" href="#__codelineno-64-114"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-64-115" name="__codelineno-64-115" href="#__codelineno-64-115"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-64-116" name="__codelineno-64-116" href="#__codelineno-64-116"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-64-117" name="__codelineno-64-117" href="#__codelineno-64-117"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-64-118" name="__codelineno-64-118" href="#__codelineno-64-118"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-64-119" name="__codelineno-64-119" href="#__codelineno-64-119"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-64-120" name="__codelineno-64-120" href="#__codelineno-64-120"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-64-121" name="__codelineno-64-121" href="#__codelineno-64-121"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-64-122" name="__codelineno-64-122" href="#__codelineno-64-122"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-64-123" name="__codelineno-64-123" href="#__codelineno-64-123"></a><span class="p">}</span>
</code></pre></div>
<h3 id="852-floyd">8.5.2 Floyd 算法<a class="headerlink" href="#852-floyd" title="Permanent link">&para;</a></h3>
<p>Floyd 算法定义了两个二维矩阵</p>
<ol>
<li>矩阵D记录顶点间的最短路径</li>
</ol>
<p>eg： D【0】【3】 = 10，说明顶点0到3的最短路径为10</p>
<ol start="2">
<li>矩阵P记录顶点间最短路径中的中转点</li>
</ol>
<p>eg： P【0】【3】 = 1说明，0到3的最短路径轨迹为0 - &gt; 1 - &gt; 3</p>
<ol start="3">
<li>它通过3重循环，k为中转点，v为起点，w为终点，循环比较 <span class="arithmatex">\(D[v][w] 和 D[v][k] + D[k][w]\)</span>最小值，如果<span class="arithmatex">\(D[v][k] + D[k][w]\)</span>更小，就将<span class="arithmatex">\(d[v][k] + D[k][w]\)</span>覆盖保存在<span class="arithmatex">\(D[v][w]\)</span>中</li>
</ol>
<blockquote>
<p>example</p>
</blockquote>
<p><img alt="image-20231124222707697" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205856.png" /></p>
<p><img alt="image-20231124222858512" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205053.png" /></p>
<p><img alt="image-20231124222905709" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205349.png" /></p>
<p><img alt="image-20231124222914529" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205463.png" /></p>
<p><img alt="image-20231124222920685" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205979.png" /></p>
<p><img alt="image-20231124222926042" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205087.png" /></p>
<p><img alt="image-20231124222935488" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205080.png" /></p>
<p><img alt="image-20231124222942219" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205249.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Floyd</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dist</span><span class="p">[][</span><span class="n">MAXVERTEXNUM</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[][</span><span class="n">MAXVERTEXNUM</span><span class="p">])</span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="p">{</span>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="w">    </span><span class="c1">// 初始化dist和path数组</span>
<a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a><span class="w">            </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-65-10" name="__codelineno-65-10" href="#__codelineno-65-10"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">INF</span><span class="p">)</span>
<a id="__codelineno-65-11" name="__codelineno-65-11" href="#__codelineno-65-11"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-65-12" name="__codelineno-65-12" href="#__codelineno-65-12"></a><span class="w">                </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-65-13" name="__codelineno-65-13" href="#__codelineno-65-13"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-65-14" name="__codelineno-65-14" href="#__codelineno-65-14"></a><span class="w">            </span><span class="k">else</span>
<a id="__codelineno-65-15" name="__codelineno-65-15" href="#__codelineno-65-15"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-65-16" name="__codelineno-65-16" href="#__codelineno-65-16"></a><span class="w">                </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-65-17" name="__codelineno-65-17" href="#__codelineno-65-17"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-65-18" name="__codelineno-65-18" href="#__codelineno-65-18"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-65-19" name="__codelineno-65-19" href="#__codelineno-65-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-65-20" name="__codelineno-65-20" href="#__codelineno-65-20"></a><span class="w">    </span><span class="c1">// 正式开始寻找最短路径</span>
<a id="__codelineno-65-21" name="__codelineno-65-21" href="#__codelineno-65-21"></a><span class="w">    </span><span class="c1">// 由于每一轮都能找到一个点的最短路径，并且更新dist数组，所以一共需要G.vexnum - 1轮</span>
<a id="__codelineno-65-22" name="__codelineno-65-22" href="#__codelineno-65-22"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-65-23" name="__codelineno-65-23" href="#__codelineno-65-23"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-65-24" name="__codelineno-65-24" href="#__codelineno-65-24"></a><span class="w">        </span><span class="c1">// k作为中转点</span>
<a id="__codelineno-65-25" name="__codelineno-65-25" href="#__codelineno-65-25"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-65-26" name="__codelineno-65-26" href="#__codelineno-65-26"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-65-27" name="__codelineno-65-27" href="#__codelineno-65-27"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-65-28" name="__codelineno-65-28" href="#__codelineno-65-28"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-65-29" name="__codelineno-65-29" href="#__codelineno-65-29"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
<a id="__codelineno-65-30" name="__codelineno-65-30" href="#__codelineno-65-30"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-65-31" name="__codelineno-65-31" href="#__codelineno-65-31"></a><span class="w">                    </span><span class="c1">// 找到了更短的路径，更新dist数组</span>
<a id="__codelineno-65-32" name="__codelineno-65-32" href="#__codelineno-65-32"></a><span class="w">                    </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-65-33" name="__codelineno-65-33" href="#__codelineno-65-33"></a><span class="w">                    </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-65-34" name="__codelineno-65-34" href="#__codelineno-65-34"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-65-35" name="__codelineno-65-35" href="#__codelineno-65-35"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-65-36" name="__codelineno-65-36" href="#__codelineno-65-36"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-65-37" name="__codelineno-65-37" href="#__codelineno-65-37"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-65-38" name="__codelineno-65-38" href="#__codelineno-65-38"></a><span class="p">}</span>
<a id="__codelineno-65-39" name="__codelineno-65-39" href="#__codelineno-65-39"></a>
<a id="__codelineno-65-40" name="__codelineno-65-40" href="#__codelineno-65-40"></a><span class="c1">// 用于存储任意两点之间的最短路径长度</span>
<a id="__codelineno-65-41" name="__codelineno-65-41" href="#__codelineno-65-41"></a><span class="kt">int</span><span class="w"> </span><span class="n">dist2</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-65-42" name="__codelineno-65-42" href="#__codelineno-65-42"></a><span class="c1">// 用于存储任意两点之间的最短路径</span>
<a id="__codelineno-65-43" name="__codelineno-65-43" href="#__codelineno-65-43"></a><span class="kt">int</span><span class="w"> </span><span class="n">path2</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-65-44" name="__codelineno-65-44" href="#__codelineno-65-44"></a><span class="c1">// 使用Floyd算法求最短路径</span>
<a id="__codelineno-65-45" name="__codelineno-65-45" href="#__codelineno-65-45"></a><span class="n">Floyd</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">dist2</span><span class="p">,</span><span class="w"> </span><span class="n">path2</span><span class="p">);</span>
<a id="__codelineno-65-46" name="__codelineno-65-46" href="#__codelineno-65-46"></a><span class="c1">// 输出最短路径</span>
<a id="__codelineno-65-47" name="__codelineno-65-47" href="#__codelineno-65-47"></a><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-65-48" name="__codelineno-65-48" href="#__codelineno-65-48"></a><span class="p">{</span>
<a id="__codelineno-65-49" name="__codelineno-65-49" href="#__codelineno-65-49"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-65-50" name="__codelineno-65-50" href="#__codelineno-65-50"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-65-51" name="__codelineno-65-51" href="#__codelineno-65-51"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dist2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
<a id="__codelineno-65-52" name="__codelineno-65-52" href="#__codelineno-65-52"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-65-53" name="__codelineno-65-53" href="#__codelineno-65-53"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-65-54" name="__codelineno-65-54" href="#__codelineno-65-54"></a><span class="p">}</span>
<a id="__codelineno-65-55" name="__codelineno-65-55" href="#__codelineno-65-55"></a><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-65-56" name="__codelineno-65-56" href="#__codelineno-65-56"></a><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-65-57" name="__codelineno-65-57" href="#__codelineno-65-57"></a><span class="p">{</span>
<a id="__codelineno-65-58" name="__codelineno-65-58" href="#__codelineno-65-58"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-65-59" name="__codelineno-65-59" href="#__codelineno-65-59"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-65-60" name="__codelineno-65-60" href="#__codelineno-65-60"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-65-61" name="__codelineno-65-61" href="#__codelineno-65-61"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-65-62" name="__codelineno-65-62" href="#__codelineno-65-62"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-65-63" name="__codelineno-65-63" href="#__codelineno-65-63"></a><span class="p">}</span>
<a id="__codelineno-65-64" name="__codelineno-65-64" href="#__codelineno-65-64"></a><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</code></pre></div>
<h3 id="853">8.5.3 最短路径总结<a class="headerlink" href="#853" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a>
<a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="cp">#define MAXVERTEXNUM 20</span>
<a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a><span class="cp">#define INF 65535</span>
<a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a>
<a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span>
<a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">EdgeType</span><span class="p">;</span>
<a id="__codelineno-66-9" name="__codelineno-66-9" href="#__codelineno-66-9"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">point</span><span class="p">{</span>
<a id="__codelineno-66-10" name="__codelineno-66-10" href="#__codelineno-66-10"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">Vex</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-66-11" name="__codelineno-66-11" href="#__codelineno-66-11"></a><span class="w">    </span><span class="n">EdgeType</span><span class="w"> </span><span class="n">Edge</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-66-12" name="__codelineno-66-12" href="#__codelineno-66-12"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">vexnum</span><span class="p">;</span>
<a id="__codelineno-66-13" name="__codelineno-66-13" href="#__codelineno-66-13"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">edgenum</span><span class="p">;</span>
<a id="__codelineno-66-14" name="__codelineno-66-14" href="#__codelineno-66-14"></a><span class="p">}</span><span class="n">MGraph</span><span class="p">;</span>
<a id="__codelineno-66-15" name="__codelineno-66-15" href="#__codelineno-66-15"></a>
<a id="__codelineno-66-16" name="__codelineno-66-16" href="#__codelineno-66-16"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ReadGraph</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="o">*</span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-66-17" name="__codelineno-66-17" href="#__codelineno-66-17"></a><span class="p">{</span>
<a id="__codelineno-66-18" name="__codelineno-66-18" href="#__codelineno-66-18"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-66-19" name="__codelineno-66-19" href="#__codelineno-66-19"></a><span class="w">    </span><span class="c1">// 读取顶点数和边数</span>
<a id="__codelineno-66-20" name="__codelineno-66-20" href="#__codelineno-66-20"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">,</span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">);</span>
<a id="__codelineno-66-21" name="__codelineno-66-21" href="#__codelineno-66-21"></a><span class="w">    </span><span class="c1">// 读取顶点信息</span>
<a id="__codelineno-66-22" name="__codelineno-66-22" href="#__codelineno-66-22"></a><span class="w">    </span><span class="c1">// 初始化邻接矩阵</span>
<a id="__codelineno-66-23" name="__codelineno-66-23" href="#__codelineno-66-23"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-24" name="__codelineno-66-24" href="#__codelineno-66-24"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-66-25" name="__codelineno-66-25" href="#__codelineno-66-25"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-26" name="__codelineno-66-26" href="#__codelineno-66-26"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-66-27" name="__codelineno-66-27" href="#__codelineno-66-27"></a><span class="w">            </span><span class="c1">// 由于图无自环，自己到自己的距离为0</span>
<a id="__codelineno-66-28" name="__codelineno-66-28" href="#__codelineno-66-28"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-66-29" name="__codelineno-66-29" href="#__codelineno-66-29"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-66-30" name="__codelineno-66-30" href="#__codelineno-66-30"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-66-31" name="__codelineno-66-31" href="#__codelineno-66-31"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-66-32" name="__codelineno-66-32" href="#__codelineno-66-32"></a><span class="w">            </span><span class="k">else</span>
<a id="__codelineno-66-33" name="__codelineno-66-33" href="#__codelineno-66-33"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-66-34" name="__codelineno-66-34" href="#__codelineno-66-34"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-66-35" name="__codelineno-66-35" href="#__codelineno-66-35"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-66-36" name="__codelineno-66-36" href="#__codelineno-66-36"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-66-37" name="__codelineno-66-37" href="#__codelineno-66-37"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-38" name="__codelineno-66-38" href="#__codelineno-66-38"></a><span class="w">    </span><span class="c1">// 读取边信息，对于有向图</span>
<a id="__codelineno-66-39" name="__codelineno-66-39" href="#__codelineno-66-39"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">,</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-66-40" name="__codelineno-66-40" href="#__codelineno-66-40"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-41" name="__codelineno-66-41" href="#__codelineno-66-41"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-66-42" name="__codelineno-66-42" href="#__codelineno-66-42"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v2</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">weight</span><span class="p">);</span>
<a id="__codelineno-66-43" name="__codelineno-66-43" href="#__codelineno-66-43"></a><span class="w">        </span><span class="n">v1</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-66-44" name="__codelineno-66-44" href="#__codelineno-66-44"></a><span class="w">        </span><span class="n">v2</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-66-45" name="__codelineno-66-45" href="#__codelineno-66-45"></a><span class="w">        </span><span class="c1">// v1-1,v2-1是因为数组下标从0开始</span>
<a id="__codelineno-66-46" name="__codelineno-66-46" href="#__codelineno-66-46"></a><span class="w">        </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">v1</span><span class="p">][</span><span class="n">v2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-66-47" name="__codelineno-66-47" href="#__codelineno-66-47"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-48" name="__codelineno-66-48" href="#__codelineno-66-48"></a><span class="p">}</span>
<a id="__codelineno-66-49" name="__codelineno-66-49" href="#__codelineno-66-49"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Dijkstra</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v0</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dist</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[])</span>
<a id="__codelineno-66-50" name="__codelineno-66-50" href="#__codelineno-66-50"></a><span class="p">{</span>
<a id="__codelineno-66-51" name="__codelineno-66-51" href="#__codelineno-66-51"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-66-52" name="__codelineno-66-52" href="#__codelineno-66-52"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用于存储从v0到其他顶点的最短路径长度</span>
<a id="__codelineno-66-53" name="__codelineno-66-53" href="#__codelineno-66-53"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span><span class="w"> </span><span class="c1">// 用于标记顶点是否已经被访问</span>
<a id="__codelineno-66-54" name="__codelineno-66-54" href="#__codelineno-66-54"></a><span class="w">    </span><span class="c1">// 初始化图表,先看顶点v0到其他顶点的距离</span>
<a id="__codelineno-66-55" name="__codelineno-66-55" href="#__codelineno-66-55"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-56" name="__codelineno-66-56" href="#__codelineno-66-56"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-66-57" name="__codelineno-66-57" href="#__codelineno-66-57"></a><span class="w">        </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v0</span><span class="p">][</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-66-58" name="__codelineno-66-58" href="#__codelineno-66-58"></a><span class="w">        </span><span class="n">flag</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点i还没有被访问</span>
<a id="__codelineno-66-59" name="__codelineno-66-59" href="#__codelineno-66-59"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">INF</span><span class="p">)</span>
<a id="__codelineno-66-60" name="__codelineno-66-60" href="#__codelineno-66-60"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-66-61" name="__codelineno-66-61" href="#__codelineno-66-61"></a><span class="w">            </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="p">;</span>
<a id="__codelineno-66-62" name="__codelineno-66-62" href="#__codelineno-66-62"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-66-63" name="__codelineno-66-63" href="#__codelineno-66-63"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-66-64" name="__codelineno-66-64" href="#__codelineno-66-64"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-66-65" name="__codelineno-66-65" href="#__codelineno-66-65"></a><span class="w">            </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-66-66" name="__codelineno-66-66" href="#__codelineno-66-66"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-66-67" name="__codelineno-66-67" href="#__codelineno-66-67"></a><span class="w">        </span><span class="c1">// 顶点v0到顶点i有边，则将i的前驱置为v0,否则置为-1</span>
<a id="__codelineno-66-68" name="__codelineno-66-68" href="#__codelineno-66-68"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-69" name="__codelineno-66-69" href="#__codelineno-66-69"></a><span class="w">    </span><span class="n">flag</span><span class="p">[</span><span class="n">v0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点v0已经被访问</span>
<a id="__codelineno-66-70" name="__codelineno-66-70" href="#__codelineno-66-70"></a><span class="w">    </span><span class="n">path</span><span class="p">[</span><span class="n">v0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点v0没有前驱</span>
<a id="__codelineno-66-71" name="__codelineno-66-71" href="#__codelineno-66-71"></a><span class="w">    </span><span class="c1">// 正式开始寻找最短路径</span>
<a id="__codelineno-66-72" name="__codelineno-66-72" href="#__codelineno-66-72"></a><span class="w">    </span><span class="c1">// 由于每一轮都能找到一个点的最短路径，并且更新dist数组，所以一共需要G.vexnum - 1轮</span>
<a id="__codelineno-66-73" name="__codelineno-66-73" href="#__codelineno-66-73"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-74" name="__codelineno-66-74" href="#__codelineno-66-74"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-66-75" name="__codelineno-66-75" href="#__codelineno-66-75"></a><span class="w">        </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-66-76" name="__codelineno-66-76" href="#__codelineno-66-76"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="p">;</span>
<a id="__codelineno-66-77" name="__codelineno-66-77" href="#__codelineno-66-77"></a><span class="w">        </span><span class="c1">// 找到当前未被访问的顶点中距离v0最近的顶点</span>
<a id="__codelineno-66-78" name="__codelineno-66-78" href="#__codelineno-66-78"></a><span class="w">        </span><span class="c1">// 每一轮开始都寻找最短路径，扩充已经访问的顶点集合</span>
<a id="__codelineno-66-79" name="__codelineno-66-79" href="#__codelineno-66-79"></a><span class="w">        </span><span class="c1">// 由于dist数组已经被更新，所以需要重新遍历寻找最短路径</span>
<a id="__codelineno-66-80" name="__codelineno-66-80" href="#__codelineno-66-80"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-81" name="__codelineno-66-81" href="#__codelineno-66-81"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-66-82" name="__codelineno-66-82" href="#__codelineno-66-82"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-66-83" name="__codelineno-66-83" href="#__codelineno-66-83"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-66-84" name="__codelineno-66-84" href="#__codelineno-66-84"></a><span class="w">                </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-66-85" name="__codelineno-66-85" href="#__codelineno-66-85"></a><span class="w">                </span><span class="n">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-66-86" name="__codelineno-66-86" href="#__codelineno-66-86"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-66-87" name="__codelineno-66-87" href="#__codelineno-66-87"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-66-88" name="__codelineno-66-88" href="#__codelineno-66-88"></a><span class="w">        </span><span class="c1">// 将u标记为已访问，即找到了从v0到u的最短路径</span>
<a id="__codelineno-66-89" name="__codelineno-66-89" href="#__codelineno-66-89"></a><span class="w">        </span><span class="n">flag</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-66-90" name="__codelineno-66-90" href="#__codelineno-66-90"></a><span class="w">        </span><span class="c1">// 从u出发，找到u到其他顶点的最短路径，也就是v0到其他顶点的最短路径</span>
<a id="__codelineno-66-91" name="__codelineno-66-91" href="#__codelineno-66-91"></a><span class="w">        </span><span class="c1">// 由于每一轮都能找到一个点的最短路径，并且更新dist数组，所以一共需要G.vexnum - 1轮</span>
<a id="__codelineno-66-92" name="__codelineno-66-92" href="#__codelineno-66-92"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-93" name="__codelineno-66-93" href="#__codelineno-66-93"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-66-94" name="__codelineno-66-94" href="#__codelineno-66-94"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">INF</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
<a id="__codelineno-66-95" name="__codelineno-66-95" href="#__codelineno-66-95"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-66-96" name="__codelineno-66-96" href="#__codelineno-66-96"></a><span class="w">                </span><span class="c1">// 找到了更短的路径，更新dist数组</span>
<a id="__codelineno-66-97" name="__codelineno-66-97" href="#__codelineno-66-97"></a><span class="w">                </span><span class="n">dist</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-66-98" name="__codelineno-66-98" href="#__codelineno-66-98"></a><span class="w">                </span><span class="n">path</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u</span><span class="p">;</span>
<a id="__codelineno-66-99" name="__codelineno-66-99" href="#__codelineno-66-99"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-66-100" name="__codelineno-66-100" href="#__codelineno-66-100"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-66-101" name="__codelineno-66-101" href="#__codelineno-66-101"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-102" name="__codelineno-66-102" href="#__codelineno-66-102"></a><span class="p">}</span>
<a id="__codelineno-66-103" name="__codelineno-66-103" href="#__codelineno-66-103"></a><span class="c1">// 使用Floyd算法求最短路径</span>
<a id="__codelineno-66-104" name="__codelineno-66-104" href="#__codelineno-66-104"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Floyd</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dist</span><span class="p">[][</span><span class="n">MAXVERTEXNUM</span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[][</span><span class="n">MAXVERTEXNUM</span><span class="p">])</span>
<a id="__codelineno-66-105" name="__codelineno-66-105" href="#__codelineno-66-105"></a><span class="p">{</span>
<a id="__codelineno-66-106" name="__codelineno-66-106" href="#__codelineno-66-106"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-66-107" name="__codelineno-66-107" href="#__codelineno-66-107"></a><span class="w">    </span><span class="c1">// 初始化dist和path数组</span>
<a id="__codelineno-66-108" name="__codelineno-66-108" href="#__codelineno-66-108"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-109" name="__codelineno-66-109" href="#__codelineno-66-109"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-66-110" name="__codelineno-66-110" href="#__codelineno-66-110"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-111" name="__codelineno-66-111" href="#__codelineno-66-111"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-66-112" name="__codelineno-66-112" href="#__codelineno-66-112"></a><span class="w">            </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-66-113" name="__codelineno-66-113" href="#__codelineno-66-113"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">INF</span><span class="p">)</span>
<a id="__codelineno-66-114" name="__codelineno-66-114" href="#__codelineno-66-114"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-66-115" name="__codelineno-66-115" href="#__codelineno-66-115"></a><span class="w">                </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-66-116" name="__codelineno-66-116" href="#__codelineno-66-116"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-66-117" name="__codelineno-66-117" href="#__codelineno-66-117"></a><span class="w">            </span><span class="k">else</span>
<a id="__codelineno-66-118" name="__codelineno-66-118" href="#__codelineno-66-118"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-66-119" name="__codelineno-66-119" href="#__codelineno-66-119"></a><span class="w">                </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-66-120" name="__codelineno-66-120" href="#__codelineno-66-120"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-66-121" name="__codelineno-66-121" href="#__codelineno-66-121"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-66-122" name="__codelineno-66-122" href="#__codelineno-66-122"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-123" name="__codelineno-66-123" href="#__codelineno-66-123"></a><span class="w">    </span><span class="c1">// 正式开始寻找最短路径</span>
<a id="__codelineno-66-124" name="__codelineno-66-124" href="#__codelineno-66-124"></a><span class="w">    </span><span class="c1">// 由于每一轮都能找到一个点的最短路径，并且更新dist数组，所以一共需要G.vexnum - 1轮</span>
<a id="__codelineno-66-125" name="__codelineno-66-125" href="#__codelineno-66-125"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-126" name="__codelineno-66-126" href="#__codelineno-66-126"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-66-127" name="__codelineno-66-127" href="#__codelineno-66-127"></a><span class="w">        </span><span class="c1">// k作为中转点</span>
<a id="__codelineno-66-128" name="__codelineno-66-128" href="#__codelineno-66-128"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-129" name="__codelineno-66-129" href="#__codelineno-66-129"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-66-130" name="__codelineno-66-130" href="#__codelineno-66-130"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-131" name="__codelineno-66-131" href="#__codelineno-66-131"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-66-132" name="__codelineno-66-132" href="#__codelineno-66-132"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
<a id="__codelineno-66-133" name="__codelineno-66-133" href="#__codelineno-66-133"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-66-134" name="__codelineno-66-134" href="#__codelineno-66-134"></a><span class="w">                    </span><span class="c1">// 找到了更短的路径，更新dist数组</span>
<a id="__codelineno-66-135" name="__codelineno-66-135" href="#__codelineno-66-135"></a><span class="w">                    </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-66-136" name="__codelineno-66-136" href="#__codelineno-66-136"></a><span class="w">                    </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-66-137" name="__codelineno-66-137" href="#__codelineno-66-137"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-66-138" name="__codelineno-66-138" href="#__codelineno-66-138"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-66-139" name="__codelineno-66-139" href="#__codelineno-66-139"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-66-140" name="__codelineno-66-140" href="#__codelineno-66-140"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-141" name="__codelineno-66-141" href="#__codelineno-66-141"></a><span class="p">}</span>
<a id="__codelineno-66-142" name="__codelineno-66-142" href="#__codelineno-66-142"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-66-143" name="__codelineno-66-143" href="#__codelineno-66-143"></a><span class="p">{</span>
<a id="__codelineno-66-144" name="__codelineno-66-144" href="#__codelineno-66-144"></a><span class="w">    </span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">;</span>
<a id="__codelineno-66-145" name="__codelineno-66-145" href="#__codelineno-66-145"></a><span class="w">    </span><span class="n">ReadGraph</span><span class="p">(</span><span class="o">&amp;</span><span class="n">G</span><span class="p">);</span>
<a id="__codelineno-66-146" name="__codelineno-66-146" href="#__codelineno-66-146"></a><span class="w">    </span><span class="c1">// 用于存储从v0到其他顶点的最短路径长度</span>
<a id="__codelineno-66-147" name="__codelineno-66-147" href="#__codelineno-66-147"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-66-148" name="__codelineno-66-148" href="#__codelineno-66-148"></a><span class="w">    </span><span class="c1">// 用于标记最短路径的前一个顶点</span>
<a id="__codelineno-66-149" name="__codelineno-66-149" href="#__codelineno-66-149"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-66-150" name="__codelineno-66-150" href="#__codelineno-66-150"></a><span class="w">    </span><span class="c1">// 使用Dijkstra算法求最短路径</span>
<a id="__codelineno-66-151" name="__codelineno-66-151" href="#__codelineno-66-151"></a><span class="w">    </span><span class="n">Dijkstra</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">dist</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="p">);</span>
<a id="__codelineno-66-152" name="__codelineno-66-152" href="#__codelineno-66-152"></a><span class="w">    </span><span class="c1">// 输出最短路径</span>
<a id="__codelineno-66-153" name="__codelineno-66-153" href="#__codelineno-66-153"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-154" name="__codelineno-66-154" href="#__codelineno-66-154"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-66-155" name="__codelineno-66-155" href="#__codelineno-66-155"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-66-156" name="__codelineno-66-156" href="#__codelineno-66-156"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-157" name="__codelineno-66-157" href="#__codelineno-66-157"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-66-158" name="__codelineno-66-158" href="#__codelineno-66-158"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-159" name="__codelineno-66-159" href="#__codelineno-66-159"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-66-160" name="__codelineno-66-160" href="#__codelineno-66-160"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-66-161" name="__codelineno-66-161" href="#__codelineno-66-161"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-162" name="__codelineno-66-162" href="#__codelineno-66-162"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-66-163" name="__codelineno-66-163" href="#__codelineno-66-163"></a><span class="w">    </span><span class="c1">// 用于存储任意两点之间的最短路径长度</span>
<a id="__codelineno-66-164" name="__codelineno-66-164" href="#__codelineno-66-164"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dist2</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-66-165" name="__codelineno-66-165" href="#__codelineno-66-165"></a><span class="w">    </span><span class="c1">// 用于存储任意两点之间的最短路径</span>
<a id="__codelineno-66-166" name="__codelineno-66-166" href="#__codelineno-66-166"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">path2</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-66-167" name="__codelineno-66-167" href="#__codelineno-66-167"></a><span class="w">    </span><span class="c1">// 使用Floyd算法求最短路径</span>
<a id="__codelineno-66-168" name="__codelineno-66-168" href="#__codelineno-66-168"></a><span class="w">    </span><span class="n">Floyd</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">dist2</span><span class="p">,</span><span class="w"> </span><span class="n">path2</span><span class="p">);</span>
<a id="__codelineno-66-169" name="__codelineno-66-169" href="#__codelineno-66-169"></a><span class="w">    </span><span class="c1">// 输出最短路径</span>
<a id="__codelineno-66-170" name="__codelineno-66-170" href="#__codelineno-66-170"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-171" name="__codelineno-66-171" href="#__codelineno-66-171"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-66-172" name="__codelineno-66-172" href="#__codelineno-66-172"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-173" name="__codelineno-66-173" href="#__codelineno-66-173"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-66-174" name="__codelineno-66-174" href="#__codelineno-66-174"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dist2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
<a id="__codelineno-66-175" name="__codelineno-66-175" href="#__codelineno-66-175"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-66-176" name="__codelineno-66-176" href="#__codelineno-66-176"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-66-177" name="__codelineno-66-177" href="#__codelineno-66-177"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-178" name="__codelineno-66-178" href="#__codelineno-66-178"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-66-179" name="__codelineno-66-179" href="#__codelineno-66-179"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-180" name="__codelineno-66-180" href="#__codelineno-66-180"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-66-181" name="__codelineno-66-181" href="#__codelineno-66-181"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-66-182" name="__codelineno-66-182" href="#__codelineno-66-182"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-66-183" name="__codelineno-66-183" href="#__codelineno-66-183"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path2</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-66-184" name="__codelineno-66-184" href="#__codelineno-66-184"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-66-185" name="__codelineno-66-185" href="#__codelineno-66-185"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-66-186" name="__codelineno-66-186" href="#__codelineno-66-186"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-187" name="__codelineno-66-187" href="#__codelineno-66-187"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-66-188" name="__codelineno-66-188" href="#__codelineno-66-188"></a><span class="p">}</span>
</code></pre></div>
<h2 id="86">8.6 最小生成树<a class="headerlink" href="#86" title="Permanent link">&para;</a></h2>
<h3 id="861">8.6.1 定义<a class="headerlink" href="#861" title="Permanent link">&para;</a></h3>
<ol>
<li>Spanning tree 生成树。一个连通图的生成树是一个极小连通子图，它包含图中全部的n个顶点，但是只有构成一棵树的n-1条边</li>
</ol>
<p><img alt="img" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205997.jpeg" /></p>
<ol start="2">
<li>
<p>生成树的属性
   - 一个连通图可以有多个生成树
   - 一个连通图的所有生成树都包含相同的顶点个数和边数
   - 生成树不含有环
   - 移除生成树的任意一条边，都会导致图不连通
   - 在生成树中添加一条边，就会构成环
   - <strong>对于包含n个顶点的无向完全图最多包含 <span class="arithmatex">\(n^{n-2}\)</span> 颗生成树。</strong></p>
</li>
<li>
<p>minimum spanning tree 最小生成树（MST）</p>
</li>
</ol>
<p>所谓一个 <strong>带权图</strong> 的最小生成树，就是原图中<strong>边的权值最小的生成树</strong> ，所谓最小是指边的权值之和小于或者等于其它生成树的边的权值之和。</p>
<p><img alt="img" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205974.webp" /></p>
<h3 id="862-prim">8.6.2 Prim (普拉姆)算法<a class="headerlink" href="#862-prim" title="Permanent link">&para;</a></h3>
<p>Prim算法构造最小生成树的过程如下图所示，初始时从图中任取一个顶点，如果顶点加入树T，此时树中只含有一个顶点，之后选择一个与当前T中顶点集合距离最近的顶点，并将该顶点和相应的边加入T，每次操作后T的顶点数和边数加1，以此类推。直到图中所有的顶点加入到T，得到的T就是最小生成树。</p>
<blockquote>
<p><strong>通俗点说就是：从一个顶点出发，在保证不形成回路的前提下，每找到并添加一条最短的边，就把当前形成的连通分量当做一个整体或者一个点看待，然后重复“找最短的边并添加”的操作。</strong></p>
</blockquote>
<p><img alt="image-20231202171122981" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205962.png" />
$$
Prim 算法的步骤如下：\
假设G = {V，E},是连通图，其最小生成树T = {U，E_T},E_T是最小生成树中边的集合。\
1. 初始化：向空树T = (U，E_T)添加G中任意顶点v_0,使得U = {v_0},E_T = NULL\
2. 循环重复下列操作至U = V，从图中选择{(u,v)|u \in U, v \in V-U}中具有最小权值的边(u,v)\
加入到树T，U = U \cup {v}, E_T = E_T \cup {(u,v)}
$$
算法实现：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;math.h&gt;</span>
<a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a>
<a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="cp">#define MAXVERTEXNUM 20</span>
<a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="cp">#define INF 65535</span>
<a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a>
<a id="__codelineno-67-8" name="__codelineno-67-8" href="#__codelineno-67-8"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span>
<a id="__codelineno-67-9" name="__codelineno-67-9" href="#__codelineno-67-9"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">WeightType</span><span class="p">;</span>
<a id="__codelineno-67-10" name="__codelineno-67-10" href="#__codelineno-67-10"></a>
<a id="__codelineno-67-11" name="__codelineno-67-11" href="#__codelineno-67-11"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">point</span><span class="p">{</span>
<a id="__codelineno-67-12" name="__codelineno-67-12" href="#__codelineno-67-12"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">Vertex</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-67-13" name="__codelineno-67-13" href="#__codelineno-67-13"></a><span class="w">    </span><span class="n">WeightType</span><span class="w"> </span><span class="n">Edge</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-67-14" name="__codelineno-67-14" href="#__codelineno-67-14"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">vexnum</span><span class="p">;</span>
<a id="__codelineno-67-15" name="__codelineno-67-15" href="#__codelineno-67-15"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">edgenum</span><span class="p">;</span>
<a id="__codelineno-67-16" name="__codelineno-67-16" href="#__codelineno-67-16"></a><span class="p">}</span><span class="n">MGraph</span><span class="p">;</span>
<a id="__codelineno-67-17" name="__codelineno-67-17" href="#__codelineno-67-17"></a>
<a id="__codelineno-67-18" name="__codelineno-67-18" href="#__codelineno-67-18"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ReadGraph</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="o">*</span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-67-19" name="__codelineno-67-19" href="#__codelineno-67-19"></a><span class="p">{</span>
<a id="__codelineno-67-20" name="__codelineno-67-20" href="#__codelineno-67-20"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-67-21" name="__codelineno-67-21" href="#__codelineno-67-21"></a><span class="w">    </span><span class="c1">// 读取顶点数和边数</span>
<a id="__codelineno-67-22" name="__codelineno-67-22" href="#__codelineno-67-22"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">);</span>
<a id="__codelineno-67-23" name="__codelineno-67-23" href="#__codelineno-67-23"></a><span class="w">    </span><span class="c1">// 初始化邻接矩阵</span>
<a id="__codelineno-67-24" name="__codelineno-67-24" href="#__codelineno-67-24"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-25" name="__codelineno-67-25" href="#__codelineno-67-25"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-67-26" name="__codelineno-67-26" href="#__codelineno-67-26"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-27" name="__codelineno-67-27" href="#__codelineno-67-27"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-67-28" name="__codelineno-67-28" href="#__codelineno-67-28"></a><span class="w">            </span><span class="c1">// 假设此处为无向图</span>
<a id="__codelineno-67-29" name="__codelineno-67-29" href="#__codelineno-67-29"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-67-30" name="__codelineno-67-30" href="#__codelineno-67-30"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-67-31" name="__codelineno-67-31" href="#__codelineno-67-31"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 无自环,自己到自己的距离为0</span>
<a id="__codelineno-67-32" name="__codelineno-67-32" href="#__codelineno-67-32"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-67-33" name="__codelineno-67-33" href="#__codelineno-67-33"></a><span class="w">            </span><span class="k">else</span>
<a id="__codelineno-67-34" name="__codelineno-67-34" href="#__codelineno-67-34"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-67-35" name="__codelineno-67-35" href="#__codelineno-67-35"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-67-36" name="__codelineno-67-36" href="#__codelineno-67-36"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-67-37" name="__codelineno-67-37" href="#__codelineno-67-37"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-67-38" name="__codelineno-67-38" href="#__codelineno-67-38"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-67-39" name="__codelineno-67-39" href="#__codelineno-67-39"></a><span class="w">    </span><span class="c1">// 读取边的信息</span>
<a id="__codelineno-67-40" name="__codelineno-67-40" href="#__codelineno-67-40"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-41" name="__codelineno-67-41" href="#__codelineno-67-41"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-67-42" name="__codelineno-67-42" href="#__codelineno-67-42"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">,</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-67-43" name="__codelineno-67-43" href="#__codelineno-67-43"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v2</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">weight</span><span class="p">);</span>
<a id="__codelineno-67-44" name="__codelineno-67-44" href="#__codelineno-67-44"></a><span class="w">        </span><span class="n">v1</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-67-45" name="__codelineno-67-45" href="#__codelineno-67-45"></a><span class="w">        </span><span class="n">v2</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-67-46" name="__codelineno-67-46" href="#__codelineno-67-46"></a><span class="w">        </span><span class="c1">// 设置邻接矩阵的时候，是从0开始的</span>
<a id="__codelineno-67-47" name="__codelineno-67-47" href="#__codelineno-67-47"></a><span class="w">        </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">v1</span><span class="p">][</span><span class="n">v2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">v2</span><span class="p">][</span><span class="n">v1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-67-48" name="__codelineno-67-48" href="#__codelineno-67-48"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-67-49" name="__codelineno-67-49" href="#__codelineno-67-49"></a><span class="p">}</span>
<a id="__codelineno-67-50" name="__codelineno-67-50" href="#__codelineno-67-50"></a><span class="c1">// 使用Prim算法实现最小生成树</span>
<a id="__codelineno-67-51" name="__codelineno-67-51" href="#__codelineno-67-51"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Prim</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v0</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dist</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[])</span>
<a id="__codelineno-67-52" name="__codelineno-67-52" href="#__codelineno-67-52"></a><span class="p">{</span>
<a id="__codelineno-67-53" name="__codelineno-67-53" href="#__codelineno-67-53"></a><span class="w">    </span><span class="c1">// v0是起始顶点，可以任意选取</span>
<a id="__codelineno-67-54" name="__codelineno-67-54" href="#__codelineno-67-54"></a><span class="w">    </span><span class="c1">// 初始化dist数组和path数组</span>
<a id="__codelineno-67-55" name="__codelineno-67-55" href="#__codelineno-67-55"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-67-56" name="__codelineno-67-56" href="#__codelineno-67-56"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span><span class="w"> </span><span class="c1">// 用于标记顶点是否已经被访问</span>
<a id="__codelineno-67-57" name="__codelineno-67-57" href="#__codelineno-67-57"></a><span class="w">    </span><span class="n">v0</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-67-58" name="__codelineno-67-58" href="#__codelineno-67-58"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-59" name="__codelineno-67-59" href="#__codelineno-67-59"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-67-60" name="__codelineno-67-60" href="#__codelineno-67-60"></a><span class="w">        </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v0</span><span class="p">][</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-67-61" name="__codelineno-67-61" href="#__codelineno-67-61"></a><span class="w">        </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">// -1表示没有路径</span>
<a id="__codelineno-67-62" name="__codelineno-67-62" href="#__codelineno-67-62"></a><span class="w">        </span><span class="n">flag</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点i还没有被访问</span>
<a id="__codelineno-67-63" name="__codelineno-67-63" href="#__codelineno-67-63"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-67-64" name="__codelineno-67-64" href="#__codelineno-67-64"></a><span class="w">    </span><span class="n">flag</span><span class="p">[</span><span class="n">v0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点v0已经被访问</span>
<a id="__codelineno-67-65" name="__codelineno-67-65" href="#__codelineno-67-65"></a><span class="w">    </span><span class="c1">// 要想找到最小生成树，需要找到n-1条边，n为顶点数，需要执行循环n-1次</span>
<a id="__codelineno-67-66" name="__codelineno-67-66" href="#__codelineno-67-66"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-67" name="__codelineno-67-67" href="#__codelineno-67-67"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-67-68" name="__codelineno-67-68" href="#__codelineno-67-68"></a><span class="w">        </span><span class="c1">// 找到当前未被访问的顶点中距离v0最近的顶点</span>
<a id="__codelineno-67-69" name="__codelineno-67-69" href="#__codelineno-67-69"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-67-70" name="__codelineno-67-70" href="#__codelineno-67-70"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-67-71" name="__codelineno-67-71" href="#__codelineno-67-71"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-67-72" name="__codelineno-67-72" href="#__codelineno-67-72"></a><span class="w">        </span><span class="c1">// v0 和 v1 分别表示边的两个顶点</span>
<a id="__codelineno-67-73" name="__codelineno-67-73" href="#__codelineno-67-73"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-74" name="__codelineno-67-74" href="#__codelineno-67-74"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-67-75" name="__codelineno-67-75" href="#__codelineno-67-75"></a><span class="w">            </span><span class="c1">// 此时比较的是edge的长度，以已经被访问的点作为起点，未被访问的点作为终点</span>
<a id="__codelineno-67-76" name="__codelineno-67-76" href="#__codelineno-67-76"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-77" name="__codelineno-67-77" href="#__codelineno-67-77"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-67-78" name="__codelineno-67-78" href="#__codelineno-67-78"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">flag</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-67-79" name="__codelineno-67-79" href="#__codelineno-67-79"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-67-80" name="__codelineno-67-80" href="#__codelineno-67-80"></a><span class="w">                    </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-67-81" name="__codelineno-67-81" href="#__codelineno-67-81"></a><span class="w">                    </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-67-82" name="__codelineno-67-82" href="#__codelineno-67-82"></a><span class="w">                    </span><span class="n">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-67-83" name="__codelineno-67-83" href="#__codelineno-67-83"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-67-84" name="__codelineno-67-84" href="#__codelineno-67-84"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-67-85" name="__codelineno-67-85" href="#__codelineno-67-85"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-67-86" name="__codelineno-67-86" href="#__codelineno-67-86"></a><span class="w">        </span><span class="n">flag</span><span class="p">[</span><span class="n">v1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点v1已经被访问</span>
<a id="__codelineno-67-87" name="__codelineno-67-87" href="#__codelineno-67-87"></a><span class="w">        </span><span class="n">path</span><span class="p">[</span><span class="n">v1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点v1的前驱是v0</span>
<a id="__codelineno-67-88" name="__codelineno-67-88" href="#__codelineno-67-88"></a><span class="w">        </span><span class="c1">// 输出最小生成树的边</span>
<a id="__codelineno-67-89" name="__codelineno-67-89" href="#__codelineno-67-89"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %d %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="p">);</span>
<a id="__codelineno-67-90" name="__codelineno-67-90" href="#__codelineno-67-90"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %d %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">v1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">path</span><span class="p">[</span><span class="n">v1</span><span class="p">]][</span><span class="n">v1</span><span class="p">]);</span>
<a id="__codelineno-67-91" name="__codelineno-67-91" href="#__codelineno-67-91"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-67-92" name="__codelineno-67-92" href="#__codelineno-67-92"></a><span class="p">}</span>
<a id="__codelineno-67-93" name="__codelineno-67-93" href="#__codelineno-67-93"></a><span class="c1">// 判断是否为最小生成树序列</span>
<a id="__codelineno-67-94" name="__codelineno-67-94" href="#__codelineno-67-94"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Is_SpanningTree</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Seq</span><span class="p">[])</span>
<a id="__codelineno-67-95" name="__codelineno-67-95" href="#__codelineno-67-95"></a><span class="p">{</span>
<a id="__codelineno-67-96" name="__codelineno-67-96" href="#__codelineno-67-96"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-67-97" name="__codelineno-67-97" href="#__codelineno-67-97"></a><span class="w">    </span><span class="c1">// 初始化，先将Seq的每一个元素的值减一</span>
<a id="__codelineno-67-98" name="__codelineno-67-98" href="#__codelineno-67-98"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-99" name="__codelineno-67-99" href="#__codelineno-67-99"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-67-100" name="__codelineno-67-100" href="#__codelineno-67-100"></a><span class="w">        </span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-67-101" name="__codelineno-67-101" href="#__codelineno-67-101"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-67-102" name="__codelineno-67-102" href="#__codelineno-67-102"></a><span class="w">    </span><span class="c1">// flag[Seq[0]] = 1; // 顶点Seq[0]已经被访问</span>
<a id="__codelineno-67-103" name="__codelineno-67-103" href="#__codelineno-67-103"></a><span class="w">    </span><span class="c1">// 除去第一个顶点，其他顶点都需要进行判断，需要遍历G.vexnum - 1次</span>
<a id="__codelineno-67-104" name="__codelineno-67-104" href="#__codelineno-67-104"></a><span class="w">    </span><span class="c1">// i 表示下标，从Seq[1]开始</span>
<a id="__codelineno-67-105" name="__codelineno-67-105" href="#__codelineno-67-105"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-106" name="__codelineno-67-106" href="#__codelineno-67-106"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-67-107" name="__codelineno-67-107" href="#__codelineno-67-107"></a><span class="w">        </span><span class="c1">// j表示的是也是下标，是已经被判断过的顶点的下标</span>
<a id="__codelineno-67-108" name="__codelineno-67-108" href="#__codelineno-67-108"></a><span class="w">        </span><span class="c1">// 需要判断Seq[i]是否是以Seq[0],Seq[1],....Seq[i-1]为起点的最短路径</span>
<a id="__codelineno-67-109" name="__codelineno-67-109" href="#__codelineno-67-109"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-67-110" name="__codelineno-67-110" href="#__codelineno-67-110"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-111" name="__codelineno-67-111" href="#__codelineno-67-111"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-67-112" name="__codelineno-67-112" href="#__codelineno-67-112"></a><span class="w">            </span><span class="c1">// k表示的是没被判断过的顶点的下标，从i开始</span>
<a id="__codelineno-67-113" name="__codelineno-67-113" href="#__codelineno-67-113"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-114" name="__codelineno-67-114" href="#__codelineno-67-114"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-67-115" name="__codelineno-67-115" href="#__codelineno-67-115"></a><span class="w">                </span><span class="c1">// 先寻找最短长度的边，记录前驱和后驱</span>
<a id="__codelineno-67-116" name="__codelineno-67-116" href="#__codelineno-67-116"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">j</span><span class="p">]][</span><span class="n">Seq</span><span class="p">[</span><span class="n">k</span><span class="p">]]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-67-117" name="__codelineno-67-117" href="#__codelineno-67-117"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-67-118" name="__codelineno-67-118" href="#__codelineno-67-118"></a><span class="w">                    </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">j</span><span class="p">]][</span><span class="n">Seq</span><span class="p">[</span><span class="n">k</span><span class="p">]];</span>
<a id="__codelineno-67-119" name="__codelineno-67-119" href="#__codelineno-67-119"></a><span class="w">                    </span><span class="c1">// v0 = Seq[j];</span>
<a id="__codelineno-67-120" name="__codelineno-67-120" href="#__codelineno-67-120"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-67-121" name="__codelineno-67-121" href="#__codelineno-67-121"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-67-122" name="__codelineno-67-122" href="#__codelineno-67-122"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-67-123" name="__codelineno-67-123" href="#__codelineno-67-123"></a><span class="w">        </span><span class="c1">// (v0,Seq[i])是不是最短的边</span>
<a id="__codelineno-67-124" name="__codelineno-67-124" href="#__codelineno-67-124"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-67-125" name="__codelineno-67-125" href="#__codelineno-67-125"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-126" name="__codelineno-67-126" href="#__codelineno-67-126"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-67-127" name="__codelineno-67-127" href="#__codelineno-67-127"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">j</span><span class="p">]][</span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-67-128" name="__codelineno-67-128" href="#__codelineno-67-128"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-67-129" name="__codelineno-67-129" href="#__codelineno-67-129"></a><span class="w">                </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-67-130" name="__codelineno-67-130" href="#__codelineno-67-130"></a><span class="w">                </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-67-131" name="__codelineno-67-131" href="#__codelineno-67-131"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-67-132" name="__codelineno-67-132" href="#__codelineno-67-132"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-67-133" name="__codelineno-67-133" href="#__codelineno-67-133"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-67-134" name="__codelineno-67-134" href="#__codelineno-67-134"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-67-135" name="__codelineno-67-135" href="#__codelineno-67-135"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;No</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-67-136" name="__codelineno-67-136" href="#__codelineno-67-136"></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-67-137" name="__codelineno-67-137" href="#__codelineno-67-137"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-67-138" name="__codelineno-67-138" href="#__codelineno-67-138"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-67-139" name="__codelineno-67-139" href="#__codelineno-67-139"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Yes</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-67-140" name="__codelineno-67-140" href="#__codelineno-67-140"></a><span class="p">}</span>
<a id="__codelineno-67-141" name="__codelineno-67-141" href="#__codelineno-67-141"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-67-142" name="__codelineno-67-142" href="#__codelineno-67-142"></a><span class="p">{</span>
<a id="__codelineno-67-143" name="__codelineno-67-143" href="#__codelineno-67-143"></a><span class="w">    </span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">;</span>
<a id="__codelineno-67-144" name="__codelineno-67-144" href="#__codelineno-67-144"></a><span class="w">    </span><span class="n">ReadGraph</span><span class="p">(</span><span class="o">&amp;</span><span class="n">G</span><span class="p">);</span>
<a id="__codelineno-67-145" name="__codelineno-67-145" href="#__codelineno-67-145"></a><span class="w">    </span><span class="c1">// int dist[MAXVERTEXNUM];</span>
<a id="__codelineno-67-146" name="__codelineno-67-146" href="#__codelineno-67-146"></a><span class="w">    </span><span class="c1">// int path[MAXVERTEXNUM];</span>
<a id="__codelineno-67-147" name="__codelineno-67-147" href="#__codelineno-67-147"></a><span class="w">    </span><span class="c1">// Prim(G, 1, dist, path);</span>
<a id="__codelineno-67-148" name="__codelineno-67-148" href="#__codelineno-67-148"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Seq</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-67-149" name="__codelineno-67-149" href="#__codelineno-67-149"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-67-150" name="__codelineno-67-150" href="#__codelineno-67-150"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-67-151" name="__codelineno-67-151" href="#__codelineno-67-151"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-67-152" name="__codelineno-67-152" href="#__codelineno-67-152"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-67-153" name="__codelineno-67-153" href="#__codelineno-67-153"></a><span class="w">    </span><span class="n">Is_SpanningTree</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">Seq</span><span class="p">);</span>
<a id="__codelineno-67-154" name="__codelineno-67-154" href="#__codelineno-67-154"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p>如果使用邻接矩阵来表示图，Prim 算法的时间复杂度为 <span class="arithmatex">\(O（V^2）\)</span>，其中 V 为顶点数。</p>
</blockquote>
<h3 id="863-kruskal">8.6.3 Kruskal （克鲁斯卡尔）算法<a class="headerlink" href="#863-kruskal" title="Permanent link">&para;</a></h3>
<p><code>与Prim算法从顶点开始扩展最小生成树不同，Kruskal算法是一种按照权值的递增次序选择合适的边来构造最小生成树的方法</code></p>
<p>Kruskal算法构造最小生成树的过程如下图所示，初始时只有n个顶点而无边的非连通图T = V，每个顶点自成一个连通分量，然后按照边的权值由小到大的顺序，不断地选取当前未被选取且权值最小的边，若改变依附的顶点落在T中不同的连通分量上，则将此边加入T，否则舍弃此边选择下一条权值最小的边，以此类推，直至T中所有的顶点都连在一个连通分量上。</p>
<p><img alt="image-20231202200629887" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205946.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">father</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="p">{</span>
<a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="w">    </span><span class="c1">// 找到x所在集合的根节点</span>
<a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">father</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a><span class="w">        </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">father</span><span class="p">[</span><span class="n">a</span><span class="p">];</span>
<a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a><span class="w">    </span><span class="c1">// 路径压缩</span>
<a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-12" name="__codelineno-68-12" href="#__codelineno-68-12"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">father</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<a id="__codelineno-68-13" name="__codelineno-68-13" href="#__codelineno-68-13"></a><span class="w">        </span><span class="n">father</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-68-14" name="__codelineno-68-14" href="#__codelineno-68-14"></a><span class="w">        </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-68-15" name="__codelineno-68-15" href="#__codelineno-68-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-16" name="__codelineno-68-16" href="#__codelineno-68-16"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-68-17" name="__codelineno-68-17" href="#__codelineno-68-17"></a><span class="p">}</span>
<a id="__codelineno-68-18" name="__codelineno-68-18" href="#__codelineno-68-18"></a><span class="c1">// 使用Kruskal算法实现最小生成树</span>
<a id="__codelineno-68-19" name="__codelineno-68-19" href="#__codelineno-68-19"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Kruskal</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-68-20" name="__codelineno-68-20" href="#__codelineno-68-20"></a><span class="p">{</span>
<a id="__codelineno-68-21" name="__codelineno-68-21" href="#__codelineno-68-21"></a><span class="w">    </span><span class="c1">// 初始化并查集</span>
<a id="__codelineno-68-22" name="__codelineno-68-22" href="#__codelineno-68-22"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-68-23" name="__codelineno-68-23" href="#__codelineno-68-23"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">father</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-68-24" name="__codelineno-68-24" href="#__codelineno-68-24"></a><span class="w">    </span><span class="c1">// 定义一数组，用于存储每个顶点的父节点，用于判断两个顶点是否在同一个集合中</span>
<a id="__codelineno-68-25" name="__codelineno-68-25" href="#__codelineno-68-25"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-68-26" name="__codelineno-68-26" href="#__codelineno-68-26"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-27" name="__codelineno-68-27" href="#__codelineno-68-27"></a><span class="w">        </span><span class="c1">// 初始化每个顶点的父节点为-1</span>
<a id="__codelineno-68-28" name="__codelineno-68-28" href="#__codelineno-68-28"></a><span class="w">        </span><span class="n">father</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-68-29" name="__codelineno-68-29" href="#__codelineno-68-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-30" name="__codelineno-68-30" href="#__codelineno-68-30"></a><span class="w">    </span><span class="c1">// 需要遍历所有的边，需要执行G.edgenum次</span>
<a id="__codelineno-68-31" name="__codelineno-68-31" href="#__codelineno-68-31"></a><span class="w">    </span><span class="c1">// 如果单纯的遍历vexnum-1次，可能会出现不连通的情况，因为中间有的边是同一个连通分量上的，不需要</span>
<a id="__codelineno-68-32" name="__codelineno-68-32" href="#__codelineno-68-32"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-68-33" name="__codelineno-68-33" href="#__codelineno-68-33"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-34" name="__codelineno-68-34" href="#__codelineno-68-34"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-68-35" name="__codelineno-68-35" href="#__codelineno-68-35"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-68-36" name="__codelineno-68-36" href="#__codelineno-68-36"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-68-37" name="__codelineno-68-37" href="#__codelineno-68-37"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-68-38" name="__codelineno-68-38" href="#__codelineno-68-38"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-39" name="__codelineno-68-39" href="#__codelineno-68-39"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-68-40" name="__codelineno-68-40" href="#__codelineno-68-40"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-68-41" name="__codelineno-68-41" href="#__codelineno-68-41"></a><span class="w">                </span><span class="c1">// 找到最小的边</span>
<a id="__codelineno-68-42" name="__codelineno-68-42" href="#__codelineno-68-42"></a><span class="w">                </span><span class="c1">// 由于定义自己到自己的距离为0，所以需要判断j和k是否相等</span>
<a id="__codelineno-68-43" name="__codelineno-68-43" href="#__codelineno-68-43"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-68-44" name="__codelineno-68-44" href="#__codelineno-68-44"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-68-45" name="__codelineno-68-45" href="#__codelineno-68-45"></a><span class="w">                    </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-68-46" name="__codelineno-68-46" href="#__codelineno-68-46"></a><span class="w">                    </span><span class="n">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-68-47" name="__codelineno-68-47" href="#__codelineno-68-47"></a><span class="w">                    </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-68-48" name="__codelineno-68-48" href="#__codelineno-68-48"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-68-49" name="__codelineno-68-49" href="#__codelineno-68-49"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-68-50" name="__codelineno-68-50" href="#__codelineno-68-50"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-51" name="__codelineno-68-51" href="#__codelineno-68-51"></a><span class="w">        </span><span class="c1">// 判断v0和v1是否在同一个集合中</span>
<a id="__codelineno-68-52" name="__codelineno-68-52" href="#__codelineno-68-52"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">father</span><span class="p">,</span><span class="w"> </span><span class="n">v0</span><span class="p">);</span>
<a id="__codelineno-68-53" name="__codelineno-68-53" href="#__codelineno-68-53"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">father</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="p">);</span>
<a id="__codelineno-68-54" name="__codelineno-68-54" href="#__codelineno-68-54"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-68-55" name="__codelineno-68-55" href="#__codelineno-68-55"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-56" name="__codelineno-68-56" href="#__codelineno-68-56"></a><span class="w">            </span><span class="c1">// 如果不在同一个集合中，就将两个集合合并</span>
<a id="__codelineno-68-57" name="__codelineno-68-57" href="#__codelineno-68-57"></a><span class="w">            </span><span class="n">father</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-68-58" name="__codelineno-68-58" href="#__codelineno-68-58"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %d %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="p">);</span>
<a id="__codelineno-68-59" name="__codelineno-68-59" href="#__codelineno-68-59"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-60" name="__codelineno-68-60" href="#__codelineno-68-60"></a><span class="w">        </span><span class="c1">// 将这条边从图中删除，边的weight设置为INF，后续就不可能小于min了</span>
<a id="__codelineno-68-61" name="__codelineno-68-61" href="#__codelineno-68-61"></a><span class="w">        </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v0</span><span class="p">][</span><span class="n">v1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v1</span><span class="p">][</span><span class="n">v0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-68-62" name="__codelineno-68-62" href="#__codelineno-68-62"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-63" name="__codelineno-68-63" href="#__codelineno-68-63"></a><span class="p">}</span>
<a id="__codelineno-68-64" name="__codelineno-68-64" href="#__codelineno-68-64"></a>
<a id="__codelineno-68-65" name="__codelineno-68-65" href="#__codelineno-68-65"></a>
<a id="__codelineno-68-66" name="__codelineno-68-66" href="#__codelineno-68-66"></a>
<a id="__codelineno-68-67" name="__codelineno-68-67" href="#__codelineno-68-67"></a><span class="cp">#define MAXVEX 500        </span><span class="c1">// 图中顶点数目的最大值</span>
<a id="__codelineno-68-68" name="__codelineno-68-68" href="#__codelineno-68-68"></a><span class="cp">#define INF 65535        </span><span class="c1">// 用INF(∞)表示两个顶点之间不连通</span>
<a id="__codelineno-68-69" name="__codelineno-68-69" href="#__codelineno-68-69"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点类型应由用户定义</span>
<a id="__codelineno-68-70" name="__codelineno-68-70" href="#__codelineno-68-70"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">WeightType</span><span class="p">;</span><span class="w">  </span><span class="c1">// 边上的权值类型应由用户定义</span>
<a id="__codelineno-68-71" name="__codelineno-68-71" href="#__codelineno-68-71"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Vertex</span><span class="p">;</span><span class="w">      </span><span class="c1">// 用于存储下标的类型</span>
<a id="__codelineno-68-72" name="__codelineno-68-72" href="#__codelineno-68-72"></a><span class="cm">/* vertices are numbered from 1 to MaxVertexNum */</span>
<a id="__codelineno-68-73" name="__codelineno-68-73" href="#__codelineno-68-73"></a>
<a id="__codelineno-68-74" name="__codelineno-68-74" href="#__codelineno-68-74"></a><span class="cm">/*边表结点*/</span>
<a id="__codelineno-68-75" name="__codelineno-68-75" href="#__codelineno-68-75"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span>
<a id="__codelineno-68-76" name="__codelineno-68-76" href="#__codelineno-68-76"></a><span class="p">{</span>
<a id="__codelineno-68-77" name="__codelineno-68-77" href="#__codelineno-68-77"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">adjvex</span><span class="p">;</span><span class="w">            </span><span class="c1">// 该弧所指向的顶点的下标或者位置</span>
<a id="__codelineno-68-78" name="__codelineno-68-78" href="#__codelineno-68-78"></a><span class="w">    </span><span class="n">WeightType</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span><span class="w">     </span><span class="c1">// 权值，对于非网图可以不需要</span>
<a id="__codelineno-68-79" name="__codelineno-68-79" href="#__codelineno-68-79"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="w"> </span><span class="o">*</span><span class="n">next</span><span class="p">;</span><span class="w"> </span><span class="c1">// 指向下一个邻接点</span>
<a id="__codelineno-68-80" name="__codelineno-68-80" href="#__codelineno-68-80"></a><span class="p">}</span><span class="w"> </span><span class="n">AdjVNode</span><span class="p">;</span>
<a id="__codelineno-68-81" name="__codelineno-68-81" href="#__codelineno-68-81"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">AdjVNode</span><span class="w"> </span><span class="o">*</span><span class="n">PtrToAdjVNode</span><span class="p">;</span>
<a id="__codelineno-68-82" name="__codelineno-68-82" href="#__codelineno-68-82"></a>
<a id="__codelineno-68-83" name="__codelineno-68-83" href="#__codelineno-68-83"></a><span class="cm">/*顶点表结点*/</span>
<a id="__codelineno-68-84" name="__codelineno-68-84" href="#__codelineno-68-84"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">VertexNode</span>
<a id="__codelineno-68-85" name="__codelineno-68-85" href="#__codelineno-68-85"></a><span class="p">{</span>
<a id="__codelineno-68-86" name="__codelineno-68-86" href="#__codelineno-68-86"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w">         </span><span class="c1">// 顶点域，存储顶点信息</span>
<a id="__codelineno-68-87" name="__codelineno-68-87" href="#__codelineno-68-87"></a><span class="w">    </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">FirstEdge</span><span class="p">;</span><span class="w"> </span><span class="c1">// 边表头指针</span>
<a id="__codelineno-68-88" name="__codelineno-68-88" href="#__codelineno-68-88"></a><span class="p">}</span><span class="w"> </span><span class="n">AdjList</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">];</span>
<a id="__codelineno-68-89" name="__codelineno-68-89" href="#__codelineno-68-89"></a>
<a id="__codelineno-68-90" name="__codelineno-68-90" href="#__codelineno-68-90"></a><span class="cm">/*邻接表*/</span>
<a id="__codelineno-68-91" name="__codelineno-68-91" href="#__codelineno-68-91"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<a id="__codelineno-68-92" name="__codelineno-68-92" href="#__codelineno-68-92"></a><span class="p">{</span>
<a id="__codelineno-68-93" name="__codelineno-68-93" href="#__codelineno-68-93"></a><span class="w">    </span><span class="n">AdjList</span><span class="w"> </span><span class="n">adjList</span><span class="p">;</span>
<a id="__codelineno-68-94" name="__codelineno-68-94" href="#__codelineno-68-94"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Vertexnum</span><span class="p">;</span>
<a id="__codelineno-68-95" name="__codelineno-68-95" href="#__codelineno-68-95"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="c1">// 图中当前顶点数和边数</span>
<a id="__codelineno-68-96" name="__codelineno-68-96" href="#__codelineno-68-96"></a><span class="p">}</span><span class="w"> </span><span class="n">GNode</span><span class="p">;</span>
<a id="__codelineno-68-97" name="__codelineno-68-97" href="#__codelineno-68-97"></a><span class="k">typedef</span><span class="w"> </span><span class="n">GNode</span><span class="w"> </span><span class="o">*</span><span class="n">PtrToGNode</span><span class="p">;</span>
<a id="__codelineno-68-98" name="__codelineno-68-98" href="#__codelineno-68-98"></a><span class="k">typedef</span><span class="w"> </span><span class="n">PtrToGNode</span><span class="w"> </span><span class="n">LGraph</span><span class="p">;</span><span class="w"> </span><span class="c1">// 以邻接表方式存储的图类型</span>
<a id="__codelineno-68-99" name="__codelineno-68-99" href="#__codelineno-68-99"></a>
<a id="__codelineno-68-100" name="__codelineno-68-100" href="#__codelineno-68-100"></a>
<a id="__codelineno-68-101" name="__codelineno-68-101" href="#__codelineno-68-101"></a><span class="kt">int</span><span class="w"> </span><span class="n">Vex1</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-68-102" name="__codelineno-68-102" href="#__codelineno-68-102"></a><span class="kt">int</span><span class="w"> </span><span class="n">Vex2</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-68-103" name="__codelineno-68-103" href="#__codelineno-68-103"></a><span class="kt">int</span><span class="w"> </span><span class="n">Weight1</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-68-104" name="__codelineno-68-104" href="#__codelineno-68-104"></a><span class="kt">int</span><span class="w"> </span><span class="n">Vex3</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-68-105" name="__codelineno-68-105" href="#__codelineno-68-105"></a><span class="kt">int</span><span class="w"> </span><span class="n">Vex4</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-68-106" name="__codelineno-68-106" href="#__codelineno-68-106"></a><span class="kt">int</span><span class="w"> </span><span class="n">Weight2</span><span class="p">[</span><span class="n">MAXVEX</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-68-107" name="__codelineno-68-107" href="#__codelineno-68-107"></a><span class="n">GNode</span><span class="w"> </span><span class="nf">ReadG</span><span class="p">()</span>
<a id="__codelineno-68-108" name="__codelineno-68-108" href="#__codelineno-68-108"></a><span class="p">{</span>
<a id="__codelineno-68-109" name="__codelineno-68-109" href="#__codelineno-68-109"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-68-110" name="__codelineno-68-110" href="#__codelineno-68-110"></a><span class="w">    </span><span class="n">LGraph</span><span class="w"> </span><span class="n">LG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">LGraph</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">GNode</span><span class="p">));</span>
<a id="__codelineno-68-111" name="__codelineno-68-111" href="#__codelineno-68-111"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAXVEX</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-68-112" name="__codelineno-68-112" href="#__codelineno-68-112"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-113" name="__codelineno-68-113" href="#__codelineno-68-113"></a><span class="w">        </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-68-114" name="__codelineno-68-114" href="#__codelineno-68-114"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-115" name="__codelineno-68-115" href="#__codelineno-68-115"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Vertexnum</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">);</span>
<a id="__codelineno-68-116" name="__codelineno-68-116" href="#__codelineno-68-116"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-68-117" name="__codelineno-68-117" href="#__codelineno-68-117"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-118" name="__codelineno-68-118" href="#__codelineno-68-118"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">,</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-68-119" name="__codelineno-68-119" href="#__codelineno-68-119"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p2</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">weight</span><span class="p">);</span>
<a id="__codelineno-68-120" name="__codelineno-68-120" href="#__codelineno-68-120"></a><span class="w">        </span><span class="n">Vex1</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">--</span><span class="n">p1</span><span class="p">;</span>
<a id="__codelineno-68-121" name="__codelineno-68-121" href="#__codelineno-68-121"></a><span class="w">        </span><span class="n">Vex2</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">--</span><span class="n">p2</span><span class="p">;</span>
<a id="__codelineno-68-122" name="__codelineno-68-122" href="#__codelineno-68-122"></a><span class="w">        </span><span class="n">Weight1</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-68-123" name="__codelineno-68-123" href="#__codelineno-68-123"></a><span class="w">        </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">adj1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PtrToAdjVNode</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">AdjVNode</span><span class="p">));</span>
<a id="__codelineno-68-124" name="__codelineno-68-124" href="#__codelineno-68-124"></a><span class="w">        </span><span class="n">adj1</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span>
<a id="__codelineno-68-125" name="__codelineno-68-125" href="#__codelineno-68-125"></a><span class="w">        </span><span class="n">adj1</span><span class="o">-&gt;</span><span class="n">weight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-68-126" name="__codelineno-68-126" href="#__codelineno-68-126"></a><span class="w">        </span><span class="n">adj1</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-68-127" name="__codelineno-68-127" href="#__codelineno-68-127"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-68-128" name="__codelineno-68-128" href="#__codelineno-68-128"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-129" name="__codelineno-68-129" href="#__codelineno-68-129"></a><span class="w">            </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj1</span><span class="p">;</span>
<a id="__codelineno-68-130" name="__codelineno-68-130" href="#__codelineno-68-130"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-131" name="__codelineno-68-131" href="#__codelineno-68-131"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span>
<a id="__codelineno-68-132" name="__codelineno-68-132" href="#__codelineno-68-132"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-133" name="__codelineno-68-133" href="#__codelineno-68-133"></a><span class="w">            </span><span class="c1">// 此处采用的是头插法</span>
<a id="__codelineno-68-134" name="__codelineno-68-134" href="#__codelineno-68-134"></a><span class="w">            </span><span class="c1">// adj-&gt;next = LG-&gt;adjList[p1].FirstEdge;</span>
<a id="__codelineno-68-135" name="__codelineno-68-135" href="#__codelineno-68-135"></a><span class="w">            </span><span class="c1">// LG-&gt;adjList[p1].FirstEdge = adj;</span>
<a id="__codelineno-68-136" name="__codelineno-68-136" href="#__codelineno-68-136"></a><span class="w">            </span><span class="c1">//尾插法</span>
<a id="__codelineno-68-137" name="__codelineno-68-137" href="#__codelineno-68-137"></a><span class="w">            </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-68-138" name="__codelineno-68-138" href="#__codelineno-68-138"></a><span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-68-139" name="__codelineno-68-139" href="#__codelineno-68-139"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-68-140" name="__codelineno-68-140" href="#__codelineno-68-140"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-68-141" name="__codelineno-68-141" href="#__codelineno-68-141"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-68-142" name="__codelineno-68-142" href="#__codelineno-68-142"></a><span class="w">            </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj1</span><span class="p">;</span>
<a id="__codelineno-68-143" name="__codelineno-68-143" href="#__codelineno-68-143"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-144" name="__codelineno-68-144" href="#__codelineno-68-144"></a><span class="w">        </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">adj2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PtrToAdjVNode</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">AdjVNode</span><span class="p">));</span>
<a id="__codelineno-68-145" name="__codelineno-68-145" href="#__codelineno-68-145"></a><span class="w">        </span><span class="n">adj2</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p1</span><span class="p">;</span>
<a id="__codelineno-68-146" name="__codelineno-68-146" href="#__codelineno-68-146"></a><span class="w">        </span><span class="n">adj2</span><span class="o">-&gt;</span><span class="n">weight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-68-147" name="__codelineno-68-147" href="#__codelineno-68-147"></a><span class="w">        </span><span class="n">adj2</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-68-148" name="__codelineno-68-148" href="#__codelineno-68-148"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p2</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-68-149" name="__codelineno-68-149" href="#__codelineno-68-149"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-150" name="__codelineno-68-150" href="#__codelineno-68-150"></a><span class="w">            </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p2</span><span class="p">].</span><span class="n">FirstEdge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj2</span><span class="p">;</span>
<a id="__codelineno-68-151" name="__codelineno-68-151" href="#__codelineno-68-151"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-152" name="__codelineno-68-152" href="#__codelineno-68-152"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span>
<a id="__codelineno-68-153" name="__codelineno-68-153" href="#__codelineno-68-153"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-154" name="__codelineno-68-154" href="#__codelineno-68-154"></a><span class="w">            </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LG</span><span class="o">-&gt;</span><span class="n">adjList</span><span class="p">[</span><span class="n">p2</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-68-155" name="__codelineno-68-155" href="#__codelineno-68-155"></a><span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-68-156" name="__codelineno-68-156" href="#__codelineno-68-156"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-68-157" name="__codelineno-68-157" href="#__codelineno-68-157"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-68-158" name="__codelineno-68-158" href="#__codelineno-68-158"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-68-159" name="__codelineno-68-159" href="#__codelineno-68-159"></a><span class="w">            </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adj2</span><span class="p">;</span>
<a id="__codelineno-68-160" name="__codelineno-68-160" href="#__codelineno-68-160"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-161" name="__codelineno-68-161" href="#__codelineno-68-161"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-162" name="__codelineno-68-162" href="#__codelineno-68-162"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="n">LG</span><span class="p">;</span>
<a id="__codelineno-68-163" name="__codelineno-68-163" href="#__codelineno-68-163"></a><span class="p">}</span>
<a id="__codelineno-68-164" name="__codelineno-68-164" href="#__codelineno-68-164"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">father</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-68-165" name="__codelineno-68-165" href="#__codelineno-68-165"></a><span class="p">{</span>
<a id="__codelineno-68-166" name="__codelineno-68-166" href="#__codelineno-68-166"></a><span class="w">    </span><span class="c1">// 找到x所在集合的根节点</span>
<a id="__codelineno-68-167" name="__codelineno-68-167" href="#__codelineno-68-167"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-68-168" name="__codelineno-68-168" href="#__codelineno-68-168"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">father</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<a id="__codelineno-68-169" name="__codelineno-68-169" href="#__codelineno-68-169"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-170" name="__codelineno-68-170" href="#__codelineno-68-170"></a><span class="w">        </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">father</span><span class="p">[</span><span class="n">a</span><span class="p">];</span>
<a id="__codelineno-68-171" name="__codelineno-68-171" href="#__codelineno-68-171"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-172" name="__codelineno-68-172" href="#__codelineno-68-172"></a><span class="w">    </span><span class="c1">// 路径压缩</span>
<a id="__codelineno-68-173" name="__codelineno-68-173" href="#__codelineno-68-173"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-68-174" name="__codelineno-68-174" href="#__codelineno-68-174"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-175" name="__codelineno-68-175" href="#__codelineno-68-175"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">father</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<a id="__codelineno-68-176" name="__codelineno-68-176" href="#__codelineno-68-176"></a><span class="w">        </span><span class="n">father</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-68-177" name="__codelineno-68-177" href="#__codelineno-68-177"></a><span class="w">        </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-68-178" name="__codelineno-68-178" href="#__codelineno-68-178"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-179" name="__codelineno-68-179" href="#__codelineno-68-179"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-68-180" name="__codelineno-68-180" href="#__codelineno-68-180"></a><span class="p">}</span>
<a id="__codelineno-68-181" name="__codelineno-68-181" href="#__codelineno-68-181"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Kruskal</span><span class="p">(</span><span class="n">GNode</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">sum</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">cnt</span><span class="p">)</span>
<a id="__codelineno-68-182" name="__codelineno-68-182" href="#__codelineno-68-182"></a><span class="p">{</span>
<a id="__codelineno-68-183" name="__codelineno-68-183" href="#__codelineno-68-183"></a><span class="w">    </span><span class="c1">// 初始化并查集</span>
<a id="__codelineno-68-184" name="__codelineno-68-184" href="#__codelineno-68-184"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-68-185" name="__codelineno-68-185" href="#__codelineno-68-185"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-68-186" name="__codelineno-68-186" href="#__codelineno-68-186"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">father</span><span class="p">[</span><span class="n">G</span><span class="p">.</span><span class="n">Vertexnum</span><span class="p">];</span>
<a id="__codelineno-68-187" name="__codelineno-68-187" href="#__codelineno-68-187"></a><span class="w">    </span><span class="c1">// 定义一数组，用于存储每个顶点的父节点，用于判断两个顶点是否在同一个集合中</span>
<a id="__codelineno-68-188" name="__codelineno-68-188" href="#__codelineno-68-188"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-68-189" name="__codelineno-68-189" href="#__codelineno-68-189"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-190" name="__codelineno-68-190" href="#__codelineno-68-190"></a><span class="w">        </span><span class="c1">// 初始化每个顶点的父节点为-1</span>
<a id="__codelineno-68-191" name="__codelineno-68-191" href="#__codelineno-68-191"></a><span class="w">        </span><span class="n">father</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-68-192" name="__codelineno-68-192" href="#__codelineno-68-192"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-193" name="__codelineno-68-193" href="#__codelineno-68-193"></a><span class="w">    </span><span class="c1">// 需要遍历所有的边，需要执行G.edgenum次</span>
<a id="__codelineno-68-194" name="__codelineno-68-194" href="#__codelineno-68-194"></a><span class="w">    </span><span class="c1">// 如果单纯的遍历vexnum-1次，可能会出现不连通的情况，因为中间有的边是同一个连通分量上的，不需要</span>
<a id="__codelineno-68-195" name="__codelineno-68-195" href="#__codelineno-68-195"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-68-196" name="__codelineno-68-196" href="#__codelineno-68-196"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-68-197" name="__codelineno-68-197" href="#__codelineno-68-197"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-68-198" name="__codelineno-68-198" href="#__codelineno-68-198"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-68-199" name="__codelineno-68-199" href="#__codelineno-68-199"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-200" name="__codelineno-68-200" href="#__codelineno-68-200"></a><span class="w">        </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-68-201" name="__codelineno-68-201" href="#__codelineno-68-201"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-68-202" name="__codelineno-68-202" href="#__codelineno-68-202"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-203" name="__codelineno-68-203" href="#__codelineno-68-203"></a><span class="w">            </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">adjList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-68-204" name="__codelineno-68-204" href="#__codelineno-68-204"></a><span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-68-205" name="__codelineno-68-205" href="#__codelineno-68-205"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-68-206" name="__codelineno-68-206" href="#__codelineno-68-206"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">weight</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-68-207" name="__codelineno-68-207" href="#__codelineno-68-207"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-68-208" name="__codelineno-68-208" href="#__codelineno-68-208"></a><span class="w">                    </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-68-209" name="__codelineno-68-209" href="#__codelineno-68-209"></a><span class="w">                    </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-68-210" name="__codelineno-68-210" href="#__codelineno-68-210"></a><span class="w">                    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="p">;</span>
<a id="__codelineno-68-211" name="__codelineno-68-211" href="#__codelineno-68-211"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-68-212" name="__codelineno-68-212" href="#__codelineno-68-212"></a><span class="w">                </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-68-213" name="__codelineno-68-213" href="#__codelineno-68-213"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-68-214" name="__codelineno-68-214" href="#__codelineno-68-214"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-215" name="__codelineno-68-215" href="#__codelineno-68-215"></a><span class="w">        </span><span class="c1">// 判断v0和v1是否在同一个集合中</span>
<a id="__codelineno-68-216" name="__codelineno-68-216" href="#__codelineno-68-216"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">father</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="p">);</span>
<a id="__codelineno-68-217" name="__codelineno-68-217" href="#__codelineno-68-217"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">father</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">);</span>
<a id="__codelineno-68-218" name="__codelineno-68-218" href="#__codelineno-68-218"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-68-219" name="__codelineno-68-219" href="#__codelineno-68-219"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-220" name="__codelineno-68-220" href="#__codelineno-68-220"></a><span class="w">            </span><span class="c1">// 如果不在同一个集合中，就将两个集合合并</span>
<a id="__codelineno-68-221" name="__codelineno-68-221" href="#__codelineno-68-221"></a><span class="w">            </span><span class="n">father</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-68-222" name="__codelineno-68-222" href="#__codelineno-68-222"></a><span class="w">            </span><span class="c1">// printf(&quot;%d %d %d\n&quot;, v1+1, v2+1, min);</span>
<a id="__codelineno-68-223" name="__codelineno-68-223" href="#__codelineno-68-223"></a><span class="w">            </span><span class="o">*</span><span class="n">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">min</span><span class="p">;</span>
<a id="__codelineno-68-224" name="__codelineno-68-224" href="#__codelineno-68-224"></a><span class="w">            </span><span class="n">Vex3</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span>
<a id="__codelineno-68-225" name="__codelineno-68-225" href="#__codelineno-68-225"></a><span class="w">            </span><span class="n">Vex4</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<a id="__codelineno-68-226" name="__codelineno-68-226" href="#__codelineno-68-226"></a><span class="w">            </span><span class="n">Weight2</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min</span><span class="p">;</span>
<a id="__codelineno-68-227" name="__codelineno-68-227" href="#__codelineno-68-227"></a>
<a id="__codelineno-68-228" name="__codelineno-68-228" href="#__codelineno-68-228"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-229" name="__codelineno-68-229" href="#__codelineno-68-229"></a><span class="w">        </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">adjList</span><span class="p">[</span><span class="n">v1</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-68-230" name="__codelineno-68-230" href="#__codelineno-68-230"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">temp1</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-68-231" name="__codelineno-68-231" href="#__codelineno-68-231"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-232" name="__codelineno-68-232" href="#__codelineno-68-232"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">temp1</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">v2</span><span class="p">)</span>
<a id="__codelineno-68-233" name="__codelineno-68-233" href="#__codelineno-68-233"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-68-234" name="__codelineno-68-234" href="#__codelineno-68-234"></a><span class="w">                </span><span class="n">temp1</span><span class="o">-&gt;</span><span class="n">weight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-68-235" name="__codelineno-68-235" href="#__codelineno-68-235"></a><span class="w">                </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-68-236" name="__codelineno-68-236" href="#__codelineno-68-236"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-68-237" name="__codelineno-68-237" href="#__codelineno-68-237"></a><span class="w">            </span><span class="n">temp1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp1</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-68-238" name="__codelineno-68-238" href="#__codelineno-68-238"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-239" name="__codelineno-68-239" href="#__codelineno-68-239"></a><span class="w">        </span><span class="n">PtrToAdjVNode</span><span class="w"> </span><span class="n">temp2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">adjList</span><span class="p">[</span><span class="n">v2</span><span class="p">].</span><span class="n">FirstEdge</span><span class="p">;</span>
<a id="__codelineno-68-240" name="__codelineno-68-240" href="#__codelineno-68-240"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">temp2</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-68-241" name="__codelineno-68-241" href="#__codelineno-68-241"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-242" name="__codelineno-68-242" href="#__codelineno-68-242"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">temp2</span><span class="o">-&gt;</span><span class="n">adjvex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">v1</span><span class="p">)</span>
<a id="__codelineno-68-243" name="__codelineno-68-243" href="#__codelineno-68-243"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-68-244" name="__codelineno-68-244" href="#__codelineno-68-244"></a><span class="w">                </span><span class="n">temp2</span><span class="o">-&gt;</span><span class="n">weight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-68-245" name="__codelineno-68-245" href="#__codelineno-68-245"></a><span class="w">                </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-68-246" name="__codelineno-68-246" href="#__codelineno-68-246"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-68-247" name="__codelineno-68-247" href="#__codelineno-68-247"></a><span class="w">            </span><span class="n">temp2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp2</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<a id="__codelineno-68-248" name="__codelineno-68-248" href="#__codelineno-68-248"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-249" name="__codelineno-68-249" href="#__codelineno-68-249"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-250" name="__codelineno-68-250" href="#__codelineno-68-250"></a><span class="w">    </span><span class="c1">// 判断是否存在MST</span>
<a id="__codelineno-68-251" name="__codelineno-68-251" href="#__codelineno-68-251"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Vertexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-68-252" name="__codelineno-68-252" href="#__codelineno-68-252"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-253" name="__codelineno-68-253" href="#__codelineno-68-253"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">father</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<a id="__codelineno-68-254" name="__codelineno-68-254" href="#__codelineno-68-254"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-68-255" name="__codelineno-68-255" href="#__codelineno-68-255"></a><span class="w">            </span><span class="p">(</span><span class="o">*</span><span class="n">cnt</span><span class="p">)</span><span class="w"> </span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-68-256" name="__codelineno-68-256" href="#__codelineno-68-256"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-68-257" name="__codelineno-68-257" href="#__codelineno-68-257"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-258" name="__codelineno-68-258" href="#__codelineno-68-258"></a>
<a id="__codelineno-68-259" name="__codelineno-68-259" href="#__codelineno-68-259"></a><span class="p">}</span>
<a id="__codelineno-68-260" name="__codelineno-68-260" href="#__codelineno-68-260"></a>
<a id="__codelineno-68-261" name="__codelineno-68-261" href="#__codelineno-68-261"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-68-262" name="__codelineno-68-262" href="#__codelineno-68-262"></a><span class="p">{</span>
<a id="__codelineno-68-263" name="__codelineno-68-263" href="#__codelineno-68-263"></a><span class="w">    </span><span class="n">GNode</span><span class="w"> </span><span class="n">LG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ReadG</span><span class="p">();</span>
<a id="__codelineno-68-264" name="__codelineno-68-264" href="#__codelineno-68-264"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-68-265" name="__codelineno-68-265" href="#__codelineno-68-265"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-68-266" name="__codelineno-68-266" href="#__codelineno-68-266"></a><span class="w">    </span><span class="n">Kruskal</span><span class="p">(</span><span class="n">LG</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sum</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">cnt</span><span class="p">);</span>
<a id="__codelineno-68-267" name="__codelineno-68-267" href="#__codelineno-68-267"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="n">sum</span><span class="p">);</span>
<a id="__codelineno-68-268" name="__codelineno-68-268" href="#__codelineno-68-268"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">cnt</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-68-269" name="__codelineno-68-269" href="#__codelineno-68-269"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-68-270" name="__codelineno-68-270" href="#__codelineno-68-270"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;No MST</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-68-271" name="__codelineno-68-271" href="#__codelineno-68-271"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cnt</span><span class="p">);</span>
<a id="__codelineno-68-272" name="__codelineno-68-272" href="#__codelineno-68-272"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-68-273" name="__codelineno-68-273" href="#__codelineno-68-273"></a><span class="p">}</span>
</code></pre></div>
<p>整合版</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;math.h&gt;</span>
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a>
<a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="cp">#define MAXVERTEXNUM 20</span>
<a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="cp">#define INF 65535</span>
<a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a>
<a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span>
<a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">WeightType</span><span class="p">;</span>
<a id="__codelineno-69-10" name="__codelineno-69-10" href="#__codelineno-69-10"></a>
<a id="__codelineno-69-11" name="__codelineno-69-11" href="#__codelineno-69-11"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">point</span><span class="p">{</span>
<a id="__codelineno-69-12" name="__codelineno-69-12" href="#__codelineno-69-12"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">Vertex</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-69-13" name="__codelineno-69-13" href="#__codelineno-69-13"></a><span class="w">    </span><span class="n">WeightType</span><span class="w"> </span><span class="n">Edge</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-69-14" name="__codelineno-69-14" href="#__codelineno-69-14"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">vexnum</span><span class="p">;</span>
<a id="__codelineno-69-15" name="__codelineno-69-15" href="#__codelineno-69-15"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">edgenum</span><span class="p">;</span>
<a id="__codelineno-69-16" name="__codelineno-69-16" href="#__codelineno-69-16"></a><span class="p">}</span><span class="n">MGraph</span><span class="p">;</span>
<a id="__codelineno-69-17" name="__codelineno-69-17" href="#__codelineno-69-17"></a>
<a id="__codelineno-69-18" name="__codelineno-69-18" href="#__codelineno-69-18"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ReadGraph</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="o">*</span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-69-19" name="__codelineno-69-19" href="#__codelineno-69-19"></a><span class="p">{</span>
<a id="__codelineno-69-20" name="__codelineno-69-20" href="#__codelineno-69-20"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-69-21" name="__codelineno-69-21" href="#__codelineno-69-21"></a><span class="w">    </span><span class="c1">// 读取顶点数和边数</span>
<a id="__codelineno-69-22" name="__codelineno-69-22" href="#__codelineno-69-22"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">);</span>
<a id="__codelineno-69-23" name="__codelineno-69-23" href="#__codelineno-69-23"></a><span class="w">    </span><span class="c1">// 初始化邻接矩阵</span>
<a id="__codelineno-69-24" name="__codelineno-69-24" href="#__codelineno-69-24"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-25" name="__codelineno-69-25" href="#__codelineno-69-25"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-69-26" name="__codelineno-69-26" href="#__codelineno-69-26"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-27" name="__codelineno-69-27" href="#__codelineno-69-27"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-69-28" name="__codelineno-69-28" href="#__codelineno-69-28"></a><span class="w">            </span><span class="c1">// 假设此处为无向图</span>
<a id="__codelineno-69-29" name="__codelineno-69-29" href="#__codelineno-69-29"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-69-30" name="__codelineno-69-30" href="#__codelineno-69-30"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-69-31" name="__codelineno-69-31" href="#__codelineno-69-31"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 无自环,自己到自己的距离为0</span>
<a id="__codelineno-69-32" name="__codelineno-69-32" href="#__codelineno-69-32"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-69-33" name="__codelineno-69-33" href="#__codelineno-69-33"></a><span class="w">            </span><span class="k">else</span>
<a id="__codelineno-69-34" name="__codelineno-69-34" href="#__codelineno-69-34"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-69-35" name="__codelineno-69-35" href="#__codelineno-69-35"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-69-36" name="__codelineno-69-36" href="#__codelineno-69-36"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-69-37" name="__codelineno-69-37" href="#__codelineno-69-37"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-69-38" name="__codelineno-69-38" href="#__codelineno-69-38"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-69-39" name="__codelineno-69-39" href="#__codelineno-69-39"></a><span class="w">    </span><span class="c1">// 读取边的信息</span>
<a id="__codelineno-69-40" name="__codelineno-69-40" href="#__codelineno-69-40"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-41" name="__codelineno-69-41" href="#__codelineno-69-41"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-69-42" name="__codelineno-69-42" href="#__codelineno-69-42"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">,</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-69-43" name="__codelineno-69-43" href="#__codelineno-69-43"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d %d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v2</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">weight</span><span class="p">);</span>
<a id="__codelineno-69-44" name="__codelineno-69-44" href="#__codelineno-69-44"></a><span class="w">        </span><span class="n">v1</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-69-45" name="__codelineno-69-45" href="#__codelineno-69-45"></a><span class="w">        </span><span class="n">v2</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-69-46" name="__codelineno-69-46" href="#__codelineno-69-46"></a><span class="w">        </span><span class="c1">// 设置邻接矩阵的时候，是从0开始的</span>
<a id="__codelineno-69-47" name="__codelineno-69-47" href="#__codelineno-69-47"></a><span class="w">        </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">v1</span><span class="p">][</span><span class="n">v2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">v2</span><span class="p">][</span><span class="n">v1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-69-48" name="__codelineno-69-48" href="#__codelineno-69-48"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-69-49" name="__codelineno-69-49" href="#__codelineno-69-49"></a><span class="p">}</span>
<a id="__codelineno-69-50" name="__codelineno-69-50" href="#__codelineno-69-50"></a><span class="c1">// 使用Prim算法实现最小生成树</span>
<a id="__codelineno-69-51" name="__codelineno-69-51" href="#__codelineno-69-51"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Prim</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v0</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dist</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[])</span>
<a id="__codelineno-69-52" name="__codelineno-69-52" href="#__codelineno-69-52"></a><span class="p">{</span>
<a id="__codelineno-69-53" name="__codelineno-69-53" href="#__codelineno-69-53"></a><span class="w">    </span><span class="c1">// v0是起始顶点，可以任意选取</span>
<a id="__codelineno-69-54" name="__codelineno-69-54" href="#__codelineno-69-54"></a><span class="w">    </span><span class="c1">// 初始化dist数组和path数组</span>
<a id="__codelineno-69-55" name="__codelineno-69-55" href="#__codelineno-69-55"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-69-56" name="__codelineno-69-56" href="#__codelineno-69-56"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span><span class="w"> </span><span class="c1">// 用于标记顶点是否已经被访问</span>
<a id="__codelineno-69-57" name="__codelineno-69-57" href="#__codelineno-69-57"></a><span class="w">    </span><span class="n">v0</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-69-58" name="__codelineno-69-58" href="#__codelineno-69-58"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-59" name="__codelineno-69-59" href="#__codelineno-69-59"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-69-60" name="__codelineno-69-60" href="#__codelineno-69-60"></a><span class="w">        </span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v0</span><span class="p">][</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-69-61" name="__codelineno-69-61" href="#__codelineno-69-61"></a><span class="w">        </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">// -1表示没有路径</span>
<a id="__codelineno-69-62" name="__codelineno-69-62" href="#__codelineno-69-62"></a><span class="w">        </span><span class="n">flag</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点i还没有被访问</span>
<a id="__codelineno-69-63" name="__codelineno-69-63" href="#__codelineno-69-63"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-69-64" name="__codelineno-69-64" href="#__codelineno-69-64"></a><span class="w">    </span><span class="n">flag</span><span class="p">[</span><span class="n">v0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点v0已经被访问</span>
<a id="__codelineno-69-65" name="__codelineno-69-65" href="#__codelineno-69-65"></a><span class="w">    </span><span class="c1">// 要想找到最小生成树，需要找到n-1条边，n为顶点数，需要执行循环n-1次</span>
<a id="__codelineno-69-66" name="__codelineno-69-66" href="#__codelineno-69-66"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-67" name="__codelineno-69-67" href="#__codelineno-69-67"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-69-68" name="__codelineno-69-68" href="#__codelineno-69-68"></a><span class="w">        </span><span class="c1">// 找到当前未被访问的顶点中距离v0最近的顶点</span>
<a id="__codelineno-69-69" name="__codelineno-69-69" href="#__codelineno-69-69"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-69-70" name="__codelineno-69-70" href="#__codelineno-69-70"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-69-71" name="__codelineno-69-71" href="#__codelineno-69-71"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-69-72" name="__codelineno-69-72" href="#__codelineno-69-72"></a><span class="w">        </span><span class="c1">// v0 和 v1 分别表示边的两个顶点</span>
<a id="__codelineno-69-73" name="__codelineno-69-73" href="#__codelineno-69-73"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-74" name="__codelineno-69-74" href="#__codelineno-69-74"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-69-75" name="__codelineno-69-75" href="#__codelineno-69-75"></a><span class="w">            </span><span class="c1">// 此时比较的是edge的长度，以已经被访问的点作为起点，未被访问的点作为终点</span>
<a id="__codelineno-69-76" name="__codelineno-69-76" href="#__codelineno-69-76"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-77" name="__codelineno-69-77" href="#__codelineno-69-77"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-69-78" name="__codelineno-69-78" href="#__codelineno-69-78"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">flag</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-69-79" name="__codelineno-69-79" href="#__codelineno-69-79"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-69-80" name="__codelineno-69-80" href="#__codelineno-69-80"></a><span class="w">                    </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-69-81" name="__codelineno-69-81" href="#__codelineno-69-81"></a><span class="w">                    </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-69-82" name="__codelineno-69-82" href="#__codelineno-69-82"></a><span class="w">                    </span><span class="n">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-69-83" name="__codelineno-69-83" href="#__codelineno-69-83"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-69-84" name="__codelineno-69-84" href="#__codelineno-69-84"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-69-85" name="__codelineno-69-85" href="#__codelineno-69-85"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-69-86" name="__codelineno-69-86" href="#__codelineno-69-86"></a><span class="w">        </span><span class="n">flag</span><span class="p">[</span><span class="n">v1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点v1已经被访问</span>
<a id="__codelineno-69-87" name="__codelineno-69-87" href="#__codelineno-69-87"></a><span class="w">        </span><span class="n">path</span><span class="p">[</span><span class="n">v1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 顶点v1的前驱是v0</span>
<a id="__codelineno-69-88" name="__codelineno-69-88" href="#__codelineno-69-88"></a><span class="w">        </span><span class="c1">// 输出最小生成树的边</span>
<a id="__codelineno-69-89" name="__codelineno-69-89" href="#__codelineno-69-89"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %d %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="p">);</span>
<a id="__codelineno-69-90" name="__codelineno-69-90" href="#__codelineno-69-90"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %d %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">v1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">path</span><span class="p">[</span><span class="n">v1</span><span class="p">]][</span><span class="n">v1</span><span class="p">]);</span>
<a id="__codelineno-69-91" name="__codelineno-69-91" href="#__codelineno-69-91"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-69-92" name="__codelineno-69-92" href="#__codelineno-69-92"></a><span class="p">}</span>
<a id="__codelineno-69-93" name="__codelineno-69-93" href="#__codelineno-69-93"></a><span class="c1">// 判断是否为最小生成树序列</span>
<a id="__codelineno-69-94" name="__codelineno-69-94" href="#__codelineno-69-94"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Is_SpanningTree</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Seq</span><span class="p">[])</span>
<a id="__codelineno-69-95" name="__codelineno-69-95" href="#__codelineno-69-95"></a><span class="p">{</span>
<a id="__codelineno-69-96" name="__codelineno-69-96" href="#__codelineno-69-96"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-69-97" name="__codelineno-69-97" href="#__codelineno-69-97"></a><span class="w">    </span><span class="c1">// 初始化，先将Seq的每一个元素的值减一</span>
<a id="__codelineno-69-98" name="__codelineno-69-98" href="#__codelineno-69-98"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-99" name="__codelineno-69-99" href="#__codelineno-69-99"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-69-100" name="__codelineno-69-100" href="#__codelineno-69-100"></a><span class="w">        </span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-69-101" name="__codelineno-69-101" href="#__codelineno-69-101"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-69-102" name="__codelineno-69-102" href="#__codelineno-69-102"></a><span class="w">    </span><span class="c1">// flag[Seq[0]] = 1; // 顶点Seq[0]已经被访问</span>
<a id="__codelineno-69-103" name="__codelineno-69-103" href="#__codelineno-69-103"></a><span class="w">    </span><span class="c1">// 除去第一个顶点，其他顶点都需要进行判断，需要遍历G.vexnum - 1次</span>
<a id="__codelineno-69-104" name="__codelineno-69-104" href="#__codelineno-69-104"></a><span class="w">    </span><span class="c1">// i 表示下标，从Seq[1]开始</span>
<a id="__codelineno-69-105" name="__codelineno-69-105" href="#__codelineno-69-105"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-106" name="__codelineno-69-106" href="#__codelineno-69-106"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-69-107" name="__codelineno-69-107" href="#__codelineno-69-107"></a><span class="w">        </span><span class="c1">// j表示的是也是下标，是已经被判断过的顶点的下标</span>
<a id="__codelineno-69-108" name="__codelineno-69-108" href="#__codelineno-69-108"></a><span class="w">        </span><span class="c1">// 需要判断Seq[i]是否是以Seq[0],Seq[1],....Seq[i-1]为起点的最短路径</span>
<a id="__codelineno-69-109" name="__codelineno-69-109" href="#__codelineno-69-109"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-69-110" name="__codelineno-69-110" href="#__codelineno-69-110"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-111" name="__codelineno-69-111" href="#__codelineno-69-111"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-69-112" name="__codelineno-69-112" href="#__codelineno-69-112"></a><span class="w">            </span><span class="c1">// k表示的是没被判断过的顶点的下标，从i开始</span>
<a id="__codelineno-69-113" name="__codelineno-69-113" href="#__codelineno-69-113"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-114" name="__codelineno-69-114" href="#__codelineno-69-114"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-69-115" name="__codelineno-69-115" href="#__codelineno-69-115"></a><span class="w">                </span><span class="c1">// 先寻找最短长度的边，记录前驱和后驱</span>
<a id="__codelineno-69-116" name="__codelineno-69-116" href="#__codelineno-69-116"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">j</span><span class="p">]][</span><span class="n">Seq</span><span class="p">[</span><span class="n">k</span><span class="p">]]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-69-117" name="__codelineno-69-117" href="#__codelineno-69-117"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-69-118" name="__codelineno-69-118" href="#__codelineno-69-118"></a><span class="w">                    </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">j</span><span class="p">]][</span><span class="n">Seq</span><span class="p">[</span><span class="n">k</span><span class="p">]];</span>
<a id="__codelineno-69-119" name="__codelineno-69-119" href="#__codelineno-69-119"></a><span class="w">                    </span><span class="c1">// v0 = Seq[j];</span>
<a id="__codelineno-69-120" name="__codelineno-69-120" href="#__codelineno-69-120"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-69-121" name="__codelineno-69-121" href="#__codelineno-69-121"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-69-122" name="__codelineno-69-122" href="#__codelineno-69-122"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-69-123" name="__codelineno-69-123" href="#__codelineno-69-123"></a><span class="w">        </span><span class="c1">// (v0,Seq[i])是不是最短的边</span>
<a id="__codelineno-69-124" name="__codelineno-69-124" href="#__codelineno-69-124"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-69-125" name="__codelineno-69-125" href="#__codelineno-69-125"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-126" name="__codelineno-69-126" href="#__codelineno-69-126"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-69-127" name="__codelineno-69-127" href="#__codelineno-69-127"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">Seq</span><span class="p">[</span><span class="n">j</span><span class="p">]][</span><span class="n">Seq</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-69-128" name="__codelineno-69-128" href="#__codelineno-69-128"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-69-129" name="__codelineno-69-129" href="#__codelineno-69-129"></a><span class="w">                </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-69-130" name="__codelineno-69-130" href="#__codelineno-69-130"></a><span class="w">                </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-69-131" name="__codelineno-69-131" href="#__codelineno-69-131"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-69-132" name="__codelineno-69-132" href="#__codelineno-69-132"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-69-133" name="__codelineno-69-133" href="#__codelineno-69-133"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-69-134" name="__codelineno-69-134" href="#__codelineno-69-134"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-69-135" name="__codelineno-69-135" href="#__codelineno-69-135"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;No</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-69-136" name="__codelineno-69-136" href="#__codelineno-69-136"></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-69-137" name="__codelineno-69-137" href="#__codelineno-69-137"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-69-138" name="__codelineno-69-138" href="#__codelineno-69-138"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-69-139" name="__codelineno-69-139" href="#__codelineno-69-139"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Yes</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-69-140" name="__codelineno-69-140" href="#__codelineno-69-140"></a><span class="p">}</span>
<a id="__codelineno-69-141" name="__codelineno-69-141" href="#__codelineno-69-141"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">father</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-69-142" name="__codelineno-69-142" href="#__codelineno-69-142"></a><span class="p">{</span>
<a id="__codelineno-69-143" name="__codelineno-69-143" href="#__codelineno-69-143"></a><span class="w">    </span><span class="c1">// 找到x所在集合的根节点</span>
<a id="__codelineno-69-144" name="__codelineno-69-144" href="#__codelineno-69-144"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-69-145" name="__codelineno-69-145" href="#__codelineno-69-145"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">father</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<a id="__codelineno-69-146" name="__codelineno-69-146" href="#__codelineno-69-146"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-69-147" name="__codelineno-69-147" href="#__codelineno-69-147"></a><span class="w">        </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">father</span><span class="p">[</span><span class="n">a</span><span class="p">];</span>
<a id="__codelineno-69-148" name="__codelineno-69-148" href="#__codelineno-69-148"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-69-149" name="__codelineno-69-149" href="#__codelineno-69-149"></a><span class="w">    </span><span class="c1">// 路径压缩</span>
<a id="__codelineno-69-150" name="__codelineno-69-150" href="#__codelineno-69-150"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-69-151" name="__codelineno-69-151" href="#__codelineno-69-151"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-69-152" name="__codelineno-69-152" href="#__codelineno-69-152"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">father</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<a id="__codelineno-69-153" name="__codelineno-69-153" href="#__codelineno-69-153"></a><span class="w">        </span><span class="n">father</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-69-154" name="__codelineno-69-154" href="#__codelineno-69-154"></a><span class="w">        </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-69-155" name="__codelineno-69-155" href="#__codelineno-69-155"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-69-156" name="__codelineno-69-156" href="#__codelineno-69-156"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-69-157" name="__codelineno-69-157" href="#__codelineno-69-157"></a><span class="p">}</span>
<a id="__codelineno-69-158" name="__codelineno-69-158" href="#__codelineno-69-158"></a><span class="c1">// 使用Kruskal算法实现最小生成树</span>
<a id="__codelineno-69-159" name="__codelineno-69-159" href="#__codelineno-69-159"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Kruskal</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-69-160" name="__codelineno-69-160" href="#__codelineno-69-160"></a><span class="p">{</span>
<a id="__codelineno-69-161" name="__codelineno-69-161" href="#__codelineno-69-161"></a><span class="w">    </span><span class="c1">// 初始化并查集</span>
<a id="__codelineno-69-162" name="__codelineno-69-162" href="#__codelineno-69-162"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-69-163" name="__codelineno-69-163" href="#__codelineno-69-163"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">father</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-69-164" name="__codelineno-69-164" href="#__codelineno-69-164"></a><span class="w">    </span><span class="c1">// 定义一数组，用于存储每个顶点的父节点，用于判断两个顶点是否在同一个集合中</span>
<a id="__codelineno-69-165" name="__codelineno-69-165" href="#__codelineno-69-165"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-166" name="__codelineno-69-166" href="#__codelineno-69-166"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-69-167" name="__codelineno-69-167" href="#__codelineno-69-167"></a><span class="w">        </span><span class="c1">// 初始化每个顶点的父节点为-1</span>
<a id="__codelineno-69-168" name="__codelineno-69-168" href="#__codelineno-69-168"></a><span class="w">        </span><span class="n">father</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-69-169" name="__codelineno-69-169" href="#__codelineno-69-169"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-69-170" name="__codelineno-69-170" href="#__codelineno-69-170"></a><span class="w">    </span><span class="c1">// 需要遍历所有的边，需要执行G.edgenum次</span>
<a id="__codelineno-69-171" name="__codelineno-69-171" href="#__codelineno-69-171"></a><span class="w">    </span><span class="c1">// 如果单纯的遍历vexnum-1次，可能会出现不连通的情况，因为中间有的边是同一个连通分量上的，不需要</span>
<a id="__codelineno-69-172" name="__codelineno-69-172" href="#__codelineno-69-172"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-173" name="__codelineno-69-173" href="#__codelineno-69-173"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-69-174" name="__codelineno-69-174" href="#__codelineno-69-174"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-69-175" name="__codelineno-69-175" href="#__codelineno-69-175"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-69-176" name="__codelineno-69-176" href="#__codelineno-69-176"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-69-177" name="__codelineno-69-177" href="#__codelineno-69-177"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-178" name="__codelineno-69-178" href="#__codelineno-69-178"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-69-179" name="__codelineno-69-179" href="#__codelineno-69-179"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-69-180" name="__codelineno-69-180" href="#__codelineno-69-180"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-69-181" name="__codelineno-69-181" href="#__codelineno-69-181"></a><span class="w">                </span><span class="c1">// 找到最小的边</span>
<a id="__codelineno-69-182" name="__codelineno-69-182" href="#__codelineno-69-182"></a><span class="w">                </span><span class="c1">// 由于定义自己到自己的距离为0，所以需要判断j和k是否相等</span>
<a id="__codelineno-69-183" name="__codelineno-69-183" href="#__codelineno-69-183"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="p">)</span>
<a id="__codelineno-69-184" name="__codelineno-69-184" href="#__codelineno-69-184"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-69-185" name="__codelineno-69-185" href="#__codelineno-69-185"></a><span class="w">                    </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-69-186" name="__codelineno-69-186" href="#__codelineno-69-186"></a><span class="w">                    </span><span class="n">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-69-187" name="__codelineno-69-187" href="#__codelineno-69-187"></a><span class="w">                    </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-69-188" name="__codelineno-69-188" href="#__codelineno-69-188"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-69-189" name="__codelineno-69-189" href="#__codelineno-69-189"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-69-190" name="__codelineno-69-190" href="#__codelineno-69-190"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-69-191" name="__codelineno-69-191" href="#__codelineno-69-191"></a><span class="w">        </span><span class="c1">// 判断v0和v1是否在同一个集合中</span>
<a id="__codelineno-69-192" name="__codelineno-69-192" href="#__codelineno-69-192"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">father</span><span class="p">,</span><span class="w"> </span><span class="n">v0</span><span class="p">);</span>
<a id="__codelineno-69-193" name="__codelineno-69-193" href="#__codelineno-69-193"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">father</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="p">);</span>
<a id="__codelineno-69-194" name="__codelineno-69-194" href="#__codelineno-69-194"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-69-195" name="__codelineno-69-195" href="#__codelineno-69-195"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-69-196" name="__codelineno-69-196" href="#__codelineno-69-196"></a><span class="w">            </span><span class="c1">// 如果不在同一个集合中，就将两个集合合并</span>
<a id="__codelineno-69-197" name="__codelineno-69-197" href="#__codelineno-69-197"></a><span class="w">            </span><span class="n">father</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-69-198" name="__codelineno-69-198" href="#__codelineno-69-198"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %d %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="p">);</span>
<a id="__codelineno-69-199" name="__codelineno-69-199" href="#__codelineno-69-199"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-69-200" name="__codelineno-69-200" href="#__codelineno-69-200"></a><span class="w">        </span><span class="c1">// 将这条边从图中删除，边的weight设置为INF，后续就不可能小于min了</span>
<a id="__codelineno-69-201" name="__codelineno-69-201" href="#__codelineno-69-201"></a><span class="w">        </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v0</span><span class="p">][</span><span class="n">v1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v1</span><span class="p">][</span><span class="n">v0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INF</span><span class="p">;</span>
<a id="__codelineno-69-202" name="__codelineno-69-202" href="#__codelineno-69-202"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-69-203" name="__codelineno-69-203" href="#__codelineno-69-203"></a><span class="p">}</span>
<a id="__codelineno-69-204" name="__codelineno-69-204" href="#__codelineno-69-204"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-69-205" name="__codelineno-69-205" href="#__codelineno-69-205"></a><span class="p">{</span>
<a id="__codelineno-69-206" name="__codelineno-69-206" href="#__codelineno-69-206"></a><span class="w">    </span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">;</span>
<a id="__codelineno-69-207" name="__codelineno-69-207" href="#__codelineno-69-207"></a><span class="w">    </span><span class="n">ReadGraph</span><span class="p">(</span><span class="o">&amp;</span><span class="n">G</span><span class="p">);</span>
<a id="__codelineno-69-208" name="__codelineno-69-208" href="#__codelineno-69-208"></a><span class="w">    </span><span class="c1">// int dist[MAXVERTEXNUM];</span>
<a id="__codelineno-69-209" name="__codelineno-69-209" href="#__codelineno-69-209"></a><span class="w">    </span><span class="c1">// int path[MAXVERTEXNUM];</span>
<a id="__codelineno-69-210" name="__codelineno-69-210" href="#__codelineno-69-210"></a><span class="w">    </span><span class="c1">// Prim(G, 1, dist, path);</span>
<a id="__codelineno-69-211" name="__codelineno-69-211" href="#__codelineno-69-211"></a><span class="w">    </span><span class="c1">// int Seq[MAXVERTEXNUM];</span>
<a id="__codelineno-69-212" name="__codelineno-69-212" href="#__codelineno-69-212"></a><span class="w">    </span><span class="c1">// for(int i = 0; i &lt; G.vexnum; i++)</span>
<a id="__codelineno-69-213" name="__codelineno-69-213" href="#__codelineno-69-213"></a><span class="w">    </span><span class="c1">// {</span>
<a id="__codelineno-69-214" name="__codelineno-69-214" href="#__codelineno-69-214"></a><span class="w">    </span><span class="c1">//     scanf(&quot;%d&quot;,&amp;Seq[i]);</span>
<a id="__codelineno-69-215" name="__codelineno-69-215" href="#__codelineno-69-215"></a><span class="w">    </span><span class="c1">// }</span>
<a id="__codelineno-69-216" name="__codelineno-69-216" href="#__codelineno-69-216"></a><span class="w">    </span><span class="c1">// Is_SpanningTree(G, Seq);</span>
<a id="__codelineno-69-217" name="__codelineno-69-217" href="#__codelineno-69-217"></a><span class="w">    </span><span class="n">Kruskal</span><span class="p">(</span><span class="n">G</span><span class="p">);</span>
<a id="__codelineno-69-218" name="__codelineno-69-218" href="#__codelineno-69-218"></a><span class="p">}</span>
</code></pre></div>
<h2 id="87-network-flow-problem">8.7 Network Flow Problem<a class="headerlink" href="#87-network-flow-problem" title="Permanent link">&para;</a></h2>
<h3 id="871">8.7.1 最大流，最小割问题<a class="headerlink" href="#871" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="cp">#include</span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a>
<a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="cp">#define MAXVERTEXNUM 20</span>
<a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="cp">#define INF 65535</span>
<a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a>
<a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">VertexType</span><span class="p">;</span>
<a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">WeightType</span><span class="p">;</span>
<a id="__codelineno-70-9" name="__codelineno-70-9" href="#__codelineno-70-9"></a>
<a id="__codelineno-70-10" name="__codelineno-70-10" href="#__codelineno-70-10"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">point</span><span class="p">{</span>
<a id="__codelineno-70-11" name="__codelineno-70-11" href="#__codelineno-70-11"></a><span class="w">    </span><span class="n">VertexType</span><span class="w"> </span><span class="n">Vertex</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-70-12" name="__codelineno-70-12" href="#__codelineno-70-12"></a><span class="w">    </span><span class="n">WeightType</span><span class="w"> </span><span class="n">Edge</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">][</span><span class="n">MAXVERTEXNUM</span><span class="p">];</span>
<a id="__codelineno-70-13" name="__codelineno-70-13" href="#__codelineno-70-13"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">vexnum</span><span class="p">;</span>
<a id="__codelineno-70-14" name="__codelineno-70-14" href="#__codelineno-70-14"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">edgenum</span><span class="p">;</span>
<a id="__codelineno-70-15" name="__codelineno-70-15" href="#__codelineno-70-15"></a><span class="p">}</span><span class="n">MGraph</span><span class="p">;</span>
<a id="__codelineno-70-16" name="__codelineno-70-16" href="#__codelineno-70-16"></a><span class="kt">int</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-70-17" name="__codelineno-70-17" href="#__codelineno-70-17"></a><span class="kt">int</span><span class="w"> </span><span class="n">d_src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">d_des</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-70-18" name="__codelineno-70-18" href="#__codelineno-70-18"></a><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-70-19" name="__codelineno-70-19" href="#__codelineno-70-19"></a><span class="kt">int</span><span class="w"> </span><span class="nf">char_to_int</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">map</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<a id="__codelineno-70-20" name="__codelineno-70-20" href="#__codelineno-70-20"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span>
<a id="__codelineno-70-21" name="__codelineno-70-21" href="#__codelineno-70-21"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<a id="__codelineno-70-22" name="__codelineno-70-22" href="#__codelineno-70-22"></a><span class="w">        </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">26</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="p">;</span><span class="w">  </span>
<a id="__codelineno-70-23" name="__codelineno-70-23" href="#__codelineno-70-23"></a><span class="w">        </span><span class="n">s</span><span class="o">++</span><span class="p">;</span><span class="w">  </span>
<a id="__codelineno-70-24" name="__codelineno-70-24" href="#__codelineno-70-24"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-70-25" name="__codelineno-70-25" href="#__codelineno-70-25"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">map</span><span class="p">[</span><span class="n">d</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-70-26" name="__codelineno-70-26" href="#__codelineno-70-26"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-70-27" name="__codelineno-70-27" href="#__codelineno-70-27"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">d</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">d_src</span><span class="p">)</span>
<a id="__codelineno-70-28" name="__codelineno-70-28" href="#__codelineno-70-28"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-70-29" name="__codelineno-70-29" href="#__codelineno-70-29"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-70-30" name="__codelineno-70-30" href="#__codelineno-70-30"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-70-31" name="__codelineno-70-31" href="#__codelineno-70-31"></a><span class="w">                </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-70-32" name="__codelineno-70-32" href="#__codelineno-70-32"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-70-33" name="__codelineno-70-33" href="#__codelineno-70-33"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">map</span><span class="p">[</span><span class="n">d</span><span class="p">];</span>
<a id="__codelineno-70-34" name="__codelineno-70-34" href="#__codelineno-70-34"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-70-35" name="__codelineno-70-35" href="#__codelineno-70-35"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">d</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">d_des</span><span class="p">)</span>
<a id="__codelineno-70-36" name="__codelineno-70-36" href="#__codelineno-70-36"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-70-37" name="__codelineno-70-37" href="#__codelineno-70-37"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">MAXVERTEXNUM</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-70-38" name="__codelineno-70-38" href="#__codelineno-70-38"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-70-39" name="__codelineno-70-39" href="#__codelineno-70-39"></a><span class="w">        </span><span class="n">map</span><span class="p">[</span><span class="n">d</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-70-40" name="__codelineno-70-40" href="#__codelineno-70-40"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-70-41" name="__codelineno-70-41" href="#__codelineno-70-41"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">map</span><span class="p">[</span><span class="n">d</span><span class="p">];</span>
<a id="__codelineno-70-42" name="__codelineno-70-42" href="#__codelineno-70-42"></a><span class="p">}</span><span class="w">  </span>
<a id="__codelineno-70-43" name="__codelineno-70-43" href="#__codelineno-70-43"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ReadGraph</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="o">*</span><span class="n">G</span><span class="p">)</span>
<a id="__codelineno-70-44" name="__codelineno-70-44" href="#__codelineno-70-44"></a><span class="p">{</span>
<a id="__codelineno-70-45" name="__codelineno-70-45" href="#__codelineno-70-45"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-70-46" name="__codelineno-70-46" href="#__codelineno-70-46"></a><span class="w">    </span><span class="c1">// 读取顶点数和边数</span>
<a id="__codelineno-70-47" name="__codelineno-70-47" href="#__codelineno-70-47"></a><span class="w">    </span><span class="c1">// scanf(&quot;%d %d&quot;,&amp;G-&gt;vexnum, &amp;G-&gt;edgenum);</span>
<a id="__codelineno-70-48" name="__codelineno-70-48" href="#__codelineno-70-48"></a><span class="w">    </span><span class="c1">// 初始化邻接矩阵</span>
<a id="__codelineno-70-49" name="__codelineno-70-49" href="#__codelineno-70-49"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">map</span><span class="p">[</span><span class="mi">10000</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-70-50" name="__codelineno-70-50" href="#__codelineno-70-50"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">source</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="n">destination</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<a id="__codelineno-70-51" name="__codelineno-70-51" href="#__codelineno-70-51"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%s %s %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">destination</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">);</span>
<a id="__codelineno-70-52" name="__codelineno-70-52" href="#__codelineno-70-52"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-70-53" name="__codelineno-70-53" href="#__codelineno-70-53"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-70-54" name="__codelineno-70-54" href="#__codelineno-70-54"></a>
<a id="__codelineno-70-55" name="__codelineno-70-55" href="#__codelineno-70-55"></a><span class="w">        </span><span class="n">d_src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d_src</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">26</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">source</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="p">;</span>
<a id="__codelineno-70-56" name="__codelineno-70-56" href="#__codelineno-70-56"></a><span class="w">        </span><span class="n">d_des</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d_des</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">26</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">destination</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="p">;</span>
<a id="__codelineno-70-57" name="__codelineno-70-57" href="#__codelineno-70-57"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-70-58" name="__codelineno-70-58" href="#__codelineno-70-58"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">d_src</span><span class="p">,</span><span class="w"> </span><span class="n">d_des</span><span class="p">);</span>
<a id="__codelineno-70-59" name="__codelineno-70-59" href="#__codelineno-70-59"></a><span class="w">    </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<a id="__codelineno-70-60" name="__codelineno-70-60" href="#__codelineno-70-60"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">char_to_int</span><span class="p">(</span><span class="n">source</span><span class="w"> </span><span class="p">,</span><span class="n">map</span><span class="p">);</span>
<a id="__codelineno-70-61" name="__codelineno-70-61" href="#__codelineno-70-61"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">des</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">char_to_int</span><span class="p">(</span><span class="n">destination</span><span class="p">,</span><span class="w"> </span><span class="n">map</span><span class="p">);</span>
<a id="__codelineno-70-62" name="__codelineno-70-62" href="#__codelineno-70-62"></a><span class="w">    </span><span class="c1">//printf(&quot;%d %d\n&quot;, src, des);</span>
<a id="__codelineno-70-63" name="__codelineno-70-63" href="#__codelineno-70-63"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-70-64" name="__codelineno-70-64" href="#__codelineno-70-64"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-70-65" name="__codelineno-70-65" href="#__codelineno-70-65"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-70-66" name="__codelineno-70-66" href="#__codelineno-70-66"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-70-67" name="__codelineno-70-67" href="#__codelineno-70-67"></a><span class="w">            </span><span class="c1">// 假设此处为无向图</span>
<a id="__codelineno-70-68" name="__codelineno-70-68" href="#__codelineno-70-68"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-70-69" name="__codelineno-70-69" href="#__codelineno-70-69"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-70-70" name="__codelineno-70-70" href="#__codelineno-70-70"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 无自环,自己到自己的距离为0</span>
<a id="__codelineno-70-71" name="__codelineno-70-71" href="#__codelineno-70-71"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-70-72" name="__codelineno-70-72" href="#__codelineno-70-72"></a><span class="w">            </span><span class="k">else</span>
<a id="__codelineno-70-73" name="__codelineno-70-73" href="#__codelineno-70-73"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-70-74" name="__codelineno-70-74" href="#__codelineno-70-74"></a><span class="w">                </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-70-75" name="__codelineno-70-75" href="#__codelineno-70-75"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-70-76" name="__codelineno-70-76" href="#__codelineno-70-76"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-70-77" name="__codelineno-70-77" href="#__codelineno-70-77"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-70-78" name="__codelineno-70-78" href="#__codelineno-70-78"></a><span class="w">    </span><span class="c1">// 读取边的信息</span>
<a id="__codelineno-70-79" name="__codelineno-70-79" href="#__codelineno-70-79"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">edgenum</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-70-80" name="__codelineno-70-80" href="#__codelineno-70-80"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-70-81" name="__codelineno-70-81" href="#__codelineno-70-81"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">,</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-70-82" name="__codelineno-70-82" href="#__codelineno-70-82"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%s %s %d&quot;</span><span class="p">,</span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">destination</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">weight</span><span class="p">);</span>
<a id="__codelineno-70-83" name="__codelineno-70-83" href="#__codelineno-70-83"></a><span class="w">        </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">char_to_int</span><span class="p">(</span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">map</span><span class="p">);</span>
<a id="__codelineno-70-84" name="__codelineno-70-84" href="#__codelineno-70-84"></a><span class="w">        </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">char_to_int</span><span class="p">(</span><span class="n">destination</span><span class="p">,</span><span class="w"> </span><span class="n">map</span><span class="p">);</span>
<a id="__codelineno-70-85" name="__codelineno-70-85" href="#__codelineno-70-85"></a><span class="w">        </span><span class="c1">//printf(&quot;%d %d\n&quot;, v1, v2);</span>
<a id="__codelineno-70-86" name="__codelineno-70-86" href="#__codelineno-70-86"></a><span class="w">        </span><span class="c1">// 设置邻接矩阵的时候，是从0开始的</span>
<a id="__codelineno-70-87" name="__codelineno-70-87" href="#__codelineno-70-87"></a><span class="w">        </span><span class="n">G</span><span class="o">-&gt;</span><span class="n">Edge</span><span class="p">[</span><span class="n">v1</span><span class="p">][</span><span class="n">v2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">weight</span><span class="p">;</span>
<a id="__codelineno-70-88" name="__codelineno-70-88" href="#__codelineno-70-88"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-70-89" name="__codelineno-70-89" href="#__codelineno-70-89"></a><span class="p">}</span>
<a id="__codelineno-70-90" name="__codelineno-70-90" href="#__codelineno-70-90"></a><span class="kt">int</span><span class="w"> </span><span class="nf">BFS</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">des</span><span class="p">)</span>
<a id="__codelineno-70-91" name="__codelineno-70-91" href="#__codelineno-70-91"></a><span class="p">{</span>
<a id="__codelineno-70-92" name="__codelineno-70-92" href="#__codelineno-70-92"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-70-93" name="__codelineno-70-93" href="#__codelineno-70-93"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Queue</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-70-94" name="__codelineno-70-94" href="#__codelineno-70-94"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-70-95" name="__codelineno-70-95" href="#__codelineno-70-95"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">visited</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-70-96" name="__codelineno-70-96" href="#__codelineno-70-96"></a><span class="w">    </span><span class="c1">// int dist[MAXVERTEXNUM] = {0};</span>
<a id="__codelineno-70-97" name="__codelineno-70-97" href="#__codelineno-70-97"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-70-98" name="__codelineno-70-98" href="#__codelineno-70-98"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-70-99" name="__codelineno-70-99" href="#__codelineno-70-99"></a><span class="w">        </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-70-100" name="__codelineno-70-100" href="#__codelineno-70-100"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-70-101" name="__codelineno-70-101" href="#__codelineno-70-101"></a><span class="w">    </span><span class="n">Queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">src</span><span class="p">;</span>
<a id="__codelineno-70-102" name="__codelineno-70-102" href="#__codelineno-70-102"></a><span class="w">    </span><span class="n">visited</span><span class="p">[</span><span class="n">src</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-70-103" name="__codelineno-70-103" href="#__codelineno-70-103"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">flow</span><span class="p">[</span><span class="n">MAXVERTEXNUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">INF</span><span class="p">};</span>
<a id="__codelineno-70-104" name="__codelineno-70-104" href="#__codelineno-70-104"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">front</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">rear</span><span class="p">)</span>
<a id="__codelineno-70-105" name="__codelineno-70-105" href="#__codelineno-70-105"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-70-106" name="__codelineno-70-106" href="#__codelineno-70-106"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Queue</span><span class="p">[</span><span class="n">front</span><span class="o">++</span><span class="p">];</span>
<a id="__codelineno-70-107" name="__codelineno-70-107" href="#__codelineno-70-107"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">des</span><span class="p">)</span>
<a id="__codelineno-70-108" name="__codelineno-70-108" href="#__codelineno-70-108"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-70-109" name="__codelineno-70-109" href="#__codelineno-70-109"></a><span class="w">            </span><span class="c1">// 找到了增广路径</span>
<a id="__codelineno-70-110" name="__codelineno-70-110" href="#__codelineno-70-110"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-70-111" name="__codelineno-70-111" href="#__codelineno-70-111"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-70-112" name="__codelineno-70-112" href="#__codelineno-70-112"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">vexnum</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-70-113" name="__codelineno-70-113" href="#__codelineno-70-113"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-70-114" name="__codelineno-70-114" href="#__codelineno-70-114"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">src</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">INF</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-70-115" name="__codelineno-70-115" href="#__codelineno-70-115"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-70-116" name="__codelineno-70-116" href="#__codelineno-70-116"></a><span class="w">                </span><span class="c1">// 如果i不是起始顶点，且i没有被访问过，且v和i之间有边</span>
<a id="__codelineno-70-117" name="__codelineno-70-117" href="#__codelineno-70-117"></a><span class="w">                </span><span class="n">Queue</span><span class="p">[</span><span class="n">rear</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-70-118" name="__codelineno-70-118" href="#__codelineno-70-118"></a><span class="w">                </span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-70-119" name="__codelineno-70-119" href="#__codelineno-70-119"></a><span class="w">                </span><span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<a id="__codelineno-70-120" name="__codelineno-70-120" href="#__codelineno-70-120"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">flow</span><span class="p">[</span><span class="n">v</span><span class="p">])</span>
<a id="__codelineno-70-121" name="__codelineno-70-121" href="#__codelineno-70-121"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-70-122" name="__codelineno-70-122" href="#__codelineno-70-122"></a><span class="w">                    </span><span class="n">flow</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-70-123" name="__codelineno-70-123" href="#__codelineno-70-123"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-70-124" name="__codelineno-70-124" href="#__codelineno-70-124"></a><span class="w">                </span><span class="k">else</span>
<a id="__codelineno-70-125" name="__codelineno-70-125" href="#__codelineno-70-125"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-70-126" name="__codelineno-70-126" href="#__codelineno-70-126"></a><span class="w">                    </span><span class="n">flow</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">flow</span><span class="p">[</span><span class="n">v</span><span class="p">];</span>
<a id="__codelineno-70-127" name="__codelineno-70-127" href="#__codelineno-70-127"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-70-128" name="__codelineno-70-128" href="#__codelineno-70-128"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-70-129" name="__codelineno-70-129" href="#__codelineno-70-129"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-70-130" name="__codelineno-70-130" href="#__codelineno-70-130"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-70-131" name="__codelineno-70-131" href="#__codelineno-70-131"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">path</span><span class="p">[</span><span class="n">des</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<a id="__codelineno-70-132" name="__codelineno-70-132" href="#__codelineno-70-132"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-70-133" name="__codelineno-70-133" href="#__codelineno-70-133"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-70-134" name="__codelineno-70-134" href="#__codelineno-70-134"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-70-135" name="__codelineno-70-135" href="#__codelineno-70-135"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-70-136" name="__codelineno-70-136" href="#__codelineno-70-136"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-70-137" name="__codelineno-70-137" href="#__codelineno-70-137"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">flow</span><span class="p">[</span><span class="n">des</span><span class="p">];</span>
<a id="__codelineno-70-138" name="__codelineno-70-138" href="#__codelineno-70-138"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-70-139" name="__codelineno-70-139" href="#__codelineno-70-139"></a><span class="p">}</span>
<a id="__codelineno-70-140" name="__codelineno-70-140" href="#__codelineno-70-140"></a><span class="c1">// 使用EK算法实现最大流</span>
<a id="__codelineno-70-141" name="__codelineno-70-141" href="#__codelineno-70-141"></a><span class="c1">// v0是起始顶点，v1是终止顶点</span>
<a id="__codelineno-70-142" name="__codelineno-70-142" href="#__codelineno-70-142"></a><span class="kt">int</span><span class="w"> </span><span class="nf">EK</span><span class="p">(</span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">des</span><span class="p">)</span>
<a id="__codelineno-70-143" name="__codelineno-70-143" href="#__codelineno-70-143"></a><span class="p">{</span>
<a id="__codelineno-70-144" name="__codelineno-70-144" href="#__codelineno-70-144"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">increasement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-70-145" name="__codelineno-70-145" href="#__codelineno-70-145"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sumflow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-70-146" name="__codelineno-70-146" href="#__codelineno-70-146"></a><span class="w">    </span><span class="k">while</span><span class="p">((</span><span class="n">increasement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BFS</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">des</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<a id="__codelineno-70-147" name="__codelineno-70-147" href="#__codelineno-70-147"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-70-148" name="__codelineno-70-148" href="#__codelineno-70-148"></a><span class="w">        </span><span class="c1">// 如果还有增广路径，就继续寻找增广路径</span>
<a id="__codelineno-70-149" name="__codelineno-70-149" href="#__codelineno-70-149"></a><span class="w">        </span><span class="c1">// 从终止顶点开始，沿着增广路径，更新残余网络</span>
<a id="__codelineno-70-150" name="__codelineno-70-150" href="#__codelineno-70-150"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">des</span><span class="p">;</span>
<a id="__codelineno-70-151" name="__codelineno-70-151" href="#__codelineno-70-151"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">src</span><span class="p">)</span>
<a id="__codelineno-70-152" name="__codelineno-70-152" href="#__codelineno-70-152"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-70-153" name="__codelineno-70-153" href="#__codelineno-70-153"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">path</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-70-154" name="__codelineno-70-154" href="#__codelineno-70-154"></a><span class="w">            </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">increasement</span><span class="p">;</span><span class="w"> </span><span class="c1">// 正向边的残余容量减少</span>
<a id="__codelineno-70-155" name="__codelineno-70-155" href="#__codelineno-70-155"></a><span class="w">            </span><span class="n">G</span><span class="p">.</span><span class="n">Edge</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">increasement</span><span class="p">;</span><span class="w"> </span><span class="c1">// 反向边的残余容量增加</span>
<a id="__codelineno-70-156" name="__codelineno-70-156" href="#__codelineno-70-156"></a><span class="w">            </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-70-157" name="__codelineno-70-157" href="#__codelineno-70-157"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-70-158" name="__codelineno-70-158" href="#__codelineno-70-158"></a><span class="w">        </span><span class="c1">// printf(&quot;%d\n&quot;, increasement);</span>
<a id="__codelineno-70-159" name="__codelineno-70-159" href="#__codelineno-70-159"></a><span class="w">        </span><span class="n">sumflow</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">increasement</span><span class="p">;</span>
<a id="__codelineno-70-160" name="__codelineno-70-160" href="#__codelineno-70-160"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-70-161" name="__codelineno-70-161" href="#__codelineno-70-161"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">sumflow</span><span class="p">;</span>
<a id="__codelineno-70-162" name="__codelineno-70-162" href="#__codelineno-70-162"></a><span class="p">}</span>
<a id="__codelineno-70-163" name="__codelineno-70-163" href="#__codelineno-70-163"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-70-164" name="__codelineno-70-164" href="#__codelineno-70-164"></a><span class="p">{</span>
<a id="__codelineno-70-165" name="__codelineno-70-165" href="#__codelineno-70-165"></a><span class="w">    </span><span class="n">MGraph</span><span class="w"> </span><span class="n">G</span><span class="p">;</span>
<a id="__codelineno-70-166" name="__codelineno-70-166" href="#__codelineno-70-166"></a>
<a id="__codelineno-70-167" name="__codelineno-70-167" href="#__codelineno-70-167"></a><span class="w">    </span><span class="n">ReadGraph</span><span class="p">(</span><span class="o">&amp;</span><span class="n">G</span><span class="p">);</span>
<a id="__codelineno-70-168" name="__codelineno-70-168" href="#__codelineno-70-168"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">maxflow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EK</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">MAXVERTEXNUM</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-70-169" name="__codelineno-70-169" href="#__codelineno-70-169"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">maxflow</span><span class="p">);</span>
<a id="__codelineno-70-170" name="__codelineno-70-170" href="#__codelineno-70-170"></a><span class="p">}</span>
</code></pre></div>
<p><img alt="89.jpg" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205672.jpeg" /></p>
<blockquote>
<p>最大流为89</p>
</blockquote>
<p><img alt="1.jpg" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205749.jpeg" /></p>
<blockquote>
<p>最大流23</p>
</blockquote>
<p><img alt="image-20240116171214431" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205021.png" /></p>
<h1 id="_11">九. 排序<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h1>
<ol>
<li>选择排序。每次挑选最大的元素，换到最后位置</li>
</ol>
<p><img alt="image-20240114151125577" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205150.png" /></p>
<ol start="2">
<li>冒泡排序。相邻两个元素比较</li>
</ol>
<p><img alt="image-20240114151027156" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205407.png" /></p>
<ol start="3">
<li>插入排序</li>
</ol>
<p><img alt="image-20240114152404293" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205605.png" /></p>
<blockquote>
<p>稳定是指相同的元素在排序前后的顺序是不变的。</p>
<p>凡是有前后两个元素交换的算法都是不稳定的。</p>
<p>希尔排序is not stable， MergSort只涉及到按顺序赋值，没有前后元素的交换，is stable。</p>
</blockquote>
<p><img alt="image-20240116203132368" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205723.png" /></p>
<p><img alt="image-20240116203339969" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205708.png" /></p>
<blockquote>
<p>quicksort 最差的时间复杂度为<span class="arithmatex">\(O(N^2)\)</span></p>
</blockquote>
<p><img alt="image-20240116203513396" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205016.png" /></p>
<blockquote>
<p>递归的总数不变</p>
</blockquote>
<p><img alt="image-20240116203559319" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205353.png" /></p>
<p><img alt="image-20240116203806115" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205605.png" /></p>
<p><img alt="image-20240116203900760" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205708.png" /></p>
<p><img alt="image-20240116204155253" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205913.png" /></p>
<h2 id="91-shell-sort">9.1 Shell Sort 希尔算法<a class="headerlink" href="#91-shell-sort" title="Permanent link">&para;</a></h2>
<p>shell sort 是对插入排序的改进</p>
<p>对于n个待排序的数列，取一个小于n的正数gap（gap称为步长），将待排序元素分成若干个组子序列，所有距离为gap的倍数的记录放在同一个组中，然后对各组内的元素直接进行插入排序。 这一趟排序完成之后，每一个组的元素都是有序的。然后减小gap的值，并重复执行上述的分组和排序。重复这样的操作，当gap=1时，整个数列就是有序的。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Shellsort</span><span class="p">(</span><span class="w"> </span><span class="n">ElementType</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="w">      </span><span class="kt">int</span><span class="w">  </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">Increment</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="w">      </span><span class="n">ElementType</span><span class="w">  </span><span class="n">Tmp</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">Increment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">Increment</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">Increment</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a><span class="w">    </span><span class="cm">/*h sequence */</span>
<a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Increment</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* insertion sort */</span>
<a id="__codelineno-71-8" name="__codelineno-71-8" href="#__codelineno-71-8"></a><span class="w">          </span><span class="n">Tmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">];</span><span class="w"> </span>
<a id="__codelineno-71-9" name="__codelineno-71-9" href="#__codelineno-71-9"></a><span class="w">          </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">Increment</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Increment</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-71-10" name="__codelineno-71-10" href="#__codelineno-71-10"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">Tmp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Increment</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-71-11" name="__codelineno-71-11" href="#__codelineno-71-11"></a><span class="w">              </span><span class="n">A</span><span class="p">[</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Increment</span><span class="w"> </span><span class="p">];</span><span class="w"> </span>
<a id="__codelineno-71-12" name="__codelineno-71-12" href="#__codelineno-71-12"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span>
<a id="__codelineno-71-13" name="__codelineno-71-13" href="#__codelineno-71-13"></a><span class="w">              </span><span class="k">break</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-71-14" name="__codelineno-71-14" href="#__codelineno-71-14"></a><span class="w">        </span><span class="n">A</span><span class="p">[</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Tmp</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-71-15" name="__codelineno-71-15" href="#__codelineno-71-15"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="cm">/* end for-I and for-Increment loops */</span>
<a id="__codelineno-71-16" name="__codelineno-71-16" href="#__codelineno-71-16"></a><span class="p">}</span>
<a id="__codelineno-71-17" name="__codelineno-71-17" href="#__codelineno-71-17"></a>
<a id="__codelineno-71-18" name="__codelineno-71-18" href="#__codelineno-71-18"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Shellsort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-71-19" name="__codelineno-71-19" href="#__codelineno-71-19"></a><span class="p">{</span>
<a id="__codelineno-71-20" name="__codelineno-71-20" href="#__codelineno-71-20"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">gap</span><span class="p">;</span>
<a id="__codelineno-71-21" name="__codelineno-71-21" href="#__codelineno-71-21"></a><span class="w">    </span><span class="c1">// gap为步长，每一次减为原来的一半</span>
<a id="__codelineno-71-22" name="__codelineno-71-22" href="#__codelineno-71-22"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">gap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">gap</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">gap</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-71-23" name="__codelineno-71-23" href="#__codelineno-71-23"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-71-24" name="__codelineno-71-24" href="#__codelineno-71-24"></a><span class="w">        </span><span class="c1">// 此时一共分成gap个组，分别是（0，gap）（1，gap+1）……</span>
<a id="__codelineno-71-25" name="__codelineno-71-25" href="#__codelineno-71-25"></a><span class="w">        </span><span class="c1">// 对各组进行插入排序</span>
<a id="__codelineno-71-26" name="__codelineno-71-26" href="#__codelineno-71-26"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gap</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-71-27" name="__codelineno-71-27" href="#__codelineno-71-27"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-71-28" name="__codelineno-71-28" href="#__codelineno-71-28"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-71-29" name="__codelineno-71-29" href="#__codelineno-71-29"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">gap</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">-=</span><span class="w"> </span><span class="n">gap</span><span class="p">)</span>
<a id="__codelineno-71-30" name="__codelineno-71-30" href="#__codelineno-71-30"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-71-31" name="__codelineno-71-31" href="#__codelineno-71-31"></a><span class="w">                </span><span class="c1">// 如果当前的数a[i]比它组内的数小，则交换</span>
<a id="__codelineno-71-32" name="__codelineno-71-32" href="#__codelineno-71-32"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">gap</span><span class="p">])</span>
<a id="__codelineno-71-33" name="__codelineno-71-33" href="#__codelineno-71-33"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-71-34" name="__codelineno-71-34" href="#__codelineno-71-34"></a><span class="w">                    </span><span class="c1">// 直接赋值法，大的数a[j - gap]后移</span>
<a id="__codelineno-71-35" name="__codelineno-71-35" href="#__codelineno-71-35"></a><span class="w">                    </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">gap</span><span class="p">];</span>
<a id="__codelineno-71-36" name="__codelineno-71-36" href="#__codelineno-71-36"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-71-37" name="__codelineno-71-37" href="#__codelineno-71-37"></a><span class="w">                </span><span class="c1">// 该轮for循环结束后，j = j - gap</span>
<a id="__codelineno-71-38" name="__codelineno-71-38" href="#__codelineno-71-38"></a><span class="w">                </span><span class="k">else</span>
<a id="__codelineno-71-39" name="__codelineno-71-39" href="#__codelineno-71-39"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-71-40" name="__codelineno-71-40" href="#__codelineno-71-40"></a><span class="w">                    </span><span class="c1">// 比较的时候，默认a[j - gap], a[j - 2 * gap]……已经排序好了</span>
<a id="__codelineno-71-41" name="__codelineno-71-41" href="#__codelineno-71-41"></a><span class="w">                    </span><span class="c1">// 如果a[i]比a[j - gap]大，则a[i]一定比a[j - 2 * gap]大，不用再比较了</span>
<a id="__codelineno-71-42" name="__codelineno-71-42" href="#__codelineno-71-42"></a><span class="w">                    </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-71-43" name="__codelineno-71-43" href="#__codelineno-71-43"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-71-44" name="__codelineno-71-44" href="#__codelineno-71-44"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-71-45" name="__codelineno-71-45" href="#__codelineno-71-45"></a><span class="w">            </span><span class="c1">// 此时j的位置就是a[i]该插入的位置，j位置就是原先的那个j-gap位置</span>
<a id="__codelineno-71-46" name="__codelineno-71-46" href="#__codelineno-71-46"></a><span class="w">            </span><span class="c1">// 直接赋值法，小的数前移a[j] = temp</span>
<a id="__codelineno-71-47" name="__codelineno-71-47" href="#__codelineno-71-47"></a><span class="w">            </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-71-48" name="__codelineno-71-48" href="#__codelineno-71-48"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-71-49" name="__codelineno-71-49" href="#__codelineno-71-49"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;gap = %d:</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">gap</span><span class="p">);</span>
<a id="__codelineno-71-50" name="__codelineno-71-50" href="#__codelineno-71-50"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-71-51" name="__codelineno-71-51" href="#__codelineno-71-51"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-71-52" name="__codelineno-71-52" href="#__codelineno-71-52"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-71-53" name="__codelineno-71-53" href="#__codelineno-71-53"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-71-54" name="__codelineno-71-54" href="#__codelineno-71-54"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-71-55" name="__codelineno-71-55" href="#__codelineno-71-55"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-71-56" name="__codelineno-71-56" href="#__codelineno-71-56"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p>外层循环是分组的数量，内层循环是插入排序</p>
</blockquote>
<p><strong>【Theorem】The worst-case running time of Shellsort, using Shell’s increments, is Q ( N^2)</strong></p>
<blockquote>
<p>例题</p>
</blockquote>
<p><strong>To sort { 8, 3, 9, 11, 2, 1, 4, 7, 5, 10, 6 } by Shell Sort, if we obtain ( 4, 2, 1, 8, 3, 5, 10, 6, 9, 11, 7 ) after the first run, and ( 1, 2, 3, 5, 4, 6, 7, 8, 9, 11, 10 ) after the second run, then the increments of these two runs must be __ , respectively.</strong></p>
<p><img alt="image-20231212084147928" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205250.png" /></p>
<p><img alt="image-20231212084218227" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205364.png" /></p>
<p>按次序3个3个比较即可</p>
<p><img alt="image-20231212084236287" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205467.png" /></p>
<p>考虑较极端的情况，对于有序数组，直接插入排序的比较次数为n-1,简单选择排序的比较次数始终为1+2+…+n-1=n(n-1)/2，I正确。两种排序方法的辅助空间都是0(1), 无差别，II错误。初始有序时，移动次数均为0; 对于通常情况，直接插入排序每趟插入都需要依次向后挪位，而简单选择排序只需与找到的最小元素交换位置，后者的移动次数少很多，III 错误。</p>
<hr />
<h2 id="92-heap-sort">9.2 Heap Sort 堆排序<a class="headerlink" href="#92-heap-sort" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="n">Algorithm</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span>
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="p">{</span>
<a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="w">     </span><span class="n">BuildHeap</span><span class="p">(</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">);</span><span class="w">  </span><span class="c1">// O(N)</span>
<a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a><span class="w">     </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a><span class="w">        </span><span class="n">TmpH</span><span class="p">[</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeleteMin</span><span class="p">(</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">//O(log N)</span>
<a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a><span class="w">     </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a><span class="w">        </span><span class="n">H</span><span class="p">[</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TmpH</span><span class="p">[</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">];</span><span class="w"> </span><span class="c1">//O(1)</span>
<a id="__codelineno-72-8" name="__codelineno-72-8" href="#__codelineno-72-8"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p><strong>T</strong> <strong>(</strong> <strong>N</strong> <strong>) = O (</strong> <strong>N</strong> <strong>log</strong> <strong>N</strong> <strong>)</strong></p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Heapsort</span><span class="p">(</span><span class="w"> </span><span class="n">ElementType</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="p">{</span><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="cm">/* BuildHeap */</span><span class="w"> </span>
<a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a><span class="w">        </span><span class="n">PercDown</span><span class="p">(</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a><span class="w">        </span><span class="n">Swap</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">A</span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">A</span><span class="p">[</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="cm">/* DeleteMax */</span><span class="w"> </span>
<a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a><span class="w">        </span><span class="n">PercDown</span><span class="p">(</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-73-8" name="__codelineno-73-8" href="#__codelineno-73-8"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-73-9" name="__codelineno-73-9" href="#__codelineno-73-9"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Stdio.h&gt;</span>
<a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a>
<a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">HeapStruct</span><span class="p">{</span>
<a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Capacity</span><span class="p">;</span>
<a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Size</span><span class="p">;</span>
<a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">Elements</span><span class="p">;</span>
<a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a><span class="p">}</span><span class="o">*</span><span class="n">MinHeap</span><span class="p">;</span>
<a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a>
<a id="__codelineno-74-10" name="__codelineno-74-10" href="#__codelineno-74-10"></a><span class="n">MinHeap</span><span class="w"> </span><span class="nf">Initialize</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">MaxSize</span><span class="p">)</span>
<a id="__codelineno-74-11" name="__codelineno-74-11" href="#__codelineno-74-11"></a><span class="p">{</span>
<a id="__codelineno-74-12" name="__codelineno-74-12" href="#__codelineno-74-12"></a><span class="w">    </span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">MinHeap</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">HeapStruct</span><span class="p">));</span>
<a id="__codelineno-74-13" name="__codelineno-74-13" href="#__codelineno-74-13"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-74-14" name="__codelineno-74-14" href="#__codelineno-74-14"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-74-15" name="__codelineno-74-15" href="#__codelineno-74-15"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Out of space!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-74-16" name="__codelineno-74-16" href="#__codelineno-74-16"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-74-17" name="__codelineno-74-17" href="#__codelineno-74-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-74-18" name="__codelineno-74-18" href="#__codelineno-74-18"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">((</span><span class="n">MaxSize</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
<a id="__codelineno-74-19" name="__codelineno-74-19" href="#__codelineno-74-19"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-74-20" name="__codelineno-74-20" href="#__codelineno-74-20"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-74-21" name="__codelineno-74-21" href="#__codelineno-74-21"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Out of space!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-74-22" name="__codelineno-74-22" href="#__codelineno-74-22"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-74-23" name="__codelineno-74-23" href="#__codelineno-74-23"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-74-24" name="__codelineno-74-24" href="#__codelineno-74-24"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MaxSize</span><span class="p">;</span>
<a id="__codelineno-74-25" name="__codelineno-74-25" href="#__codelineno-74-25"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-74-26" name="__codelineno-74-26" href="#__codelineno-74-26"></a><span class="w">    </span><span class="c1">// 设置哨兵</span>
<a id="__codelineno-74-27" name="__codelineno-74-27" href="#__codelineno-74-27"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-74-28" name="__codelineno-74-28" href="#__codelineno-74-28"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-74-29" name="__codelineno-74-29" href="#__codelineno-74-29"></a><span class="p">}</span>
<a id="__codelineno-74-30" name="__codelineno-74-30" href="#__codelineno-74-30"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateDown</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-74-31" name="__codelineno-74-31" href="#__codelineno-74-31"></a><span class="p">{</span>
<a id="__codelineno-74-32" name="__codelineno-74-32" href="#__codelineno-74-32"></a><span class="w">    </span><span class="c1">// 从n元素开始下滤</span>
<a id="__codelineno-74-33" name="__codelineno-74-33" href="#__codelineno-74-33"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
<a id="__codelineno-74-34" name="__codelineno-74-34" href="#__codelineno-74-34"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-74-35" name="__codelineno-74-35" href="#__codelineno-74-35"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>
<a id="__codelineno-74-36" name="__codelineno-74-36" href="#__codelineno-74-36"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="p">)</span>
<a id="__codelineno-74-37" name="__codelineno-74-37" href="#__codelineno-74-37"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-74-38" name="__codelineno-74-38" href="#__codelineno-74-38"></a><span class="w">        </span><span class="c1">// 如果有右孩子，且右孩子比左孩子小，则child为右孩子</span>
<a id="__codelineno-74-39" name="__codelineno-74-39" href="#__codelineno-74-39"></a><span class="w">        </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-74-40" name="__codelineno-74-40" href="#__codelineno-74-40"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">child</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-74-41" name="__codelineno-74-41" href="#__codelineno-74-41"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-74-42" name="__codelineno-74-42" href="#__codelineno-74-42"></a><span class="w">            </span><span class="n">child</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-74-43" name="__codelineno-74-43" href="#__codelineno-74-43"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-74-44" name="__codelineno-74-44" href="#__codelineno-74-44"></a><span class="w">        </span><span class="c1">// 如果temp比child小，则child上移</span>
<a id="__codelineno-74-45" name="__codelineno-74-45" href="#__codelineno-74-45"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="p">])</span>
<a id="__codelineno-74-46" name="__codelineno-74-46" href="#__codelineno-74-46"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-74-47" name="__codelineno-74-47" href="#__codelineno-74-47"></a><span class="w">            </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">child</span><span class="p">];</span>
<a id="__codelineno-74-48" name="__codelineno-74-48" href="#__codelineno-74-48"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-74-49" name="__codelineno-74-49" href="#__codelineno-74-49"></a><span class="w">        </span><span class="c1">// 否则，下滤结束</span>
<a id="__codelineno-74-50" name="__codelineno-74-50" href="#__codelineno-74-50"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-74-51" name="__codelineno-74-51" href="#__codelineno-74-51"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-74-52" name="__codelineno-74-52" href="#__codelineno-74-52"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-74-53" name="__codelineno-74-53" href="#__codelineno-74-53"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-74-54" name="__codelineno-74-54" href="#__codelineno-74-54"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-74-55" name="__codelineno-74-55" href="#__codelineno-74-55"></a><span class="w">    </span><span class="c1">// 将temp放在最后的位置</span>
<a id="__codelineno-74-56" name="__codelineno-74-56" href="#__codelineno-74-56"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-74-57" name="__codelineno-74-57" href="#__codelineno-74-57"></a><span class="p">}</span>
<a id="__codelineno-74-58" name="__codelineno-74-58" href="#__codelineno-74-58"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateUp</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-74-59" name="__codelineno-74-59" href="#__codelineno-74-59"></a><span class="p">{</span>
<a id="__codelineno-74-60" name="__codelineno-74-60" href="#__codelineno-74-60"></a><span class="w">    </span><span class="c1">// 从n元素开始上滤</span>
<a id="__codelineno-74-61" name="__codelineno-74-61" href="#__codelineno-74-61"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
<a id="__codelineno-74-62" name="__codelineno-74-62" href="#__codelineno-74-62"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-74-63" name="__codelineno-74-63" href="#__codelineno-74-63"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">];</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-74-64" name="__codelineno-74-64" href="#__codelineno-74-64"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-74-65" name="__codelineno-74-65" href="#__codelineno-74-65"></a><span class="w">        </span><span class="c1">// 如果temp比父节点小，则父节点下移</span>
<a id="__codelineno-74-66" name="__codelineno-74-66" href="#__codelineno-74-66"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-74-67" name="__codelineno-74-67" href="#__codelineno-74-67"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-74-68" name="__codelineno-74-68" href="#__codelineno-74-68"></a><span class="w">    </span><span class="c1">// 将temp放在最后的位置</span>
<a id="__codelineno-74-69" name="__codelineno-74-69" href="#__codelineno-74-69"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-74-70" name="__codelineno-74-70" href="#__codelineno-74-70"></a><span class="p">}</span>
<a id="__codelineno-74-71" name="__codelineno-74-71" href="#__codelineno-74-71"></a><span class="n">MinHeap</span><span class="w"> </span><span class="nf">BuildHeap</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">MaxSize</span><span class="p">)</span>
<a id="__codelineno-74-72" name="__codelineno-74-72" href="#__codelineno-74-72"></a><span class="p">{</span>
<a id="__codelineno-74-73" name="__codelineno-74-73" href="#__codelineno-74-73"></a><span class="w">    </span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Initialize</span><span class="p">(</span><span class="n">MaxSize</span><span class="p">);</span>
<a id="__codelineno-74-74" name="__codelineno-74-74" href="#__codelineno-74-74"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">MaxSize</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-74-75" name="__codelineno-74-75" href="#__codelineno-74-75"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-74-76" name="__codelineno-74-76" href="#__codelineno-74-76"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-74-77" name="__codelineno-74-77" href="#__codelineno-74-77"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-74-78" name="__codelineno-74-78" href="#__codelineno-74-78"></a><span class="w">        </span><span class="n">PercolateUp</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
<a id="__codelineno-74-79" name="__codelineno-74-79" href="#__codelineno-74-79"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-74-80" name="__codelineno-74-80" href="#__codelineno-74-80"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-74-81" name="__codelineno-74-81" href="#__codelineno-74-81"></a><span class="p">}</span>
<a id="__codelineno-74-82" name="__codelineno-74-82" href="#__codelineno-74-82"></a><span class="kt">int</span><span class="w"> </span><span class="nf">DeleteMin</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-74-83" name="__codelineno-74-83" href="#__codelineno-74-83"></a><span class="p">{</span>
<a id="__codelineno-74-84" name="__codelineno-74-84" href="#__codelineno-74-84"></a><span class="w">    </span><span class="c1">// 删除最小元素，即根元素</span>
<a id="__codelineno-74-85" name="__codelineno-74-85" href="#__codelineno-74-85"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">MinElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<a id="__codelineno-74-86" name="__codelineno-74-86" href="#__codelineno-74-86"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">LastElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Size</span><span class="o">--</span><span class="p">];</span>
<a id="__codelineno-74-87" name="__codelineno-74-87" href="#__codelineno-74-87"></a><span class="w">    </span><span class="c1">// 用最后一个元素覆盖根元素</span>
<a id="__codelineno-74-88" name="__codelineno-74-88" href="#__codelineno-74-88"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LastElement</span><span class="p">;</span>
<a id="__codelineno-74-89" name="__codelineno-74-89" href="#__codelineno-74-89"></a><span class="w">    </span><span class="c1">// 从根元素开始下滤</span>
<a id="__codelineno-74-90" name="__codelineno-74-90" href="#__codelineno-74-90"></a><span class="w">    </span><span class="n">PercolateDown</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-74-91" name="__codelineno-74-91" href="#__codelineno-74-91"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MinElement</span><span class="p">;</span>
<a id="__codelineno-74-92" name="__codelineno-74-92" href="#__codelineno-74-92"></a><span class="p">}</span>
<a id="__codelineno-74-93" name="__codelineno-74-93" href="#__codelineno-74-93"></a><span class="kt">void</span><span class="w"> </span><span class="nf">HeapSort</span><span class="p">(</span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-74-94" name="__codelineno-74-94" href="#__codelineno-74-94"></a><span class="p">{</span>
<a id="__codelineno-74-95" name="__codelineno-74-95" href="#__codelineno-74-95"></a><span class="w">    </span><span class="c1">// 根据Size的大小，进行DeleteMin操作</span>
<a id="__codelineno-74-96" name="__codelineno-74-96" href="#__codelineno-74-96"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">Capacity</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-74-97" name="__codelineno-74-97" href="#__codelineno-74-97"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-74-98" name="__codelineno-74-98" href="#__codelineno-74-98"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">DeleteMin</span><span class="p">(</span><span class="n">H</span><span class="p">));</span>
<a id="__codelineno-74-99" name="__codelineno-74-99" href="#__codelineno-74-99"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-74-100" name="__codelineno-74-100" href="#__codelineno-74-100"></a><span class="p">}</span>
<a id="__codelineno-74-101" name="__codelineno-74-101" href="#__codelineno-74-101"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-74-102" name="__codelineno-74-102" href="#__codelineno-74-102"></a><span class="p">{</span>
<a id="__codelineno-74-103" name="__codelineno-74-103" href="#__codelineno-74-103"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-74-104" name="__codelineno-74-104" href="#__codelineno-74-104"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-74-105" name="__codelineno-74-105" href="#__codelineno-74-105"></a><span class="w">    </span><span class="n">MinHeap</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-74-106" name="__codelineno-74-106" href="#__codelineno-74-106"></a><span class="w">    </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BuildHeap</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-74-107" name="__codelineno-74-107" href="#__codelineno-74-107"></a><span class="w">    </span><span class="n">HeapSort</span><span class="p">(</span><span class="n">H</span><span class="p">);</span>
<a id="__codelineno-74-108" name="__codelineno-74-108" href="#__codelineno-74-108"></a><span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">H</span><span class="p">);</span>
<a id="__codelineno-74-109" name="__codelineno-74-109" href="#__codelineno-74-109"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p>注重排序过程的Heapsort</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a>
<a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="cp">#define MAXSIZE 100</span>
<a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a>
<a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Print2</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="p">{</span>
<a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-75-10" name="__codelineno-75-10" href="#__codelineno-75-10"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-75-11" name="__codelineno-75-11" href="#__codelineno-75-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-75-12" name="__codelineno-75-12" href="#__codelineno-75-12"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">n</span><span class="p">]);</span>
<a id="__codelineno-75-13" name="__codelineno-75-13" href="#__codelineno-75-13"></a><span class="p">}</span>
<a id="__codelineno-75-14" name="__codelineno-75-14" href="#__codelineno-75-14"></a>
<a id="__codelineno-75-15" name="__codelineno-75-15" href="#__codelineno-75-15"></a>
<a id="__codelineno-75-16" name="__codelineno-75-16" href="#__codelineno-75-16"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Swap</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-75-17" name="__codelineno-75-17" href="#__codelineno-75-17"></a><span class="p">{</span>
<a id="__codelineno-75-18" name="__codelineno-75-18" href="#__codelineno-75-18"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-75-19" name="__codelineno-75-19" href="#__codelineno-75-19"></a><span class="w">    </span><span class="o">*</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-75-20" name="__codelineno-75-20" href="#__codelineno-75-20"></a><span class="w">    </span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-75-21" name="__codelineno-75-21" href="#__codelineno-75-21"></a><span class="p">}</span>
<a id="__codelineno-75-22" name="__codelineno-75-22" href="#__codelineno-75-22"></a><span class="kt">void</span><span class="w"> </span><span class="nf">PercolateDown</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-75-23" name="__codelineno-75-23" href="#__codelineno-75-23"></a><span class="p">{</span>
<a id="__codelineno-75-24" name="__codelineno-75-24" href="#__codelineno-75-24"></a><span class="w">    </span><span class="c1">// 从i元素开始下滤</span>
<a id="__codelineno-75-25" name="__codelineno-75-25" href="#__codelineno-75-25"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-75-26" name="__codelineno-75-26" href="#__codelineno-75-26"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>
<a id="__codelineno-75-27" name="__codelineno-75-27" href="#__codelineno-75-27"></a><span class="w">    </span><span class="c1">// 为了得到最大堆，每次将temp与左右孩子中较大的那个交换</span>
<a id="__codelineno-75-28" name="__codelineno-75-28" href="#__codelineno-75-28"></a><span class="w">    </span><span class="k">for</span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">child</span><span class="p">)</span>
<a id="__codelineno-75-29" name="__codelineno-75-29" href="#__codelineno-75-29"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-75-30" name="__codelineno-75-30" href="#__codelineno-75-30"></a><span class="w">        </span><span class="c1">// 如果有右孩子，且右孩子比左孩子小，则child为右孩子</span>
<a id="__codelineno-75-31" name="__codelineno-75-31" href="#__codelineno-75-31"></a><span class="w">        </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-75-32" name="__codelineno-75-32" href="#__codelineno-75-32"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">child</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">result</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">result</span><span class="p">[</span><span class="n">child</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-75-33" name="__codelineno-75-33" href="#__codelineno-75-33"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-75-34" name="__codelineno-75-34" href="#__codelineno-75-34"></a><span class="w">            </span><span class="n">child</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-75-35" name="__codelineno-75-35" href="#__codelineno-75-35"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-75-36" name="__codelineno-75-36" href="#__codelineno-75-36"></a><span class="w">        </span><span class="c1">// 如果temp比child小，则child上移</span>
<a id="__codelineno-75-37" name="__codelineno-75-37" href="#__codelineno-75-37"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">result</span><span class="p">[</span><span class="n">child</span><span class="p">])</span>
<a id="__codelineno-75-38" name="__codelineno-75-38" href="#__codelineno-75-38"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-75-39" name="__codelineno-75-39" href="#__codelineno-75-39"></a><span class="w">            </span><span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">[</span><span class="n">child</span><span class="p">];</span>
<a id="__codelineno-75-40" name="__codelineno-75-40" href="#__codelineno-75-40"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-75-41" name="__codelineno-75-41" href="#__codelineno-75-41"></a><span class="w">        </span><span class="c1">// 否则，下滤结束</span>
<a id="__codelineno-75-42" name="__codelineno-75-42" href="#__codelineno-75-42"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-75-43" name="__codelineno-75-43" href="#__codelineno-75-43"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-75-44" name="__codelineno-75-44" href="#__codelineno-75-44"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-75-45" name="__codelineno-75-45" href="#__codelineno-75-45"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-75-46" name="__codelineno-75-46" href="#__codelineno-75-46"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-75-47" name="__codelineno-75-47" href="#__codelineno-75-47"></a><span class="w">    </span><span class="c1">// 将temp放在最后的位置</span>
<a id="__codelineno-75-48" name="__codelineno-75-48" href="#__codelineno-75-48"></a><span class="w">    </span><span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-75-49" name="__codelineno-75-49" href="#__codelineno-75-49"></a>
<a id="__codelineno-75-50" name="__codelineno-75-50" href="#__codelineno-75-50"></a><span class="p">}</span>
<a id="__codelineno-75-51" name="__codelineno-75-51" href="#__codelineno-75-51"></a><span class="kt">void</span><span class="w"> </span><span class="nf">HeapSort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">list2</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-75-52" name="__codelineno-75-52" href="#__codelineno-75-52"></a><span class="p">{</span>
<a id="__codelineno-75-53" name="__codelineno-75-53" href="#__codelineno-75-53"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-75-54" name="__codelineno-75-54" href="#__codelineno-75-54"></a><span class="w">    </span><span class="c1">// 建立最大堆</span>
<a id="__codelineno-75-55" name="__codelineno-75-55" href="#__codelineno-75-55"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-75-56" name="__codelineno-75-56" href="#__codelineno-75-56"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-75-57" name="__codelineno-75-57" href="#__codelineno-75-57"></a><span class="w">        </span><span class="n">PercolateDown</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-75-58" name="__codelineno-75-58" href="#__codelineno-75-58"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-75-59" name="__codelineno-75-59" href="#__codelineno-75-59"></a><span class="w">    </span><span class="n">Print2</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-75-60" name="__codelineno-75-60" href="#__codelineno-75-60"></a><span class="w">    </span><span class="c1">// 根据Size的大小，进行DeleteMin操作</span>
<a id="__codelineno-75-61" name="__codelineno-75-61" href="#__codelineno-75-61"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-75-62" name="__codelineno-75-62" href="#__codelineno-75-62"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-75-63" name="__codelineno-75-63" href="#__codelineno-75-63"></a><span class="w">        </span><span class="c1">// 删除最大元素，即根元素</span>
<a id="__codelineno-75-64" name="__codelineno-75-64" href="#__codelineno-75-64"></a><span class="w">        </span><span class="n">Swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-75-65" name="__codelineno-75-65" href="#__codelineno-75-65"></a><span class="w">        </span><span class="c1">// 此时最大元素位于最后，不再参与下滤</span>
<a id="__codelineno-75-66" name="__codelineno-75-66" href="#__codelineno-75-66"></a><span class="w">        </span><span class="c1">// 从根元素开始下滤</span>
<a id="__codelineno-75-67" name="__codelineno-75-67" href="#__codelineno-75-67"></a><span class="w">        </span><span class="n">PercolateDown</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="mi">-1</span><span class="p">);</span>
<a id="__codelineno-75-68" name="__codelineno-75-68" href="#__codelineno-75-68"></a><span class="w">        </span><span class="n">Print2</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-75-69" name="__codelineno-75-69" href="#__codelineno-75-69"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-75-70" name="__codelineno-75-70" href="#__codelineno-75-70"></a>
<a id="__codelineno-75-71" name="__codelineno-75-71" href="#__codelineno-75-71"></a><span class="p">}</span>
<a id="__codelineno-75-72" name="__codelineno-75-72" href="#__codelineno-75-72"></a>
<a id="__codelineno-75-73" name="__codelineno-75-73" href="#__codelineno-75-73"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-75-74" name="__codelineno-75-74" href="#__codelineno-75-74"></a><span class="p">{</span>
<a id="__codelineno-75-75" name="__codelineno-75-75" href="#__codelineno-75-75"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-75-76" name="__codelineno-75-76" href="#__codelineno-75-76"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-75-77" name="__codelineno-75-77" href="#__codelineno-75-77"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">list1</span><span class="p">[</span><span class="n">n</span><span class="p">],</span><span class="w"> </span><span class="n">list2</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
<a id="__codelineno-75-78" name="__codelineno-75-78" href="#__codelineno-75-78"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-75-79" name="__codelineno-75-79" href="#__codelineno-75-79"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-75-80" name="__codelineno-75-80" href="#__codelineno-75-80"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">list1</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-75-81" name="__codelineno-75-81" href="#__codelineno-75-81"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-75-82" name="__codelineno-75-82" href="#__codelineno-75-82"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">HeapSortList</span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span>
<a id="__codelineno-75-83" name="__codelineno-75-83" href="#__codelineno-75-83"></a><span class="w">    </span><span class="c1">// 为了方便，将堆排序的数组下标从1开始</span>
<a id="__codelineno-75-84" name="__codelineno-75-84" href="#__codelineno-75-84"></a><span class="w">    </span><span class="n">HeapSortList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-75-85" name="__codelineno-75-85" href="#__codelineno-75-85"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-75-86" name="__codelineno-75-86" href="#__codelineno-75-86"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-75-87" name="__codelineno-75-87" href="#__codelineno-75-87"></a><span class="w">        </span><span class="n">HeapSortList</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list1</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-75-88" name="__codelineno-75-88" href="#__codelineno-75-88"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-75-89" name="__codelineno-75-89" href="#__codelineno-75-89"></a><span class="w">    </span><span class="n">HeapSort</span><span class="p">(</span><span class="n">list2</span><span class="p">,</span><span class="w"> </span><span class="n">HeapSortList</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-75-90" name="__codelineno-75-90" href="#__codelineno-75-90"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="mi">10</span>
<a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="mi">123</span><span class="w"> </span><span class="mi">456</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">2365</span>
<a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="mi">2365</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">456</span>
<a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="mi">1452</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="mi">456</span><span class="w"> </span><span class="mi">2365</span>
<a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a><span class="mi">963</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">456</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">2365</span>
<a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a><span class="mi">951</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="mi">456</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">2365</span>
<a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a><span class="mi">852</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="mi">456</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">2365</span>
<a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a><span class="mi">789</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="mi">456</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">2365</span>
<a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a><span class="mi">753</span><span class="w"> </span><span class="mi">456</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">2365</span>
<a id="__codelineno-76-10" name="__codelineno-76-10" href="#__codelineno-76-10"></a><span class="mi">741</span><span class="w"> </span><span class="mi">456</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">2365</span>
<a id="__codelineno-76-11" name="__codelineno-76-11" href="#__codelineno-76-11"></a><span class="mi">456</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">2365</span>
<a id="__codelineno-76-12" name="__codelineno-76-12" href="#__codelineno-76-12"></a><span class="mi">123</span><span class="w"> </span><span class="mi">456</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">2365</span>
<a id="__codelineno-76-13" name="__codelineno-76-13" href="#__codelineno-76-13"></a><span class="mi">123</span><span class="w"> </span><span class="mi">456</span><span class="w"> </span><span class="mi">741</span><span class="w"> </span><span class="mi">753</span><span class="w"> </span><span class="mi">789</span><span class="w"> </span><span class="mi">852</span><span class="w"> </span><span class="mi">951</span><span class="w"> </span><span class="mi">963</span><span class="w"> </span><span class="mi">1452</span><span class="w"> </span><span class="mi">2365</span>
</code></pre></div>
<p><strong>【Theorem】The average number of comparisons used to heapsort a random permutation of N distinct items is</strong></p>
<p><strong>2N log N - O( N log log N ) .</strong></p>
<h2 id="93-mergesort">9.3 MergeSort<a class="headerlink" href="#93-mergesort" title="Permanent link">&para;</a></h2>
<p>divide + conque +  merge</p>
<p><img alt="" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205100.png" /></p>
<p><img alt="image-20231212085648589" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205692.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a>
<a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">mergesort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="kt">void</span><span class="w"> </span><span class="nf">merge</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">mid</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a><span class="kt">void</span><span class="w"> </span><span class="nf">merge1</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">mid</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a>
<a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-77-8" name="__codelineno-77-8" href="#__codelineno-77-8"></a><span class="p">{</span>
<a id="__codelineno-77-9" name="__codelineno-77-9" href="#__codelineno-77-9"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-77-10" name="__codelineno-77-10" href="#__codelineno-77-10"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-77-11" name="__codelineno-77-11" href="#__codelineno-77-11"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
<a id="__codelineno-77-12" name="__codelineno-77-12" href="#__codelineno-77-12"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-77-13" name="__codelineno-77-13" href="#__codelineno-77-13"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-77-14" name="__codelineno-77-14" href="#__codelineno-77-14"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-77-15" name="__codelineno-77-15" href="#__codelineno-77-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-77-16" name="__codelineno-77-16" href="#__codelineno-77-16"></a><span class="w">    </span><span class="n">mergesort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">n</span><span class="mi">-1</span><span class="p">);</span>
<a id="__codelineno-77-17" name="__codelineno-77-17" href="#__codelineno-77-17"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-77-18" name="__codelineno-77-18" href="#__codelineno-77-18"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-77-19" name="__codelineno-77-19" href="#__codelineno-77-19"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-77-20" name="__codelineno-77-20" href="#__codelineno-77-20"></a><span class="w">    </span><span class="p">}</span><span class="w">   </span>
<a id="__codelineno-77-21" name="__codelineno-77-21" href="#__codelineno-77-21"></a><span class="p">}</span>
<a id="__codelineno-77-22" name="__codelineno-77-22" href="#__codelineno-77-22"></a><span class="kt">void</span><span class="w"> </span><span class="nf">mergesort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-77-23" name="__codelineno-77-23" href="#__codelineno-77-23"></a><span class="p">{</span>
<a id="__codelineno-77-24" name="__codelineno-77-24" href="#__codelineno-77-24"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">high</span><span class="o">-</span><span class="n">low</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">)</span><span class="w">        </span><span class="c1">//相当于low&gt;=high</span>
<a id="__codelineno-77-25" name="__codelineno-77-25" href="#__codelineno-77-25"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-77-26" name="__codelineno-77-26" href="#__codelineno-77-26"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-77-27" name="__codelineno-77-27" href="#__codelineno-77-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-77-28" name="__codelineno-77-28" href="#__codelineno-77-28"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">mid</span><span class="o">=</span><span class="p">(</span><span class="n">low</span><span class="o">+</span><span class="n">high</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-77-29" name="__codelineno-77-29" href="#__codelineno-77-29"></a><span class="w">    </span><span class="n">mergesort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">low</span><span class="p">,</span><span class="n">mid</span><span class="p">);</span>
<a id="__codelineno-77-30" name="__codelineno-77-30" href="#__codelineno-77-30"></a><span class="w">    </span><span class="n">mergesort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-77-31" name="__codelineno-77-31" href="#__codelineno-77-31"></a><span class="w">    </span><span class="n">merge</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">low</span><span class="p">,</span><span class="n">mid</span><span class="p">,</span><span class="n">high</span><span class="p">);</span><span class="w">     </span><span class="c1">//先将左右两边按顺序排好，再用</span>
<a id="__codelineno-77-32" name="__codelineno-77-32" href="#__codelineno-77-32"></a><span class="p">}</span>
<a id="__codelineno-77-33" name="__codelineno-77-33" href="#__codelineno-77-33"></a><span class="kt">void</span><span class="w"> </span><span class="nf">merge</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">mid</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-77-34" name="__codelineno-77-34" href="#__codelineno-77-34"></a><span class="p">{</span>
<a id="__codelineno-77-35" name="__codelineno-77-35" href="#__codelineno-77-35"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">low</span><span class="p">;</span>
<a id="__codelineno-77-36" name="__codelineno-77-36" href="#__codelineno-77-36"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-77-37" name="__codelineno-77-37" href="#__codelineno-77-37"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">high</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
<a id="__codelineno-77-38" name="__codelineno-77-38" href="#__codelineno-77-38"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="o">=</span><span class="n">low</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;=</span><span class="n">high</span><span class="p">;</span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-77-39" name="__codelineno-77-39" href="#__codelineno-77-39"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-77-40" name="__codelineno-77-40" href="#__codelineno-77-40"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">mid</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">||</span><span class="n">j</span><span class="o">&gt;</span><span class="n">high</span><span class="p">))</span>
<a id="__codelineno-77-41" name="__codelineno-77-41" href="#__codelineno-77-41"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-77-42" name="__codelineno-77-42" href="#__codelineno-77-42"></a><span class="w">            </span><span class="n">b</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">];</span>
<a id="__codelineno-77-43" name="__codelineno-77-43" href="#__codelineno-77-43"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-77-44" name="__codelineno-77-44" href="#__codelineno-77-44"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-77-45" name="__codelineno-77-45" href="#__codelineno-77-45"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-77-46" name="__codelineno-77-46" href="#__codelineno-77-46"></a><span class="w">            </span><span class="n">b</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="o">++</span><span class="p">];</span>
<a id="__codelineno-77-47" name="__codelineno-77-47" href="#__codelineno-77-47"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-77-48" name="__codelineno-77-48" href="#__codelineno-77-48"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-77-49" name="__codelineno-77-49" href="#__codelineno-77-49"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="o">=</span><span class="n">low</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;=</span><span class="n">high</span><span class="p">;</span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-77-50" name="__codelineno-77-50" href="#__codelineno-77-50"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-77-51" name="__codelineno-77-51" href="#__codelineno-77-51"></a><span class="w">        </span><span class="n">a</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">=</span><span class="n">b</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-77-52" name="__codelineno-77-52" href="#__codelineno-77-52"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-77-53" name="__codelineno-77-53" href="#__codelineno-77-53"></a><span class="p">}</span>
<a id="__codelineno-77-54" name="__codelineno-77-54" href="#__codelineno-77-54"></a>
<a id="__codelineno-77-55" name="__codelineno-77-55" href="#__codelineno-77-55"></a><span class="kt">void</span><span class="w"> </span><span class="nf">merge</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">mid</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-77-56" name="__codelineno-77-56" href="#__codelineno-77-56"></a><span class="p">{</span>
<a id="__codelineno-77-57" name="__codelineno-77-57" href="#__codelineno-77-57"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="n">low</span><span class="p">;</span>
<a id="__codelineno-77-58" name="__codelineno-77-58" href="#__codelineno-77-58"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-77-59" name="__codelineno-77-59" href="#__codelineno-77-59"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">high</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
<a id="__codelineno-77-60" name="__codelineno-77-60" href="#__codelineno-77-60"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="__codelineno-77-61" name="__codelineno-77-61" href="#__codelineno-77-61"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">low</span><span class="p">;</span><span class="n">k</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;=</span><span class="n">mid</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="n">j</span><span class="o">&lt;=</span><span class="n">high</span><span class="p">;</span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-77-62" name="__codelineno-77-62" href="#__codelineno-77-62"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-77-63" name="__codelineno-77-63" href="#__codelineno-77-63"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
<a id="__codelineno-77-64" name="__codelineno-77-64" href="#__codelineno-77-64"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-77-65" name="__codelineno-77-65" href="#__codelineno-77-65"></a><span class="w">            </span><span class="n">b</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-77-66" name="__codelineno-77-66" href="#__codelineno-77-66"></a><span class="w">            </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-77-67" name="__codelineno-77-67" href="#__codelineno-77-67"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-77-68" name="__codelineno-77-68" href="#__codelineno-77-68"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-77-69" name="__codelineno-77-69" href="#__codelineno-77-69"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-77-70" name="__codelineno-77-70" href="#__codelineno-77-70"></a><span class="w">            </span><span class="n">b</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-77-71" name="__codelineno-77-71" href="#__codelineno-77-71"></a><span class="w">            </span><span class="n">j</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-77-72" name="__codelineno-77-72" href="#__codelineno-77-72"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-77-73" name="__codelineno-77-73" href="#__codelineno-77-73"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-77-74" name="__codelineno-77-74" href="#__codelineno-77-74"></a><span class="w">    </span><span class="k">for</span><span class="p">(;</span><span class="n">i</span><span class="o">&lt;=</span><span class="w"> </span><span class="n">mid</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-77-75" name="__codelineno-77-75" href="#__codelineno-77-75"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-77-76" name="__codelineno-77-76" href="#__codelineno-77-76"></a><span class="w">        </span><span class="n">b</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-77-77" name="__codelineno-77-77" href="#__codelineno-77-77"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-77-78" name="__codelineno-77-78" href="#__codelineno-77-78"></a><span class="w">    </span><span class="k">for</span><span class="p">(;</span><span class="n">j</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">high</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-77-79" name="__codelineno-77-79" href="#__codelineno-77-79"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-77-80" name="__codelineno-77-80" href="#__codelineno-77-80"></a><span class="w">        </span><span class="n">b</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-77-81" name="__codelineno-77-81" href="#__codelineno-77-81"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-77-82" name="__codelineno-77-82" href="#__codelineno-77-82"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">low</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">high</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-77-83" name="__codelineno-77-83" href="#__codelineno-77-83"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-77-84" name="__codelineno-77-84" href="#__codelineno-77-84"></a><span class="w">        </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-77-85" name="__codelineno-77-85" href="#__codelineno-77-85"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-77-86" name="__codelineno-77-86" href="#__codelineno-77-86"></a><span class="p">}</span>
</code></pre></div>
<div class="arithmatex">\[
\begin{aligned}
T(1) &amp;= 1\\
T(N) &amp;= 2T(N/2) + O(N) merge 的时间复杂度为O(N) \\
    &amp;= 2^kT(N/2^k)+k*O(N)\\
    &amp;= N * T(1) + log N * O(N)\\
    &amp;= O(N + NlogN)
\end{aligned}
\]</div>
<h2 id="94">9.4 快速排序<a class="headerlink" href="#94" title="Permanent link">&para;</a></h2>
<p>快速排序所采用的思想是分治的思想。所谓分治，就是指以一个数为基准，将序列中的其他数往它两边“扔”。以从小到大排序为例，比它小的都“扔”到它的左边，比它大的都“扔”到它的右边，然后左右两边再分别重复这个操作，不停地分，直至分到每一个分区的基准数的左边或者右边都只剩一个数为止。这时排序也就完成了。</p>
<p>假设序列中有 n 个数，将这 n 个数放到数组 A 中。“舞动算法”中一趟快速排序的算法是：</p>
<ol>
<li>设置两个变量 i、j，排序开始的时候：i=0，j=n–1。</li>
<li>以数组第一个元素为关键数据，赋给变量 key，即 key=A[0]。</li>
<li>从 j 开始向前搜索，即由后开始向前搜索（j--），找到第一个小于 key 的值 A[j]，将 A[j] 和 A[i] 互换。</li>
<li>然后再从 i 开始向后搜索，即由前开始向后搜索（++i），找到第一个大于 key 的 A[i]，将 A[i] 和 A[j] 互换。</li>
<li>重复第 3、4 步，直到 i=j。此时就能确保序列中所有元素都与 key 比较过了，且 key 的左边全部是比 key 小的，key 的右边全部是比 key 大的。</li>
</ol>
<p>下面列举一个简单的例子，比如对如下数组 a 中的元素使用快速排序实现从小到大排序：</p>
<blockquote>
<p>35 12 37 -58 54 76 22</p>
</blockquote>
<p>1) 首先<strong>分别定义 low 和 high 用于存储数组第一个元素的下标和最后一个元素的下标</strong>，即 <strong>low=0，high=6</strong>。</p>
<p>2) 然后定义 key 用于存放基准数，理论上该基准数可以取序列中的任何一个数。此处就取数组的第一个元素，即把 a[low] 赋给 key。</p>
<p>3) 然后 key 和 a[high] 比较，即 35 和 22 比较，35&gt;22，则它们互换位置：</p>
<blockquote>
<p>22 12 37 -58 54 76 35</p>
</blockquote>
<p>4) 然后 low++==1，key 和 a[low] 比较，即 35 和 12 比较，12&lt;35，则不用互换位置；继续 low++==2，然后 key 和 a[low] 比较，即 35 和 37 比较，37&gt;35，则它们互换位置：</p>
<blockquote>
<p>22 12 35 -58 54 76 37</p>
</blockquote>
<p>5) 然后 high--==5，key 和 a[high] 比较，即 35 和 76 比较，35&lt;76，则不用互换位置；继续 high--==4，然后 key 和 a[high] 比较，即 35 和 54 比较，35&lt;54，则不用互换位置；继续 high--==3，然后 key 和 a[high] 比较，即 35 和 -58 比较，35&gt;–58，则它们互换位置：</p>
<blockquote>
<p>22 12 -58 35 54 76 37</p>
</blockquote>
<p>6) 然后 low++==3，此时 low==high，第一轮比较结束。从最后得到的序列可以看出，35 左边的都比 35 小，35 右边的都比 35 大。这样就以 35 为中心，把原序列分成了左右两个部分。接下来只需要分别对左右两个部分分别重复上述操作就行了。</p>
<p><strong><em>其中每一轮都是key与a[low]或者a[high]交换</em></strong></p>
<h3 id="941">9.4.1交换版<a class="headerlink" href="#941" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">swap</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="n">a</span><span class="p">,</span><span class="kt">int</span><span class="o">*</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="p">{</span>
<a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a><span class="w">    </span><span class="n">temp</span><span class="o">=*</span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-78-6" name="__codelineno-78-6" href="#__codelineno-78-6"></a><span class="w">    </span><span class="o">*</span><span class="n">a</span><span class="o">=*</span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-78-7" name="__codelineno-78-7" href="#__codelineno-78-7"></a><span class="w">    </span><span class="o">*</span><span class="n">b</span><span class="o">=</span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-78-8" name="__codelineno-78-8" href="#__codelineno-78-8"></a><span class="p">}</span>
<a id="__codelineno-78-9" name="__codelineno-78-9" href="#__codelineno-78-9"></a><span class="kt">void</span><span class="w"> </span><span class="nf">quicksort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-78-10" name="__codelineno-78-10" href="#__codelineno-78-10"></a><span class="p">{</span>
<a id="__codelineno-78-11" name="__codelineno-78-11" href="#__codelineno-78-11"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">low</span><span class="p">;</span>
<a id="__codelineno-78-12" name="__codelineno-78-12" href="#__codelineno-78-12"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">high</span><span class="p">;</span>
<a id="__codelineno-78-13" name="__codelineno-78-13" href="#__codelineno-78-13"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-78-14" name="__codelineno-78-14" href="#__codelineno-78-14"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-78-15" name="__codelineno-78-15" href="#__codelineno-78-15"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-78-16" name="__codelineno-78-16" href="#__codelineno-78-16"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-78-17" name="__codelineno-78-17" href="#__codelineno-78-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-78-18" name="__codelineno-78-18" href="#__codelineno-78-18"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-78-19" name="__codelineno-78-19" href="#__codelineno-78-19"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-78-20" name="__codelineno-78-20" href="#__codelineno-78-20"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">key</span><span class="p">)</span><span class="w">  </span>
<a id="__codelineno-78-21" name="__codelineno-78-21" href="#__codelineno-78-21"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-78-22" name="__codelineno-78-22" href="#__codelineno-78-22"></a><span class="w">            </span><span class="n">j</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-78-23" name="__codelineno-78-23" href="#__codelineno-78-23"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-78-24" name="__codelineno-78-24" href="#__codelineno-78-24"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-78-25" name="__codelineno-78-25" href="#__codelineno-78-25"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-78-26" name="__codelineno-78-26" href="#__codelineno-78-26"></a><span class="w">            </span><span class="n">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
<a id="__codelineno-78-27" name="__codelineno-78-27" href="#__codelineno-78-27"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-78-28" name="__codelineno-78-28" href="#__codelineno-78-28"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-78-29" name="__codelineno-78-29" href="#__codelineno-78-29"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-78-30" name="__codelineno-78-30" href="#__codelineno-78-30"></a><span class="w">            </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-78-31" name="__codelineno-78-31" href="#__codelineno-78-31"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-78-32" name="__codelineno-78-32" href="#__codelineno-78-32"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-78-33" name="__codelineno-78-33" href="#__codelineno-78-33"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-78-34" name="__codelineno-78-34" href="#__codelineno-78-34"></a><span class="w">            </span><span class="n">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
<a id="__codelineno-78-35" name="__codelineno-78-35" href="#__codelineno-78-35"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-78-36" name="__codelineno-78-36" href="#__codelineno-78-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-78-37" name="__codelineno-78-37" href="#__codelineno-78-37"></a><span class="w">    </span><span class="n">quicksort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">low</span><span class="p">,</span><span class="n">i</span><span class="mi">-1</span><span class="p">);</span>
<a id="__codelineno-78-38" name="__codelineno-78-38" href="#__codelineno-78-38"></a><span class="w">    </span><span class="n">quicksort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-78-39" name="__codelineno-78-39" href="#__codelineno-78-39"></a><span class="p">}</span>
<a id="__codelineno-78-40" name="__codelineno-78-40" href="#__codelineno-78-40"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-78-41" name="__codelineno-78-41" href="#__codelineno-78-41"></a><span class="p">{</span>
<a id="__codelineno-78-42" name="__codelineno-78-42" href="#__codelineno-78-42"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-78-43" name="__codelineno-78-43" href="#__codelineno-78-43"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-78-44" name="__codelineno-78-44" href="#__codelineno-78-44"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
<a id="__codelineno-78-45" name="__codelineno-78-45" href="#__codelineno-78-45"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-78-46" name="__codelineno-78-46" href="#__codelineno-78-46"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-78-47" name="__codelineno-78-47" href="#__codelineno-78-47"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-78-48" name="__codelineno-78-48" href="#__codelineno-78-48"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-78-49" name="__codelineno-78-49" href="#__codelineno-78-49"></a><span class="w">    </span><span class="n">quicksort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">n</span><span class="mi">-1</span><span class="p">);</span>
<a id="__codelineno-78-50" name="__codelineno-78-50" href="#__codelineno-78-50"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-78-51" name="__codelineno-78-51" href="#__codelineno-78-51"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-78-52" name="__codelineno-78-52" href="#__codelineno-78-52"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-78-53" name="__codelineno-78-53" href="#__codelineno-78-53"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-78-54" name="__codelineno-78-54" href="#__codelineno-78-54"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p><strong>注意点：</strong></p>
<ol>
<li>
<p><strong>不要判断if（i &gt;= j) return; 否则程序会一直持续下去</strong></p>
</li>
<li>
<p><strong>先对j进行操作，第一个小于key的值移到第一位。否则，先对i操作的话，会自然地跳过key，从而无法实现分割。</strong></p>
</li>
</ol>
</blockquote>
<h3 id="942">9.4.2直接赋值版<a class="headerlink" href="#942" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">QuickSort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">);</span><span class="w">  </span><span class="cm">/*现在只需要定义一个函数, 不用交换还省了一个函数, 减少了代码量*/</span>
<a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="p">{</span>
<a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">  </span><span class="c1">//循环变量</span>
<a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">900</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">-58</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="mi">-70</span><span class="p">,</span><span class="w"> </span><span class="mi">635</span><span class="p">,</span><span class="w"> </span><span class="mi">-234</span><span class="p">,</span><span class="w"> </span><span class="mi">532</span><span class="p">,</span><span class="w"> </span><span class="mi">543</span><span class="p">,</span><span class="w"> </span><span class="mi">2500</span><span class="p">};</span>
<a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a><span class="w">    </span><span class="n">QuickSort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">  </span><span class="cm">/*引用起来很简单, 0为第一个元素的下标, 20为最后一个元素的下标*/</span>
<a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;最终排序结果为:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="mi">21</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-79-10" name="__codelineno-79-10" href="#__codelineno-79-10"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-79-11" name="__codelineno-79-11" href="#__codelineno-79-11"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-79-12" name="__codelineno-79-12" href="#__codelineno-79-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-79-13" name="__codelineno-79-13" href="#__codelineno-79-13"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-79-14" name="__codelineno-79-14" href="#__codelineno-79-14"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-79-15" name="__codelineno-79-15" href="#__codelineno-79-15"></a><span class="p">}</span>
<a id="__codelineno-79-16" name="__codelineno-79-16" href="#__codelineno-79-16"></a><span class="kt">void</span><span class="w"> </span><span class="nf">QuickSort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-79-17" name="__codelineno-79-17" href="#__codelineno-79-17"></a><span class="p">{</span>
<a id="__codelineno-79-18" name="__codelineno-79-18" href="#__codelineno-79-18"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">low</span><span class="p">;</span>
<a id="__codelineno-79-19" name="__codelineno-79-19" href="#__codelineno-79-19"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">high</span><span class="p">;</span>
<a id="__codelineno-79-20" name="__codelineno-79-20" href="#__codelineno-79-20"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">low</span><span class="p">];</span>
<a id="__codelineno-79-21" name="__codelineno-79-21" href="#__codelineno-79-21"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="w">  </span><span class="c1">//如果low &gt;= high说明排序结束了</span>
<a id="__codelineno-79-22" name="__codelineno-79-22" href="#__codelineno-79-22"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-79-23" name="__codelineno-79-23" href="#__codelineno-79-23"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">;</span>
<a id="__codelineno-79-24" name="__codelineno-79-24" href="#__codelineno-79-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-79-25" name="__codelineno-79-25" href="#__codelineno-79-25"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="w">  </span><span class="c1">//该while循环结束一次表示比较了一轮</span>
<a id="__codelineno-79-26" name="__codelineno-79-26" href="#__codelineno-79-26"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-79-27" name="__codelineno-79-27" href="#__codelineno-79-27"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">high</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-79-28" name="__codelineno-79-28" href="#__codelineno-79-28"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-79-29" name="__codelineno-79-29" href="#__codelineno-79-29"></a><span class="w">            </span><span class="o">--</span><span class="n">high</span><span class="p">;</span><span class="w">  </span><span class="c1">//向前寻找</span>
<a id="__codelineno-79-30" name="__codelineno-79-30" href="#__codelineno-79-30"></a><span class="w">        </span><span class="p">}</span><span class="w">            </span><span class="c1">//找到第一个比key小的数</span>
<a id="__codelineno-79-31" name="__codelineno-79-31" href="#__codelineno-79-31"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">high</span><span class="p">])</span>
<a id="__codelineno-79-32" name="__codelineno-79-32" href="#__codelineno-79-32"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-79-33" name="__codelineno-79-33" href="#__codelineno-79-33"></a><span class="w">            </span><span class="n">a</span><span class="p">[</span><span class="n">low</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">high</span><span class="p">];</span><span class="w">  </span><span class="c1">//直接赋值（a[low]初始值就是key）, 不用交换</span>
<a id="__codelineno-79-34" name="__codelineno-79-34" href="#__codelineno-79-34"></a><span class="w">            </span><span class="n">low</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-79-35" name="__codelineno-79-35" href="#__codelineno-79-35"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-79-36" name="__codelineno-79-36" href="#__codelineno-79-36"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">low</span><span class="p">])</span>
<a id="__codelineno-79-37" name="__codelineno-79-37" href="#__codelineno-79-37"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-79-38" name="__codelineno-79-38" href="#__codelineno-79-38"></a><span class="w">            </span><span class="o">++</span><span class="n">low</span><span class="p">;</span><span class="w">  </span><span class="c1">//向后寻找</span>
<a id="__codelineno-79-39" name="__codelineno-79-39" href="#__codelineno-79-39"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-79-40" name="__codelineno-79-40" href="#__codelineno-79-40"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">low</span><span class="p">])</span>
<a id="__codelineno-79-41" name="__codelineno-79-41" href="#__codelineno-79-41"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-79-42" name="__codelineno-79-42" href="#__codelineno-79-42"></a><span class="w">            </span><span class="n">a</span><span class="p">[</span><span class="n">high</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">low</span><span class="p">];</span><span class="w">  </span><span class="c1">//直接赋值, 不用交换</span>
<a id="__codelineno-79-43" name="__codelineno-79-43" href="#__codelineno-79-43"></a><span class="w">            </span><span class="o">--</span><span class="n">high</span><span class="p">;</span>
<a id="__codelineno-79-44" name="__codelineno-79-44" href="#__codelineno-79-44"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-79-45" name="__codelineno-79-45" href="#__codelineno-79-45"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-79-46" name="__codelineno-79-46" href="#__codelineno-79-46"></a><span class="w">    </span><span class="n">a</span><span class="p">[</span><span class="n">low</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">key</span><span class="p">;</span><span class="w">  </span><span class="c1">//查找完一轮后key值归位, 不用比较一次就互换一次。此时key值将序列分成左右两部分</span>
<a id="__codelineno-79-47" name="__codelineno-79-47" href="#__codelineno-79-47"></a><span class="w">    </span><span class="n">QuickSort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="mi">-1</span><span class="p">);</span><span class="w">  </span><span class="c1">//用同样的方式对分出来的左边的部分进行同上的做法</span>
<a id="__codelineno-79-48" name="__codelineno-79-48" href="#__codelineno-79-48"></a><span class="w">    </span><span class="n">QuickSort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">);</span><span class="w">  </span><span class="c1">//用同样的方式对分出来的右边的部分进行同上的做法</span>
<a id="__codelineno-79-49" name="__codelineno-79-49" href="#__codelineno-79-49"></a><span class="p">}</span>
</code></pre></div>
<h3 id="943">9.4.3双指针嵌套使用(取中间数为基准值)<a class="headerlink" href="#943" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">partition</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="p">{</span>
<a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">low</span><span class="mi">-1</span><span class="p">;</span><span class="w">               </span><span class="c1">//do while 循环中先进行i++；a[i]从a[0]开始</span>
<a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="w"> </span><span class="n">high</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w">               </span><span class="c1">//同理，a[j]从a[n-1]开始</span>
<a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">mid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">low</span><span class="o">+</span><span class="n">high</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">];</span>
<a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-80-8" name="__codelineno-80-8" href="#__codelineno-80-8"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-80-9" name="__codelineno-80-9" href="#__codelineno-80-9"></a><span class="w">        </span><span class="k">do</span>
<a id="__codelineno-80-10" name="__codelineno-80-10" href="#__codelineno-80-10"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-80-11" name="__codelineno-80-11" href="#__codelineno-80-11"></a><span class="w">            </span><span class="n">j</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-80-12" name="__codelineno-80-12" href="#__codelineno-80-12"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-80-13" name="__codelineno-80-13" href="#__codelineno-80-13"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;</span><span class="n">key</span><span class="p">);</span>
<a id="__codelineno-80-14" name="__codelineno-80-14" href="#__codelineno-80-14"></a><span class="w">        </span><span class="k">do</span>
<a id="__codelineno-80-15" name="__codelineno-80-15" href="#__codelineno-80-15"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-80-16" name="__codelineno-80-16" href="#__codelineno-80-16"></a><span class="w">            </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-80-17" name="__codelineno-80-17" href="#__codelineno-80-17"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-80-18" name="__codelineno-80-18" href="#__codelineno-80-18"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="n">key</span><span class="p">);</span>
<a id="__codelineno-80-19" name="__codelineno-80-19" href="#__codelineno-80-19"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">&gt;=</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">j</span><span class="p">;</span><span class="c1">//j的反列是a[j]&lt;=key,故会在等于的时候停住，也就是key的位置</span>
<a id="__codelineno-80-20" name="__codelineno-80-20" href="#__codelineno-80-20"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-80-21" name="__codelineno-80-21" href="#__codelineno-80-21"></a><span class="w">        </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-80-22" name="__codelineno-80-22" href="#__codelineno-80-22"></a><span class="w">        </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-80-23" name="__codelineno-80-23" href="#__codelineno-80-23"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-80-24" name="__codelineno-80-24" href="#__codelineno-80-24"></a><span class="p">}</span>
<a id="__codelineno-80-25" name="__codelineno-80-25" href="#__codelineno-80-25"></a><span class="kt">void</span><span class="w"> </span><span class="nf">quicksort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-80-26" name="__codelineno-80-26" href="#__codelineno-80-26"></a><span class="p">{</span>
<a id="__codelineno-80-27" name="__codelineno-80-27" href="#__codelineno-80-27"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">low</span><span class="o">&gt;=</span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-80-28" name="__codelineno-80-28" href="#__codelineno-80-28"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-80-29" name="__codelineno-80-29" href="#__codelineno-80-29"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-80-30" name="__codelineno-80-30" href="#__codelineno-80-30"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-80-31" name="__codelineno-80-31" href="#__codelineno-80-31"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">pivot</span><span class="o">=</span><span class="n">partition</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">low</span><span class="p">,</span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-80-32" name="__codelineno-80-32" href="#__codelineno-80-32"></a><span class="w">    </span><span class="n">quicksort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">pivot</span><span class="p">);</span>
<a id="__codelineno-80-33" name="__codelineno-80-33" href="#__codelineno-80-33"></a><span class="w">    </span><span class="n">quicksort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">pivot</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-80-34" name="__codelineno-80-34" href="#__codelineno-80-34"></a><span class="p">}</span>
</code></pre></div>
<h3 id="944">9.4.4双函数嵌套（取第一位为基准值）<a class="headerlink" href="#944" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="n">fu</span><span class="err">&#39;</span><span class="n">zhi</span>
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="kt">int</span><span class="w"> </span><span class="n">partition</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="p">{</span>
<a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">low</span><span class="p">;</span>
<a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="n">high</span><span class="p">;</span>
<a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-81-9" name="__codelineno-81-9" href="#__codelineno-81-9"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">key</span><span class="o">&amp;&amp;</span><span class="n">j</span><span class="o">&gt;</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-81-10" name="__codelineno-81-10" href="#__codelineno-81-10"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-81-11" name="__codelineno-81-11" href="#__codelineno-81-11"></a><span class="w">            </span><span class="n">j</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-81-12" name="__codelineno-81-12" href="#__codelineno-81-12"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-81-13" name="__codelineno-81-13" href="#__codelineno-81-13"></a><span class="w">        </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-81-14" name="__codelineno-81-14" href="#__codelineno-81-14"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">key</span><span class="o">&amp;&amp;</span><span class="n">j</span><span class="o">&gt;</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-81-15" name="__codelineno-81-15" href="#__codelineno-81-15"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-81-16" name="__codelineno-81-16" href="#__codelineno-81-16"></a><span class="w">            </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-81-17" name="__codelineno-81-17" href="#__codelineno-81-17"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-81-18" name="__codelineno-81-18" href="#__codelineno-81-18"></a><span class="w">        </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-81-19" name="__codelineno-81-19" href="#__codelineno-81-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-81-20" name="__codelineno-81-20" href="#__codelineno-81-20"></a><span class="w">    </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">key</span><span class="p">;</span>
<a id="__codelineno-81-21" name="__codelineno-81-21" href="#__codelineno-81-21"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-81-22" name="__codelineno-81-22" href="#__codelineno-81-22"></a><span class="p">}</span>
<a id="__codelineno-81-23" name="__codelineno-81-23" href="#__codelineno-81-23"></a><span class="kt">void</span><span class="w"> </span><span class="n">quicksort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-81-24" name="__codelineno-81-24" href="#__codelineno-81-24"></a><span class="p">{</span>
<a id="__codelineno-81-25" name="__codelineno-81-25" href="#__codelineno-81-25"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">low</span><span class="o">&gt;=</span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-81-26" name="__codelineno-81-26" href="#__codelineno-81-26"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-81-27" name="__codelineno-81-27" href="#__codelineno-81-27"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-81-28" name="__codelineno-81-28" href="#__codelineno-81-28"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-81-29" name="__codelineno-81-29" href="#__codelineno-81-29"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">pivot</span><span class="o">=</span><span class="n">partition</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">low</span><span class="p">,</span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-81-30" name="__codelineno-81-30" href="#__codelineno-81-30"></a><span class="w">    </span><span class="n">quicksort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">pivot</span><span class="mi">-1</span><span class="p">);</span>
<a id="__codelineno-81-31" name="__codelineno-81-31" href="#__codelineno-81-31"></a><span class="w">    </span><span class="n">quicksort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">pivot</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-81-32" name="__codelineno-81-32" href="#__codelineno-81-32"></a><span class="p">}</span>
<a id="__codelineno-81-33" name="__codelineno-81-33" href="#__codelineno-81-33"></a><span class="n">交换法</span>
<a id="__codelineno-81-34" name="__codelineno-81-34" href="#__codelineno-81-34"></a><span class="n">nt</span><span class="w"> </span><span class="n">partition</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-81-35" name="__codelineno-81-35" href="#__codelineno-81-35"></a><span class="p">{</span>
<a id="__codelineno-81-36" name="__codelineno-81-36" href="#__codelineno-81-36"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="n">low</span><span class="p">;</span>
<a id="__codelineno-81-37" name="__codelineno-81-37" href="#__codelineno-81-37"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">high</span><span class="p">;</span>
<a id="__codelineno-81-38" name="__codelineno-81-38" href="#__codelineno-81-38"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">low</span><span class="p">];</span>
<a id="__codelineno-81-39" name="__codelineno-81-39" href="#__codelineno-81-39"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-81-40" name="__codelineno-81-40" href="#__codelineno-81-40"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-81-41" name="__codelineno-81-41" href="#__codelineno-81-41"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">j</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-81-42" name="__codelineno-81-42" href="#__codelineno-81-42"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-81-43" name="__codelineno-81-43" href="#__codelineno-81-43"></a><span class="w">            </span><span class="n">j</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-81-44" name="__codelineno-81-44" href="#__codelineno-81-44"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-81-45" name="__codelineno-81-45" href="#__codelineno-81-45"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-81-46" name="__codelineno-81-46" href="#__codelineno-81-46"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-81-47" name="__codelineno-81-47" href="#__codelineno-81-47"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-81-48" name="__codelineno-81-48" href="#__codelineno-81-48"></a><span class="w">            </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-81-49" name="__codelineno-81-49" href="#__codelineno-81-49"></a><span class="w">            </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<a id="__codelineno-81-50" name="__codelineno-81-50" href="#__codelineno-81-50"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-81-51" name="__codelineno-81-51" href="#__codelineno-81-51"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-81-52" name="__codelineno-81-52" href="#__codelineno-81-52"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-81-53" name="__codelineno-81-53" href="#__codelineno-81-53"></a><span class="w">            </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-81-54" name="__codelineno-81-54" href="#__codelineno-81-54"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-81-55" name="__codelineno-81-55" href="#__codelineno-81-55"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-81-56" name="__codelineno-81-56" href="#__codelineno-81-56"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-81-57" name="__codelineno-81-57" href="#__codelineno-81-57"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-81-58" name="__codelineno-81-58" href="#__codelineno-81-58"></a><span class="w">            </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-81-59" name="__codelineno-81-59" href="#__codelineno-81-59"></a><span class="w">            </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<a id="__codelineno-81-60" name="__codelineno-81-60" href="#__codelineno-81-60"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-81-61" name="__codelineno-81-61" href="#__codelineno-81-61"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-81-62" name="__codelineno-81-62" href="#__codelineno-81-62"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-81-63" name="__codelineno-81-63" href="#__codelineno-81-63"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-81-64" name="__codelineno-81-64" href="#__codelineno-81-64"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-81-65" name="__codelineno-81-65" href="#__codelineno-81-65"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-81-66" name="__codelineno-81-66" href="#__codelineno-81-66"></a><span class="p">}</span>
</code></pre></div>
<h3 id="945">9.4.5单指针嵌套（去最后一位为基准值）<a class="headerlink" href="#945" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">swap</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="n">a</span><span class="p">,</span><span class="kt">int</span><span class="o">*</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="p">{</span>
<a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a><span class="w">    </span><span class="n">temp</span><span class="o">=*</span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-82-6" name="__codelineno-82-6" href="#__codelineno-82-6"></a><span class="w">    </span><span class="o">*</span><span class="n">a</span><span class="o">=*</span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-82-7" name="__codelineno-82-7" href="#__codelineno-82-7"></a><span class="w">    </span><span class="o">*</span><span class="n">b</span><span class="o">=</span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-82-8" name="__codelineno-82-8" href="#__codelineno-82-8"></a><span class="p">}</span>
<a id="__codelineno-82-9" name="__codelineno-82-9" href="#__codelineno-82-9"></a><span class="kt">int</span><span class="w"> </span><span class="nf">partition</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-82-10" name="__codelineno-82-10" href="#__codelineno-82-10"></a><span class="p">{</span>
<a id="__codelineno-82-11" name="__codelineno-82-11" href="#__codelineno-82-11"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">high</span><span class="p">];</span>
<a id="__codelineno-82-12" name="__codelineno-82-12" href="#__codelineno-82-12"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">low</span><span class="p">;</span>
<a id="__codelineno-82-13" name="__codelineno-82-13" href="#__codelineno-82-13"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-82-14" name="__codelineno-82-14" href="#__codelineno-82-14"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="n">low</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="n">high</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-82-15" name="__codelineno-82-15" href="#__codelineno-82-15"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-82-16" name="__codelineno-82-16" href="#__codelineno-82-16"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&lt;</span><span class="n">key</span><span class="p">)</span><span class="w">                  </span><span class="c1">//特殊情况第一位就小于key，ij分别变成low+1；</span>
<a id="__codelineno-82-17" name="__codelineno-82-17" href="#__codelineno-82-17"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-82-18" name="__codelineno-82-18" href="#__codelineno-82-18"></a><span class="w">            </span><span class="n">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
<a id="__codelineno-82-19" name="__codelineno-82-19" href="#__codelineno-82-19"></a><span class="w">            </span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-82-20" name="__codelineno-82-20" href="#__codelineno-82-20"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-82-21" name="__codelineno-82-21" href="#__codelineno-82-21"></a>
<a id="__codelineno-82-22" name="__codelineno-82-22" href="#__codelineno-82-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-82-23" name="__codelineno-82-23" href="#__codelineno-82-23"></a><span class="w">    </span><span class="n">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">high</span><span class="p">]);</span><span class="w">         </span><span class="c1">//只有a[j]&lt;key时才会与a[i]交换，并且j必然大于i，从而i所在的位置是一个大于等于key的数，最后a[i]要与a[high](也就是key)交换</span>
<a id="__codelineno-82-24" name="__codelineno-82-24" href="#__codelineno-82-24"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">   </span><span class="c1">//此时i的位置就是key</span>
<a id="__codelineno-82-25" name="__codelineno-82-25" href="#__codelineno-82-25"></a><span class="p">}</span>
<a id="__codelineno-82-26" name="__codelineno-82-26" href="#__codelineno-82-26"></a><span class="kt">void</span><span class="w"> </span><span class="nf">quicksort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[],</span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-82-27" name="__codelineno-82-27" href="#__codelineno-82-27"></a><span class="p">{</span>
<a id="__codelineno-82-28" name="__codelineno-82-28" href="#__codelineno-82-28"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">low</span><span class="o">&gt;=</span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-82-29" name="__codelineno-82-29" href="#__codelineno-82-29"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-82-30" name="__codelineno-82-30" href="#__codelineno-82-30"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-82-31" name="__codelineno-82-31" href="#__codelineno-82-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-82-32" name="__codelineno-82-32" href="#__codelineno-82-32"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">pivot</span><span class="o">=</span><span class="n">partition</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">low</span><span class="p">,</span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-82-33" name="__codelineno-82-33" href="#__codelineno-82-33"></a><span class="w">    </span><span class="n">quicksort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">low</span><span class="p">,</span><span class="n">pivot</span><span class="mi">-1</span><span class="p">);</span>
<a id="__codelineno-82-34" name="__codelineno-82-34" href="#__codelineno-82-34"></a><span class="w">    </span><span class="n">quicksort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">pivot</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-82-35" name="__codelineno-82-35" href="#__codelineno-82-35"></a><span class="p">}</span>
<a id="__codelineno-82-36" name="__codelineno-82-36" href="#__codelineno-82-36"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-82-37" name="__codelineno-82-37" href="#__codelineno-82-37"></a><span class="p">{</span>
<a id="__codelineno-82-38" name="__codelineno-82-38" href="#__codelineno-82-38"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-82-39" name="__codelineno-82-39" href="#__codelineno-82-39"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-82-40" name="__codelineno-82-40" href="#__codelineno-82-40"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
<a id="__codelineno-82-41" name="__codelineno-82-41" href="#__codelineno-82-41"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-82-42" name="__codelineno-82-42" href="#__codelineno-82-42"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-82-43" name="__codelineno-82-43" href="#__codelineno-82-43"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-82-44" name="__codelineno-82-44" href="#__codelineno-82-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-82-45" name="__codelineno-82-45" href="#__codelineno-82-45"></a><span class="w">    </span><span class="n">quicksort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">n</span><span class="mi">-1</span><span class="p">);</span>
<a id="__codelineno-82-46" name="__codelineno-82-46" href="#__codelineno-82-46"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-82-47" name="__codelineno-82-47" href="#__codelineno-82-47"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-82-48" name="__codelineno-82-48" href="#__codelineno-82-48"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-82-49" name="__codelineno-82-49" href="#__codelineno-82-49"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-82-50" name="__codelineno-82-50" href="#__codelineno-82-50"></a><span class="p">}</span>
</code></pre></div>
<h3 id="946-quicksort-insertsort">9.4.6 Quicksort 与 Insertsort 结合<a class="headerlink" href="#946-quicksort-insertsort" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a>
<a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="cp">#define Cutoff 10</span>
<a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a>
<a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Swap</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a><span class="p">{</span>
<a id="__codelineno-83-8" name="__codelineno-83-8" href="#__codelineno-83-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-83-9" name="__codelineno-83-9" href="#__codelineno-83-9"></a><span class="w">    </span><span class="o">*</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-83-10" name="__codelineno-83-10" href="#__codelineno-83-10"></a><span class="w">    </span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-83-11" name="__codelineno-83-11" href="#__codelineno-83-11"></a><span class="p">}</span>
<a id="__codelineno-83-12" name="__codelineno-83-12" href="#__codelineno-83-12"></a>
<a id="__codelineno-83-13" name="__codelineno-83-13" href="#__codelineno-83-13"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Median3</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-83-14" name="__codelineno-83-14" href="#__codelineno-83-14"></a><span class="p">{</span>
<a id="__codelineno-83-15" name="__codelineno-83-15" href="#__codelineno-83-15"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">mid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-83-16" name="__codelineno-83-16" href="#__codelineno-83-16"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">low</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">temp</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span>
<a id="__codelineno-83-17" name="__codelineno-83-17" href="#__codelineno-83-17"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-83-18" name="__codelineno-83-18" href="#__codelineno-83-18"></a><span class="w">        </span><span class="n">Swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">low</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">mid</span><span class="p">]);</span>
<a id="__codelineno-83-19" name="__codelineno-83-19" href="#__codelineno-83-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-20" name="__codelineno-83-20" href="#__codelineno-83-20"></a><span class="w">    </span><span class="c1">// 此时，temp[low] &lt;= temp[mid]</span>
<a id="__codelineno-83-21" name="__codelineno-83-21" href="#__codelineno-83-21"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">low</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">temp</span><span class="p">[</span><span class="n">high</span><span class="p">])</span>
<a id="__codelineno-83-22" name="__codelineno-83-22" href="#__codelineno-83-22"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-83-23" name="__codelineno-83-23" href="#__codelineno-83-23"></a><span class="w">        </span><span class="n">Swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">low</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">high</span><span class="p">]);</span>
<a id="__codelineno-83-24" name="__codelineno-83-24" href="#__codelineno-83-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-25" name="__codelineno-83-25" href="#__codelineno-83-25"></a><span class="w">    </span><span class="c1">// 此时，temp[low] &lt;= temp[mid] ，temp[low] &lt;= temp[high]</span>
<a id="__codelineno-83-26" name="__codelineno-83-26" href="#__codelineno-83-26"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">temp</span><span class="p">[</span><span class="n">high</span><span class="p">])</span>
<a id="__codelineno-83-27" name="__codelineno-83-27" href="#__codelineno-83-27"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-83-28" name="__codelineno-83-28" href="#__codelineno-83-28"></a><span class="w">        </span><span class="n">Swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">mid</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">high</span><span class="p">]);</span>
<a id="__codelineno-83-29" name="__codelineno-83-29" href="#__codelineno-83-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-30" name="__codelineno-83-30" href="#__codelineno-83-30"></a><span class="w">    </span><span class="c1">// 此时，temp[low] &lt;= temp[mid] &lt;= temp[high]</span>
<a id="__codelineno-83-31" name="__codelineno-83-31" href="#__codelineno-83-31"></a><span class="w">    </span><span class="n">Swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">mid</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">high</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]);</span>
<a id="__codelineno-83-32" name="__codelineno-83-32" href="#__codelineno-83-32"></a><span class="w">    </span><span class="c1">// key = temp[high - 1]</span>
<a id="__codelineno-83-33" name="__codelineno-83-33" href="#__codelineno-83-33"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">[</span><span class="n">high</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span>
<a id="__codelineno-83-34" name="__codelineno-83-34" href="#__codelineno-83-34"></a><span class="p">}</span>
<a id="__codelineno-83-35" name="__codelineno-83-35" href="#__codelineno-83-35"></a><span class="kt">void</span><span class="w"> </span><span class="nf">InsertionSort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-83-36" name="__codelineno-83-36" href="#__codelineno-83-36"></a><span class="p">{</span>
<a id="__codelineno-83-37" name="__codelineno-83-37" href="#__codelineno-83-37"></a><span class="w">    </span><span class="c1">// n 表示待排序的元素个数</span>
<a id="__codelineno-83-38" name="__codelineno-83-38" href="#__codelineno-83-38"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-83-39" name="__codelineno-83-39" href="#__codelineno-83-39"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp1</span><span class="p">;</span>
<a id="__codelineno-83-40" name="__codelineno-83-40" href="#__codelineno-83-40"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-83-41" name="__codelineno-83-41" href="#__codelineno-83-41"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-83-42" name="__codelineno-83-42" href="#__codelineno-83-42"></a><span class="w">        </span><span class="n">temp1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-83-43" name="__codelineno-83-43" href="#__codelineno-83-43"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">temp1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">temp</span><span class="p">[</span><span class="n">j</span><span class="mi">-1</span><span class="p">];</span><span class="w"> </span><span class="n">j</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-83-44" name="__codelineno-83-44" href="#__codelineno-83-44"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-83-45" name="__codelineno-83-45" href="#__codelineno-83-45"></a><span class="w">            </span><span class="n">temp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span>
<a id="__codelineno-83-46" name="__codelineno-83-46" href="#__codelineno-83-46"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-83-47" name="__codelineno-83-47" href="#__codelineno-83-47"></a><span class="w">        </span><span class="n">temp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp1</span><span class="p">;</span>
<a id="__codelineno-83-48" name="__codelineno-83-48" href="#__codelineno-83-48"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-49" name="__codelineno-83-49" href="#__codelineno-83-49"></a><span class="p">}</span>
<a id="__codelineno-83-50" name="__codelineno-83-50" href="#__codelineno-83-50"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Qsort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-83-51" name="__codelineno-83-51" href="#__codelineno-83-51"></a><span class="p">{</span>
<a id="__codelineno-83-52" name="__codelineno-83-52" href="#__codelineno-83-52"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-83-53" name="__codelineno-83-53" href="#__codelineno-83-53"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">pivot</span><span class="p">;</span>
<a id="__codelineno-83-54" name="__codelineno-83-54" href="#__codelineno-83-54"></a><span class="w">    </span><span class="c1">// 当数组长度较大时，采用快速排序</span>
<a id="__codelineno-83-55" name="__codelineno-83-55" href="#__codelineno-83-55"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Cutoff</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">high</span><span class="p">)</span>
<a id="__codelineno-83-56" name="__codelineno-83-56" href="#__codelineno-83-56"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-83-57" name="__codelineno-83-57" href="#__codelineno-83-57"></a><span class="w">        </span><span class="c1">// 经过Median3操作之后，pivot的位置和high-1进行了互换</span>
<a id="__codelineno-83-58" name="__codelineno-83-58" href="#__codelineno-83-58"></a><span class="w">        </span><span class="c1">// 在最后时刻，应该将pivot的位置和high - 1进行互换</span>
<a id="__codelineno-83-59" name="__codelineno-83-59" href="#__codelineno-83-59"></a><span class="w">        </span><span class="n">pivot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Median3</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-83-60" name="__codelineno-83-60" href="#__codelineno-83-60"></a><span class="w">        </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">low</span><span class="p">;</span>
<a id="__codelineno-83-61" name="__codelineno-83-61" href="#__codelineno-83-61"></a><span class="w">        </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 此时，temp[high - 1] = pivot</span>
<a id="__codelineno-83-62" name="__codelineno-83-62" href="#__codelineno-83-62"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-83-63" name="__codelineno-83-63" href="#__codelineno-83-63"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-83-64" name="__codelineno-83-64" href="#__codelineno-83-64"></a><span class="w">            </span><span class="c1">// 此时，temp[low] &lt;= temp[high - 1]</span>
<a id="__codelineno-83-65" name="__codelineno-83-65" href="#__codelineno-83-65"></a><span class="w">            </span><span class="c1">// 所以，不需要考虑temp[low]的情况</span>
<a id="__codelineno-83-66" name="__codelineno-83-66" href="#__codelineno-83-66"></a><span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="o">++</span><span class="n">i</span><span class="p">]</span><span class="w">  </span><span class="o">&lt;</span><span class="w"> </span><span class="n">pivot</span><span class="p">){}</span>
<a id="__codelineno-83-67" name="__codelineno-83-67" href="#__codelineno-83-67"></a><span class="w">            </span><span class="c1">// temp[high - 1] 初始状态下是pivot，自动通过</span>
<a id="__codelineno-83-68" name="__codelineno-83-68" href="#__codelineno-83-68"></a><span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="o">--</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">pivot</span><span class="p">){}</span>
<a id="__codelineno-83-69" name="__codelineno-83-69" href="#__codelineno-83-69"></a><span class="w">            </span><span class="c1">// 找到一对逆序对，交换</span>
<a id="__codelineno-83-70" name="__codelineno-83-70" href="#__codelineno-83-70"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">j</span><span class="p">)</span>
<a id="__codelineno-83-71" name="__codelineno-83-71" href="#__codelineno-83-71"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-83-72" name="__codelineno-83-72" href="#__codelineno-83-72"></a><span class="w">                </span><span class="n">Swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
<a id="__codelineno-83-73" name="__codelineno-83-73" href="#__codelineno-83-73"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-83-74" name="__codelineno-83-74" href="#__codelineno-83-74"></a><span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-83-75" name="__codelineno-83-75" href="#__codelineno-83-75"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-83-76" name="__codelineno-83-76" href="#__codelineno-83-76"></a><span class="w">        </span><span class="c1">// 此时temp【i】 &gt;= pivot</span>
<a id="__codelineno-83-77" name="__codelineno-83-77" href="#__codelineno-83-77"></a><span class="w">        </span><span class="c1">// temp[high-1] = pivot</span>
<a id="__codelineno-83-78" name="__codelineno-83-78" href="#__codelineno-83-78"></a><span class="w">        </span><span class="c1">// 交换temp[i]和temp[high-1]，使得pivot位于中间</span>
<a id="__codelineno-83-79" name="__codelineno-83-79" href="#__codelineno-83-79"></a><span class="w">        </span><span class="n">Swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">high</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]);</span>
<a id="__codelineno-83-80" name="__codelineno-83-80" href="#__codelineno-83-80"></a><span class="w">        </span><span class="n">Qsort</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-83-81" name="__codelineno-83-81" href="#__codelineno-83-81"></a><span class="w">        </span><span class="n">Qsort</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="p">);</span>
<a id="__codelineno-83-82" name="__codelineno-83-82" href="#__codelineno-83-82"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-83" name="__codelineno-83-83" href="#__codelineno-83-83"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-83-84" name="__codelineno-83-84" href="#__codelineno-83-84"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-83-85" name="__codelineno-83-85" href="#__codelineno-83-85"></a><span class="w">        </span><span class="c1">// 当数组长度较小时，采用插入排序</span>
<a id="__codelineno-83-86" name="__codelineno-83-86" href="#__codelineno-83-86"></a><span class="w">        </span><span class="c1">// 从第low个元素开始，共有high - low + 1个元素</span>
<a id="__codelineno-83-87" name="__codelineno-83-87" href="#__codelineno-83-87"></a><span class="w">        </span><span class="n">InsertionSort</span><span class="p">(</span><span class="n">temp</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">low</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-83-88" name="__codelineno-83-88" href="#__codelineno-83-88"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-89" name="__codelineno-83-89" href="#__codelineno-83-89"></a><span class="p">}</span>
<a id="__codelineno-83-90" name="__codelineno-83-90" href="#__codelineno-83-90"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-83-91" name="__codelineno-83-91" href="#__codelineno-83-91"></a><span class="p">{</span>
<a id="__codelineno-83-92" name="__codelineno-83-92" href="#__codelineno-83-92"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-83-93" name="__codelineno-83-93" href="#__codelineno-83-93"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-83-94" name="__codelineno-83-94" href="#__codelineno-83-94"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
<a id="__codelineno-83-95" name="__codelineno-83-95" href="#__codelineno-83-95"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-83-96" name="__codelineno-83-96" href="#__codelineno-83-96"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-83-97" name="__codelineno-83-97" href="#__codelineno-83-97"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-83-98" name="__codelineno-83-98" href="#__codelineno-83-98"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-99" name="__codelineno-83-99" href="#__codelineno-83-99"></a><span class="w">    </span><span class="c1">// ElementType A[], int low, int high</span>
<a id="__codelineno-83-100" name="__codelineno-83-100" href="#__codelineno-83-100"></a><span class="w">    </span><span class="n">Qsort</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-83-101" name="__codelineno-83-101" href="#__codelineno-83-101"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-83-102" name="__codelineno-83-102" href="#__codelineno-83-102"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-83-103" name="__codelineno-83-103" href="#__codelineno-83-103"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<a id="__codelineno-83-104" name="__codelineno-83-104" href="#__codelineno-83-104"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-105" name="__codelineno-83-105" href="#__codelineno-83-105"></a><span class="p">}</span>
</code></pre></div>
<h2 id="94-bucket-sort">9.4 Bucket Sort<a class="headerlink" href="#94-bucket-sort" title="Permanent link">&para;</a></h2>
<h3 id="941_1">9.4.1 概述<a class="headerlink" href="#941_1" title="Permanent link">&para;</a></h3>
<p><a href="https://so.csdn.net/so/search?q=桶排序&amp;spm=1001.2101.3001.7020">桶排序</a>（Bucket Sort）又称箱排序，是一种比较常用的排序算法。<strong>其算法原理是将数组分到有限数量的桶里，再对每个桶分别排好序（可以是递归使用桶排序，也可以是使用其他排序算法将每个桶分别排好序），最后一次将每个桶中排好序的数输出。</strong></p>
<p>桶排序的思想就是把待排序的数尽量均匀地放到各个桶中，再对各个桶进行局部的排序，最后再按序将各个桶中的数输出，即可得到排好序的数。</p>
<p>这个算法通常适用于输入数据均匀分布在某个范围内的情况。</p>
<h3 id="942_1">9.4.2 算法解析<a class="headerlink" href="#942_1" title="Permanent link">&para;</a></h3>
<ol>
<li>创建桶，首先根据输入数据的范围，创建相应数量的空桶。
   - <strong>确定每个桶所装数据的范围</strong>。给定数据中的最大值max和最小值min，输入数据的总数为n。<span class="arithmatex">\(size = (max - min) / n + 1\)</span>
   - 接下来<strong>计算所需桶的数量</strong>。<span class="arithmatex">\(<span class="arithmatex">\(cnt = (max - min) / size  + 1\)</span>\)</span>
   - <span class="arithmatex">\(size 和 cnt\)</span>确定后，每个桶所存的数据范围也随之确定。第一个桶（min, min + size）,(min + size , min + 2*size ),…..</li>
<li><strong>对每个桶进行排序：</strong> 对每个非空的桶单独进行排序，可以使用其他排序算法，也可以递归地使用桶排序自身。</li>
<li>
<p><strong>合并桶：</strong> 最后，将所有非空桶中的元素按顺序合并起来，得到排序后的结果。</p>
</li>
<li>
<p>复杂度分析
   - 时间复杂度：在最坏情况下，桶排序的时间复杂度为<span class="arithmatex">\(<span class="arithmatex">\(O(n^2)\)</span>\)</span>，其中<span class="arithmatex">\(<span class="arithmatex">\(n\)</span>\)</span>是待排序元素的数量。但是在平均情况下，桶排序的时间复杂度为<span class="arithmatex">\(<span class="arithmatex">\(O(n+k)\)</span>\)</span>，其中<span class="arithmatex">\(<span class="arithmatex">\(k\)</span>\)</span>是桶的数量
   - 空间复杂度：桶排序的空间复杂度取决于桶的数量，<span class="arithmatex">\(O(N+K)\)</span>。
   - 稳定性：桶排序是稳定的，即相等元素的相对顺序在排序后不会改变。</p>
</li>
</ol>
<h2 id="95-radix-sort">9.5 基数排序 Radix Sort<a class="headerlink" href="#95-radix-sort" title="Permanent link">&para;</a></h2>
<h3 id="951">9.5.1 概述<a class="headerlink" href="#951" title="Permanent link">&para;</a></h3>
<p>原理是将整数按位数切割成不同的数字，然后按每个位数分别比较。基数排序的方式可以采用<strong>LSD（Least significant digital）</strong>或<strong>MSD（Most significant digital）</strong>，LSD的排序方式由键值的最右边开始，而MSD则相反，由键值的最左边开始。</p>
<ul>
<li><strong>MSD</strong>：先从高位开始进行排序，在每个关键字上，可采用计数排序</li>
<li><strong>LSD</strong>：先从低位开始进行排序，在每个关键字上，可采用桶排序</li>
</ul>
<h3 id="952">9.5.2.实现逻辑<a class="headerlink" href="#952" title="Permanent link">&para;</a></h3>
<p>① 将所有待比较数值（正整数）统一为同样的数位长度，数位较短的数前面补零。</p>
<p>② 从最低位开始，依次进行一次排序。</p>
<p>③ 这样从最低位排序一直到最高位排序完成以后, 数列就变成一个有序序列。</p>
<ol start="4">
<li>复杂度分析：
   - 时间复杂度：基数排序的时间复杂度为<span class="arithmatex">\(O(d(N+K))\)</span>，其中d是最大整数的位数，N是待排序元素的数量，k是基数（例如十进制中的10）。
   - 空间复杂度：基数排序的空间复杂度取决于存储排序后结果的空间以及存储桶的空间，为<span class="arithmatex">\(<span class="arithmatex">\(O(N+K)\)</span>\)</span>。
   - 稳定性：基数排序是稳定的，即相等元素的相对顺序在排序后不会改变。</li>
</ol>
<p><img alt="image-20231229185436279" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205059.png" /></p>
<p><img alt="image-20231229185053726" src="https://gitee.com/zjdxzn_0/typora-image/raw/master/img/202312291850820.png" /></p>
<h1 id="hashing">十. Hashing<a class="headerlink" href="#hashing" title="Permanent link">&para;</a></h1>
<p><a href="https://blog.csdn.net/weixin_43764974/article/details/131053431">【数据结构与算法】04 哈希表 / 散列表 （哈希函数、哈希冲突、链地址法、开放地址法、SHA256）-CSDN博客</a></p>
<p><img alt="image-20240116204412189" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205307.png" /></p>
<p><img alt="image-20240116210119543" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205478.png" /></p>
<h2 id="101">10.1 基本思想<a class="headerlink" href="#101" title="Permanent link">&para;</a></h2>
<p>Symbol Table ADT:</p>
<ul>
<li>
<p><strong>Objects: A set of name-attribute pairs, where the names are unique</strong></p>
</li>
<li>
<p>操作</p>
</li>
<li>创建散列表</li>
<li>查询关键字是否在散列表中</li>
<li><strong>查询关键字</strong> <strong>Attribute Find(symtab, name)</strong> </li>
<li><strong>插入关键字</strong> <strong>SymTab Insert(symtab, name, attr)</strong></li>
<li><strong>删除关键字 SymTab Delete(symtab, name)</strong> </li>
</ul>
<p><img alt="img" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205402.png" /></p>
<p><code>x</code>是标识符，定义一个<span class="arithmatex">\(<span class="arithmatex">\(hash function\)</span>\)</span>，$$ f(x) = position  of  x  in  ht[] $$也就是<strong>包含x的bucket的索引</strong></p>
<p>这里我们用 T 表示 <code>x</code> 可能的不同值; n 表示 <code>ht[]</code> 中所有不同标识符的个数; <strong>标识符密度(identifier density)</strong>定义为 <span class="arithmatex">\(\dfrac{n}{T}\)</span>; <strong>装载密度(Load density)</strong>定义为<span class="arithmatex">\(\lambda = \dfrac{n}{sb}\)</span> </p>
<ul>
<li>当我们把两个不同的标识符映射到同一个桶里时，<strong>冲突（collision）</strong>发生了<span class="arithmatex">\(f(i_1) = f(x_2), i_1 != i_2\)</span></li>
<li>当我们将一个新的标识符映射到一个满的桶里时，<strong>溢出（overflow）</strong>发生了</li>
<li><code>当s = 1， 冲突和上溢会同时发生</code></li>
</ul>
<p>举个例子：</p>
<p><strong>Mapping</strong> <strong>n</strong> <strong>= 10</strong> <strong>C</strong> <strong>library functions into a hash table</strong> <strong>ht</strong>[ ] with <strong>b</strong> <strong>= 26 buckets and</strong> <strong>s</strong> <strong>= 2.</strong></p>
<ul>
<li>Load density <span class="arithmatex">\(\lambda  = 10 / 52 = 0.19\)</span></li>
<li>为了将首字母a-z映射到0-25，定义<span class="arithmatex">\(f(x) = x[0] - 'a'\)</span></li>
<li><img alt="image-20231230134006052" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205018.png" /></li>
</ul>
<h2 id="102-hash-function">10.2 Hash Function<a class="headerlink" href="#102-hash-function" title="Permanent link">&para;</a></h2>
<h3 id="1021">10.2.1 求余法<a class="headerlink" href="#1021" title="Permanent link">&para;</a></h3>
<p><img alt="image-20231226083012058" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205526.png" /></p>
<p>TableSize 应该是一个素数，这样对随机输入，关键字的分布比较均匀</p>
<p><img alt="image-20231230134131366" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205630.png" /></p>
<p><img alt="image-20231226083558121" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205653.png" /></p>
<p>实际可能的取值仅有3000种，会造成浪费</p>
<p><img alt="image-20231226083746646" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205826.png" /></p>
<p><span class="arithmatex">\(32^i\)</span>实际上是进行移位操作</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="n">Index</span><span class="w"> </span><span class="nf">Hash3</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">TableSize</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="w">    </span><span class="kt">unsigned</span><span class="w">  </span><span class="kt">int</span><span class="w">  </span><span class="n">HashVal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;\0&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-84-5" name="__codelineno-84-5" href="#__codelineno-84-5"></a><span class="w">        </span><span class="n">HashVal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">HashVal</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="o">++</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-84-6" name="__codelineno-84-6" href="#__codelineno-84-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">HashVal</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">TableSize</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-84-7" name="__codelineno-84-7" href="#__codelineno-84-7"></a><span class="p">}</span><span class="w"> </span>
</code></pre></div>
<div class="arithmatex">\[
abcde\\
a * 32^4 + b * 32^3 + c * 32^2 + d * 32 + e \\
 = (((a * 32 + b) * 32 + c) * 32 + d )*32 + e
\]</div>
<h3 id="1022">10.2.2 平方取中法<a class="headerlink" href="#1022" title="Permanent link">&para;</a></h3>
<div class="arithmatex">\[
key = 12345\\
f(x) = x * x\\
取f(x)中间的两位
\]</div>
<h3 id="1023">10.2.3 折叠法<a class="headerlink" href="#1023" title="Permanent link">&para;</a></h3>
<div class="arithmatex">\[
key = 12345\\
f(key) = 12 + 34 + 05 = 51
\]</div>
<h2 id="103-separate-chaining">10.3 Separate Chaining ——解决冲突<a class="headerlink" href="#103-separate-chaining" title="Permanent link">&para;</a></h2>
<p>解决冲突的第一种方法叫作分离链接法。其做法是将散列映射到同一个值的所有元素保存在一个列表中，一般使用链表的方式存储。</p>
<p>结构体定义：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">point</span>
<a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="p">{</span>
<a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Data</span><span class="p">;</span>
<a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="w">    </span><span class="n">ListNode</span><span class="w"> </span><span class="o">*</span><span class="n">Next</span><span class="p">;</span>
<a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="p">}</span><span class="n">ListNode</span><span class="p">;</span>
<a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a><span class="k">typedef</span><span class="w"> </span><span class="n">ListNode</span><span class="w"> </span><span class="o">*</span><span class="n">List</span><span class="p">;</span>
<a id="__codelineno-85-7" name="__codelineno-85-7" href="#__codelineno-85-7"></a><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">point</span>
<a id="__codelineno-85-8" name="__codelineno-85-8" href="#__codelineno-85-8"></a><span class="p">{</span>
<a id="__codelineno-85-9" name="__codelineno-85-9" href="#__codelineno-85-9"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">TableSize</span><span class="p">;</span>
<a id="__codelineno-85-10" name="__codelineno-85-10" href="#__codelineno-85-10"></a><span class="w">    </span><span class="n">List</span><span class="w"> </span><span class="o">*</span><span class="n">TheLists</span><span class="p">;</span>
<a id="__codelineno-85-11" name="__codelineno-85-11" href="#__codelineno-85-11"></a><span class="w">    </span><span class="c1">// 此处List *TheLists等价于List TheLists[]</span>
<a id="__codelineno-85-12" name="__codelineno-85-12" href="#__codelineno-85-12"></a><span class="w">    </span><span class="c1">// List 是 struct ListNode *的别名，是指针</span>
<a id="__codelineno-85-13" name="__codelineno-85-13" href="#__codelineno-85-13"></a><span class="w">    </span><span class="c1">// List *TheLists是指针的指针，是二级指针，也就是一个由指针构成的数组</span>
<a id="__codelineno-85-14" name="__codelineno-85-14" href="#__codelineno-85-14"></a><span class="w">    </span><span class="c1">// 所以能够指向多条链表</span>
<a id="__codelineno-85-15" name="__codelineno-85-15" href="#__codelineno-85-15"></a><span class="p">}</span><span class="n">HashTbl</span><span class="p">;</span>
<a id="__codelineno-85-16" name="__codelineno-85-16" href="#__codelineno-85-16"></a><span class="k">typedef</span><span class="w"> </span><span class="n">HashTbl</span><span class="w"> </span><span class="o">*</span><span class="n">HashTable</span><span class="p">;</span>
</code></pre></div>
<p><img alt="image-20231226085332019" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205773.png" /></p>
<p>创建空表：带头结点</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">NextPrime</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="p">{</span>
<a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="p">;</span>
<a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="w">        </span><span class="c1">// 如果n是偶数，那么n+1是奇数</span>
<a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="w">        </span><span class="n">n</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-86-9" name="__codelineno-86-9" href="#__codelineno-86-9"></a><span class="w">    </span><span class="k">for</span><span class="p">(;</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-86-10" name="__codelineno-86-10" href="#__codelineno-86-10"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-86-11" name="__codelineno-86-11" href="#__codelineno-86-11"></a><span class="w">        </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-86-12" name="__codelineno-86-12" href="#__codelineno-86-12"></a><span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-86-13" name="__codelineno-86-13" href="#__codelineno-86-13"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-86-14" name="__codelineno-86-14" href="#__codelineno-86-14"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-86-15" name="__codelineno-86-15" href="#__codelineno-86-15"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-86-16" name="__codelineno-86-16" href="#__codelineno-86-16"></a><span class="w">                </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-86-17" name="__codelineno-86-17" href="#__codelineno-86-17"></a><span class="w">                </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-86-18" name="__codelineno-86-18" href="#__codelineno-86-18"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-86-19" name="__codelineno-86-19" href="#__codelineno-86-19"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-86-20" name="__codelineno-86-20" href="#__codelineno-86-20"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-86-21" name="__codelineno-86-21" href="#__codelineno-86-21"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-86-22" name="__codelineno-86-22" href="#__codelineno-86-22"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-86-23" name="__codelineno-86-23" href="#__codelineno-86-23"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-86-24" name="__codelineno-86-24" href="#__codelineno-86-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-86-25" name="__codelineno-86-25" href="#__codelineno-86-25"></a><span class="p">}</span>
<a id="__codelineno-86-26" name="__codelineno-86-26" href="#__codelineno-86-26"></a><span class="c1">// Create an empty hash table</span>
<a id="__codelineno-86-27" name="__codelineno-86-27" href="#__codelineno-86-27"></a><span class="n">HashTable</span><span class="w"> </span><span class="nf">Initialize</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">TableSize</span><span class="p">)</span>
<a id="__codelineno-86-28" name="__codelineno-86-28" href="#__codelineno-86-28"></a><span class="p">{</span>
<a id="__codelineno-86-29" name="__codelineno-86-29" href="#__codelineno-86-29"></a><span class="w">    </span><span class="n">HashTable</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-86-30" name="__codelineno-86-30" href="#__codelineno-86-30"></a><span class="w">    </span><span class="c1">// 分配内存空间</span>
<a id="__codelineno-86-31" name="__codelineno-86-31" href="#__codelineno-86-31"></a><span class="w">    </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">HashTbl</span><span class="p">));</span>
<a id="__codelineno-86-32" name="__codelineno-86-32" href="#__codelineno-86-32"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-86-33" name="__codelineno-86-33" href="#__codelineno-86-33"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-86-34" name="__codelineno-86-34" href="#__codelineno-86-34"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Out of space!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-86-35" name="__codelineno-86-35" href="#__codelineno-86-35"></a><span class="w">        </span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-86-36" name="__codelineno-86-36" href="#__codelineno-86-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-86-37" name="__codelineno-86-37" href="#__codelineno-86-37"></a><span class="w">    </span><span class="c1">// 初始化HashTable</span>
<a id="__codelineno-86-38" name="__codelineno-86-38" href="#__codelineno-86-38"></a><span class="w">    </span><span class="c1">// 要求hash表的大小是一个素数</span>
<a id="__codelineno-86-39" name="__codelineno-86-39" href="#__codelineno-86-39"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TableSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NextPrime</span><span class="p">(</span><span class="n">TableSize</span><span class="p">);</span>
<a id="__codelineno-86-40" name="__codelineno-86-40" href="#__codelineno-86-40"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheLists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">List</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TableSize</span><span class="p">);</span>
<a id="__codelineno-86-41" name="__codelineno-86-41" href="#__codelineno-86-41"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheLists</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-86-42" name="__codelineno-86-42" href="#__codelineno-86-42"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-86-43" name="__codelineno-86-43" href="#__codelineno-86-43"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Out of space!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-86-44" name="__codelineno-86-44" href="#__codelineno-86-44"></a><span class="w">        </span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-86-45" name="__codelineno-86-45" href="#__codelineno-86-45"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-86-46" name="__codelineno-86-46" href="#__codelineno-86-46"></a><span class="w">    </span><span class="c1">// 初始化每个链表的头结点</span>
<a id="__codelineno-86-47" name="__codelineno-86-47" href="#__codelineno-86-47"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TableSize</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-86-48" name="__codelineno-86-48" href="#__codelineno-86-48"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-86-49" name="__codelineno-86-49" href="#__codelineno-86-49"></a><span class="w">        </span><span class="c1">// List 对应的是 ListNode*，是指针</span>
<a id="__codelineno-86-50" name="__codelineno-86-50" href="#__codelineno-86-50"></a><span class="w">        </span><span class="c1">// 一整个TheLists[i]都是一个指针，指向一个链表</span>
<a id="__codelineno-86-51" name="__codelineno-86-51" href="#__codelineno-86-51"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheLists</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">ListNode</span><span class="p">));</span>
<a id="__codelineno-86-52" name="__codelineno-86-52" href="#__codelineno-86-52"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheLists</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-86-53" name="__codelineno-86-53" href="#__codelineno-86-53"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-86-54" name="__codelineno-86-54" href="#__codelineno-86-54"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Out of space!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-86-55" name="__codelineno-86-55" href="#__codelineno-86-55"></a><span class="w">            </span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-86-56" name="__codelineno-86-56" href="#__codelineno-86-56"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-86-57" name="__codelineno-86-57" href="#__codelineno-86-57"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-86-58" name="__codelineno-86-58" href="#__codelineno-86-58"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-86-59" name="__codelineno-86-59" href="#__codelineno-86-59"></a><span class="w">            </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheLists</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">Next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-86-60" name="__codelineno-86-60" href="#__codelineno-86-60"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-86-61" name="__codelineno-86-61" href="#__codelineno-86-61"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-86-62" name="__codelineno-86-62" href="#__codelineno-86-62"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">H</span><span class="p">;</span>
<a id="__codelineno-86-63" name="__codelineno-86-63" href="#__codelineno-86-63"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Find a key from a hash table</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="c1">// Hash function</span>
<a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="kt">int</span><span class="w"> </span><span class="nf">Hash</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">TableSize</span><span class="p">)</span>
<a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="p">{</span>
<a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">TableSize</span><span class="p">;</span>
<a id="__codelineno-87-5" name="__codelineno-87-5" href="#__codelineno-87-5"></a><span class="p">}</span>
<a id="__codelineno-87-6" name="__codelineno-87-6" href="#__codelineno-87-6"></a><span class="c1">// Find a key from a hash table</span>
<a id="__codelineno-87-7" name="__codelineno-87-7" href="#__codelineno-87-7"></a><span class="n">ListNode</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">Find</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">HashTable</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-87-8" name="__codelineno-87-8" href="#__codelineno-87-8"></a><span class="p">{</span>
<a id="__codelineno-87-9" name="__codelineno-87-9" href="#__codelineno-87-9"></a><span class="w">    </span><span class="n">ListNode</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">;</span>
<a id="__codelineno-87-10" name="__codelineno-87-10" href="#__codelineno-87-10"></a><span class="w">    </span><span class="n">List</span><span class="w"> </span><span class="n">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheLists</span><span class="p">[</span><span class="n">Hash</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TableSize</span><span class="p">)];</span>
<a id="__codelineno-87-11" name="__codelineno-87-11" href="#__codelineno-87-11"></a><span class="w">    </span><span class="c1">// 头结点不存储数据</span>
<a id="__codelineno-87-12" name="__codelineno-87-12" href="#__codelineno-87-12"></a><span class="w">    </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">;</span>
<a id="__codelineno-87-13" name="__codelineno-87-13" href="#__codelineno-87-13"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">p</span><span class="o">-&gt;</span><span class="n">Data</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-87-14" name="__codelineno-87-14" href="#__codelineno-87-14"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-87-15" name="__codelineno-87-15" href="#__codelineno-87-15"></a><span class="w">        </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">;</span>
<a id="__codelineno-87-16" name="__codelineno-87-16" href="#__codelineno-87-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-87-17" name="__codelineno-87-17" href="#__codelineno-87-17"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
<a id="__codelineno-87-18" name="__codelineno-87-18" href="#__codelineno-87-18"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Insert a key into a hash table</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="c1">// Insert a key into a hash table</span>
<a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Insert</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">HashTable</span><span class="w"> </span><span class="n">H</span><span class="p">)</span>
<a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="p">{</span>
<a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a><span class="w">    </span><span class="n">ListNode</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">newcell</span><span class="p">;</span>
<a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a><span class="w">    </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="p">);</span>
<a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-88-7" name="__codelineno-88-7" href="#__codelineno-88-7"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-88-8" name="__codelineno-88-8" href="#__codelineno-88-8"></a><span class="w">        </span><span class="c1">// 也就是说，key不存在</span>
<a id="__codelineno-88-9" name="__codelineno-88-9" href="#__codelineno-88-9"></a><span class="w">        </span><span class="n">newcell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">ListNode</span><span class="p">));</span>
<a id="__codelineno-88-10" name="__codelineno-88-10" href="#__codelineno-88-10"></a><span class="w">        </span><span class="n">List</span><span class="w"> </span><span class="n">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheLists</span><span class="p">[</span><span class="n">Hash</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TableSize</span><span class="p">)];</span>
<a id="__codelineno-88-11" name="__codelineno-88-11" href="#__codelineno-88-11"></a><span class="w">        </span><span class="n">newcell</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">;</span>
<a id="__codelineno-88-12" name="__codelineno-88-12" href="#__codelineno-88-12"></a><span class="w">        </span><span class="n">L</span><span class="o">-&gt;</span><span class="n">Next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newcell</span><span class="p">;</span>
<a id="__codelineno-88-13" name="__codelineno-88-13" href="#__codelineno-88-13"></a><span class="w">        </span><span class="n">newcell</span><span class="o">-&gt;</span><span class="n">Data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">key</span><span class="p">;</span>
<a id="__codelineno-88-14" name="__codelineno-88-14" href="#__codelineno-88-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-88-15" name="__codelineno-88-15" href="#__codelineno-88-15"></a><span class="w">    </span><span class="c1">// 如果key已经存在，那么就不需要插入了</span>
<a id="__codelineno-88-16" name="__codelineno-88-16" href="#__codelineno-88-16"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="p">{</span>
<a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a><span class="w">    </span><span class="n">HashTable</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Initialize</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-89-6" name="__codelineno-89-6" href="#__codelineno-89-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-89-7" name="__codelineno-89-7" href="#__codelineno-89-7"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-89-8" name="__codelineno-89-8" href="#__codelineno-89-8"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-89-9" name="__codelineno-89-9" href="#__codelineno-89-9"></a><span class="w">        </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">temp</span><span class="p">);</span>
<a id="__codelineno-89-10" name="__codelineno-89-10" href="#__codelineno-89-10"></a><span class="w">        </span><span class="n">Insert</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="p">);</span>
<a id="__codelineno-89-11" name="__codelineno-89-11" href="#__codelineno-89-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-89-12" name="__codelineno-89-12" href="#__codelineno-89-12"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">temp</span><span class="p">);</span>
<a id="__codelineno-89-13" name="__codelineno-89-13" href="#__codelineno-89-13"></a><span class="w">    </span><span class="n">ListNode</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="p">);</span>
<a id="__codelineno-89-14" name="__codelineno-89-14" href="#__codelineno-89-14"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-89-15" name="__codelineno-89-15" href="#__codelineno-89-15"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-89-16" name="__codelineno-89-16" href="#__codelineno-89-16"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Not Found</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-89-17" name="__codelineno-89-17" href="#__codelineno-89-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-89-18" name="__codelineno-89-18" href="#__codelineno-89-18"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-89-19" name="__codelineno-89-19" href="#__codelineno-89-19"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-89-20" name="__codelineno-89-20" href="#__codelineno-89-20"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="o">-&gt;</span><span class="n">Data</span><span class="p">);</span>
<a id="__codelineno-89-21" name="__codelineno-89-21" href="#__codelineno-89-21"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-89-22" name="__codelineno-89-22" href="#__codelineno-89-22"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TableSize</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-89-23" name="__codelineno-89-23" href="#__codelineno-89-23"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-89-24" name="__codelineno-89-24" href="#__codelineno-89-24"></a><span class="w">        </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheLists</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">;</span>
<a id="__codelineno-89-25" name="__codelineno-89-25" href="#__codelineno-89-25"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-89-26" name="__codelineno-89-26" href="#__codelineno-89-26"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-89-27" name="__codelineno-89-27" href="#__codelineno-89-27"></a><span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="o">-&gt;</span><span class="n">Data</span><span class="p">);</span>
<a id="__codelineno-89-28" name="__codelineno-89-28" href="#__codelineno-89-28"></a><span class="w">            </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">;</span>
<a id="__codelineno-89-29" name="__codelineno-89-29" href="#__codelineno-89-29"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-89-30" name="__codelineno-89-30" href="#__codelineno-89-30"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-89-31" name="__codelineno-89-31" href="#__codelineno-89-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-89-32" name="__codelineno-89-32" href="#__codelineno-89-32"></a><span class="p">}</span>
</code></pre></div>
<h2 id="104-open-addressing-another-way-to-solve-collision">10.4 Open Addressing ——another way to solve collision<a class="headerlink" href="#104-open-addressing-another-way-to-solve-collision" title="Permanent link">&para;</a></h2>
<p>开放地址法，当有冲突发生时，尝试选择其他的单元，直到找到空的单元为止。
一般地, <span class="arithmatex">\(ℎ0(X),ℎ1(X),…,\)</span> 其中 <span class="arithmatex">\(h_i(X) \ = \ (Hash(X)+F(i)) \ mod \ TableSize\)</span></p>
<p><span class="arithmatex">\(F(i)\)</span>是偏移量/冲突量</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="nl">Algorithm</span><span class="p">:</span><span class="w"> </span><span class="n">insert</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">table</span>
<a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="p">{</span>
<a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="w">    </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hash</span><span class="p">(</span><span class="n">key</span><span class="p">);</span>
<a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a><span class="w">    </span><span class="n">initialize</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">------</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">probing</span><span class="p">;</span>
<a id="__codelineno-90-5" name="__codelineno-90-5" href="#__codelineno-90-5"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">collision</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-90-6" name="__codelineno-90-6" href="#__codelineno-90-6"></a><span class="w">        </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">hash</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">TableSize</span><span class="p">;</span>
<a id="__codelineno-90-7" name="__codelineno-90-7" href="#__codelineno-90-7"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="p">)</span><span class="w">    </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-90-8" name="__codelineno-90-8" href="#__codelineno-90-8"></a><span class="w">        </span><span class="k">else</span><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-90-9" name="__codelineno-90-9" href="#__codelineno-90-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-90-10" name="__codelineno-90-10" href="#__codelineno-90-10"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-90-11" name="__codelineno-90-11" href="#__codelineno-90-11"></a><span class="w">        </span><span class="n">ERROR</span><span class="w"> </span><span class="p">(</span><span class="err">“</span><span class="n">No</span><span class="w"> </span><span class="n">space</span><span class="w"> </span><span class="n">left</span><span class="err">”</span><span class="p">);</span>
<a id="__codelineno-90-12" name="__codelineno-90-12" href="#__codelineno-90-12"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-90-13" name="__codelineno-90-13" href="#__codelineno-90-13"></a><span class="w">        </span><span class="n">insert</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<a id="__codelineno-90-14" name="__codelineno-90-14" href="#__codelineno-90-14"></a><span class="p">}</span>
</code></pre></div>
<ol>
<li>线性探测法 Linear Probing</li>
</ol>
<p><img alt="image-20231226091413158" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205933.png" /></p>
<p><strong>Cause primary clustering: any key that hashes into the cluster will add to the cluster after several attempts to resolve the collision.</strong></p>
<ol start="2">
<li>平方探测法</li>
</ol>
<p>平方探测法是消除线性探测中一次聚集问题的冲突解决方法。冲突函数为二次函数，一般为 <span class="arithmatex">\(F(i) = i^2\)</span></p>
<blockquote>
<p>定理: 如果使用平方探测，且表的大小是素数，那么当表至少有一半为空时，总能插入一个新的元素。</p>
</blockquote>
<p>对于任意元素 �, 它有 [TableSize/2⌉ 个不同的位置可能放置这个元素。如果最多 $\lfloor TableSize/2 \rfloor $ 位置被使用，那么总能找到放 x 的空单元</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="n">Position</span><span class="w">  </span><span class="nf">Find</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">ElementType</span><span class="w"> </span><span class="n">Key</span><span class="p">,</span><span class="w"> </span><span class="n">HashTable</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="p">{</span>
<a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="w">    </span><span class="n">Position</span><span class="w">  </span><span class="n">CurrentPos</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a><span class="w">    </span><span class="kt">int</span><span class="w">  </span><span class="n">CollisionNum</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a><span class="w">    </span><span class="n">CollisionNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-91-6" name="__codelineno-91-6" href="#__codelineno-91-6"></a><span class="w">    </span><span class="n">CurrentPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Hash</span><span class="p">(</span><span class="w"> </span><span class="n">Key</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TableSize</span><span class="w"> </span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-91-7" name="__codelineno-91-7" href="#__codelineno-91-7"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheCells</span><span class="p">[</span><span class="w"> </span><span class="n">CurrentPos</span><span class="w"> </span><span class="p">].</span><span class="n">Info</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">Empty</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
<a id="__codelineno-91-8" name="__codelineno-91-8" href="#__codelineno-91-8"></a><span class="w">        </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheCells</span><span class="p">[</span><span class="w"> </span><span class="n">CurrentPos</span><span class="w"> </span><span class="p">].</span><span class="n">Element</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">Key</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-91-9" name="__codelineno-91-9" href="#__codelineno-91-9"></a><span class="w">        </span><span class="c1">// 计算简化H(x) + (i + 1) ^2 = H(x) + i^2 + 2(i +1)-1</span>
<a id="__codelineno-91-10" name="__codelineno-91-10" href="#__codelineno-91-10"></a><span class="w">        </span><span class="n">CurrentPos</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="o">++</span><span class="n">CollisionNum</span><span class="w"> </span><span class="err"></span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-91-11" name="__codelineno-91-11" href="#__codelineno-91-11"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">CurrentPos</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TableSize</span><span class="w"> </span><span class="p">)</span><span class="w">  </span><span class="n">CurrentPos</span><span class="w"> </span><span class="err"></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TableSize</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-91-12" name="__codelineno-91-12" href="#__codelineno-91-12"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-91-13" name="__codelineno-91-13" href="#__codelineno-91-13"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CurrentPos</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-91-14" name="__codelineno-91-14" href="#__codelineno-91-14"></a><span class="p">}</span><span class="w"> </span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="kt">void</span><span class="w">  </span><span class="nf">Insert</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">ElementType</span><span class="w"> </span><span class="n">Key</span><span class="p">,</span><span class="w"> </span><span class="n">HashTable</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="w">    </span><span class="n">Position</span><span class="w">  </span><span class="n">Pos</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a><span class="w">    </span><span class="n">Pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find</span><span class="p">(</span><span class="w"> </span><span class="n">Key</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheCells</span><span class="p">[</span><span class="w"> </span><span class="n">Pos</span><span class="w"> </span><span class="p">].</span><span class="n">Info</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">Legitimate</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* OK to insert here */</span><span class="w"> </span>
<a id="__codelineno-92-6" name="__codelineno-92-6" href="#__codelineno-92-6"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheCells</span><span class="p">[</span><span class="w"> </span><span class="n">Pos</span><span class="w"> </span><span class="p">].</span><span class="n">Info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Legitimate</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-92-7" name="__codelineno-92-7" href="#__codelineno-92-7"></a><span class="w">    </span><span class="n">H</span><span class="o">-&gt;</span><span class="n">TheCells</span><span class="p">[</span><span class="w"> </span><span class="n">Pos</span><span class="w"> </span><span class="p">].</span><span class="n">Element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Key</span><span class="p">;</span><span class="w"> </span><span class="cm">/* Probably need strcpy */</span><span class="w"> </span>
<a id="__codelineno-92-8" name="__codelineno-92-8" href="#__codelineno-92-8"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-92-9" name="__codelineno-92-9" href="#__codelineno-92-9"></a><span class="p">}</span><span class="w"> </span>
</code></pre></div>
<blockquote>
<p><strong>平均成功查找和不成功查找次数</strong></p>
<ol>
<li>
<p><strong>成功查找：找到给定数据所需的时间</strong></p>
</li>
<li>
<p><strong>不成功查找：确定给定数不在Hash表中所需的时间，根据hash function 对数据进行分类讨论。</strong></p>
</li>
</ol>
</blockquote>
<p><img alt="image-20240116210706589" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205699.png" /></p>
<p><img alt="image-20240116210716358" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205174.png" /></p>
<p><img alt="image-20240116210851205" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205777.png" /></p>
<p>最少1次，最多N次，平均（N+1）/2</p>
<p><img alt="image-20240116212125378" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205902.png" /></p>
<p><img alt="image-20240116212141060" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205051.png" /></p>
<ol start="3">
<li>Double Hashing</li>
</ol>
<p><img alt="image-20240102081944147" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205342.png" /></p>
<ol start="4">
<li>Rehashing</li>
</ol>
<p><img alt="image-20240102082147336" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205891.png" /></p>
<p><img alt="image-20240102082201691" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202402162205803.png" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../%E5%93%88%E5%B8%8C/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 哈希">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                哈希
              </div>
            </div>
          </a>
        
        
          
          <a href="../../cldf/Digital%20Systems%20and%20Information/" class="md-footer__link md-footer__link--next" aria-label="下一页: Digital Systems and Information">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                Digital Systems and Information
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/rescuerz" target="_blank" rel="noopener" title="My Github Page" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="" target="_blank" rel="noopener" title="My CSDN Blog" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64zm0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0zm32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.path", "navigation.indexes", "navigation.top", "navigation.footer", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../../javascripts/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>